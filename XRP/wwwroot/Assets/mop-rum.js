!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).RUM={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),r}var n={},o={},i={},a={},s={},c={},u={},l={},d={};Object.defineProperty(d,"__esModule",{value:!0}),d._globalThis=void 0,d._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(d,e)}(l);var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.VERSION=void 0,_.VERSION="1.7.0";var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.isCompatible=E._makeCompatibilityCheck=void 0;const p=_,T=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function m(e){const t=new Set([e]),r=new Set,n=e.match(T);if(!n)return()=>!1;const o=+n[1],i=+n[2],a=+n[3];if(null!=n[4])return function(t){return t===e};function s(e){return r.add(e),!1}function c(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;const n=e.match(T);if(!n)return s(e);const u=+n[1],l=+n[2],d=+n[3];return null!=n[4]||o!==u?s(e):0===o?i===l&&a<=d?c(e):s(e):i<=l?c(e):s(e)}}E._makeCompatibilityCheck=m,E.isCompatible=m(p.VERSION),Object.defineProperty(u,"__esModule",{value:!0}),u.unregisterGlobal=u.getGlobal=u.registerGlobal=void 0;const f=l,g=_,A=E,S=g.VERSION.split(".")[0],O=Symbol.for(`opentelemetry.js.api.${S}`),h=f._globalThis;u.registerGlobal=function(e,t,r,n=!1){var o;const i=h[O]=null!==(o=h[O])&&void 0!==o?o:{version:g.VERSION};if(!n&&i[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(i.version!==g.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${g.VERSION}`);return r.error(t.stack||t.message),!1}return i[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${g.VERSION}.`),!0},u.getGlobal=function(e){var t,r;const n=null===(t=h[O])||void 0===t?void 0:t.version;if(n&&(0,A.isCompatible)(n))return null===(r=h[O])||void 0===r?void 0:r[e]},u.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${g.VERSION}.`);const r=h[O];r&&delete r[e]},Object.defineProperty(c,"__esModule",{value:!0}),c.DiagComponentLogger=void 0;const v=u;function y(e,t,r){const n=(0,v.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}c.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return y("debug",this._namespace,e)}error(...e){return y("error",this._namespace,e)}info(...e){return y("info",this._namespace,e)}warn(...e){return y("warn",this._namespace,e)}verbose(...e){return y("verbose",this._namespace,e)}};var b={},N={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiagLogLevel=void 0,(t=e.DiagLogLevel||(e.DiagLogLevel={}))[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"}(N),Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;const P=N;b.createLogLevelDiagLogger=function(e,t){function r(r,n){const o=t[r];return"function"==typeof o&&e>=n?o.bind(t):function(){}}return e<P.DiagLogLevel.NONE?e=P.DiagLogLevel.NONE:e>P.DiagLogLevel.ALL&&(e=P.DiagLogLevel.ALL),t=t||{},{error:r("error",P.DiagLogLevel.ERROR),warn:r("warn",P.DiagLogLevel.WARN),info:r("info",P.DiagLogLevel.INFO),debug:r("debug",P.DiagLogLevel.DEBUG),verbose:r("verbose",P.DiagLogLevel.VERBOSE)}},Object.defineProperty(s,"__esModule",{value:!0}),s.DiagAPI=void 0;const R=c,I=b,C=N,M=u;class L{constructor(){function e(e){return function(...t){const r=(0,M.getGlobal)("diag");if(r)return r[e](...t)}}const t=this;t.setLogger=(e,r={logLevel:C.DiagLogLevel.INFO})=>{var n,o,i;if(e===t){const e=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(n=e.stack)&&void 0!==n?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});const a=(0,M.getGlobal)("diag"),s=(0,I.createLogLevelDiagLogger)(null!==(o=r.logLevel)&&void 0!==o?o:C.DiagLogLevel.INFO,e);if(a&&!r.suppressOverrideMessage){const e=null!==(i=(new Error).stack)&&void 0!==i?i:"<failed to generate stacktrace>";a.warn(`Current logger will be overwritten from ${e}`),s.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,M.registerGlobal)("diag",s,t,!0)},t.disable=()=>{(0,M.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new R.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new L),this._instance}}s.DiagAPI=L;var D={};Object.defineProperty(D,"__esModule",{value:!0}),D.BaggageImpl=void 0;class w{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new w(this._entries);return r._entries.set(e,t),r}removeEntry(e){const t=new w(this._entries);return t._entries.delete(e),t}removeEntries(...e){const t=new w(this._entries);for(const r of e)t._entries.delete(r);return t}clear(){return new w}}D.BaggageImpl=w;var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.baggageEntryMetadataSymbol=void 0,U.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata"),Object.defineProperty(a,"__esModule",{value:!0}),a.baggageEntryMetadataFromString=a.createBaggage=void 0;const B=D,j=U,G=s.DiagAPI.instance();a.createBaggage=function(e={}){return new B.BaggageImpl(new Map(Object.entries(e)))},a.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(G.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:j.baggageEntryMetadataSymbol,toString:()=>e}};var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.ROOT_CONTEXT=x.createContextKey=void 0,x.createContextKey=function(e){return Symbol.for(e)};class V{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,r)=>{const n=new V(t._currentContext);return n._currentContext.set(e,r),n},t.deleteValue=e=>{const r=new V(t._currentContext);return r._currentContext.delete(e),r}}}x.ROOT_CONTEXT=new V;var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.DiagConsoleLogger=void 0;const F=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];k.DiagConsoleLogger=class{constructor(){function e(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(let t=0;t<F.length;t++)this[F[t].n]=e(F[t].c)}};var H={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createNoopMeter=e.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=e.NOOP_OBSERVABLE_GAUGE_METRIC=e.NOOP_OBSERVABLE_COUNTER_METRIC=e.NOOP_UP_DOWN_COUNTER_METRIC=e.NOOP_HISTOGRAM_METRIC=e.NOOP_COUNTER_METRIC=e.NOOP_METER=e.NoopObservableUpDownCounterMetric=e.NoopObservableGaugeMetric=e.NoopObservableCounterMetric=e.NoopObservableMetric=e.NoopHistogramMetric=e.NoopUpDownCounterMetric=e.NoopCounterMetric=e.NoopMetric=e.NoopMeter=void 0;class t{constructor(){}createHistogram(t,r){return e.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return e.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return e.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return e.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return e.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return e.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}e.NoopMeter=t;class r{}e.NoopMetric=r;class n extends r{add(e,t){}}e.NoopCounterMetric=n;class o extends r{add(e,t){}}e.NoopUpDownCounterMetric=o;class i extends r{record(e,t){}}e.NoopHistogramMetric=i;class a{addCallback(e){}removeCallback(e){}}e.NoopObservableMetric=a;class s extends a{}e.NoopObservableCounterMetric=s;class c extends a{}e.NoopObservableGaugeMetric=c;class u extends a{}e.NoopObservableUpDownCounterMetric=u,e.NOOP_METER=new t,e.NOOP_COUNTER_METRIC=new n,e.NOOP_HISTOGRAM_METRIC=new i,e.NOOP_UP_DOWN_COUNTER_METRIC=new o,e.NOOP_OBSERVABLE_COUNTER_METRIC=new s,e.NOOP_OBSERVABLE_GAUGE_METRIC=new c,e.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new u,e.createNoopMeter=function(){return e.NOOP_METER}}(H);var K={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ValueType=void 0,(t=e.ValueType||(e.ValueType={}))[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"}(K);var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.defaultTextMapSetter=X.defaultTextMapGetter=void 0,X.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},X.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}};var W={},Y={},z={},$={};Object.defineProperty($,"__esModule",{value:!0}),$.NoopContextManager=void 0;const q=x;$.NoopContextManager=class{active(){return q.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}},Object.defineProperty(z,"__esModule",{value:!0}),z.ContextAPI=void 0;const Z=u,J=s,Q="context",ee=new $.NoopContextManager;class te{constructor(){}static getInstance(){return this._instance||(this._instance=new te),this._instance}setGlobalContextManager(e){return(0,Z.registerGlobal)(Q,e,J.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,Z.getGlobal)(Q)||ee}disable(){this._getContextManager().disable(),(0,Z.unregisterGlobal)(Q,J.DiagAPI.instance())}}z.ContextAPI=te;var re={},ne={},oe={},ie={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFlags=void 0,(t=e.TraceFlags||(e.TraceFlags={}))[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"}(ie),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=void 0;const t=ie;e.INVALID_SPANID="0000000000000000",e.INVALID_TRACEID="00000000000000000000000000000000",e.INVALID_SPAN_CONTEXT={traceId:e.INVALID_TRACEID,spanId:e.INVALID_SPANID,traceFlags:t.TraceFlags.NONE}}(oe),Object.defineProperty(ne,"__esModule",{value:!0}),ne.NonRecordingSpan=void 0;const ae=oe;ne.NonRecordingSpan=class{constructor(e=ae.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}},Object.defineProperty(re,"__esModule",{value:!0}),re.getSpanContext=re.setSpanContext=re.deleteSpan=re.setSpan=re.getActiveSpan=re.getSpan=void 0;const se=ne,ce=z,ue=(0,x.createContextKey)("OpenTelemetry Context Key SPAN");function le(e){return e.getValue(ue)||void 0}function de(e,t){return e.setValue(ue,t)}re.getSpan=le,re.getActiveSpan=function(){return le(ce.ContextAPI.getInstance().active())},re.setSpan=de,re.deleteSpan=function(e){return e.deleteValue(ue)},re.setSpanContext=function(e,t){return de(e,new se.NonRecordingSpan(t))},re.getSpanContext=function(e){var t;return null===(t=le(e))||void 0===t?void 0:t.spanContext()};var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.wrapSpanContext=_e.isSpanContextValid=_e.isValidSpanId=_e.isValidTraceId=void 0;const Ee=oe,pe=ne,Te=/^([0-9a-f]{32})$/i,me=/^[0-9a-f]{16}$/i;function fe(e){return Te.test(e)&&e!==Ee.INVALID_TRACEID}function ge(e){return me.test(e)&&e!==Ee.INVALID_SPANID}_e.isValidTraceId=fe,_e.isValidSpanId=ge,_e.isSpanContextValid=function(e){return fe(e.traceId)&&ge(e.spanId)},_e.wrapSpanContext=function(e){return new pe.NonRecordingSpan(e)},Object.defineProperty(Y,"__esModule",{value:!0}),Y.NoopTracer=void 0;const Ae=re,Se=ne,Oe=_e,he=z.ContextAPI.getInstance();Y.NoopTracer=class{startSpan(e,t,r=he.active()){if(Boolean(null==t?void 0:t.root))return new Se.NonRecordingSpan;const n=r&&(0,Ae.getSpanContext)(r);return"object"==typeof(o=n)&&"string"==typeof o.spanId&&"string"==typeof o.traceId&&"number"==typeof o.traceFlags&&(0,Oe.isSpanContextValid)(n)?new Se.NonRecordingSpan(n):new Se.NonRecordingSpan;var o}startActiveSpan(e,t,r,n){let o,i,a;if(arguments.length<2)return;2===arguments.length?a=t:3===arguments.length?(o=t,a=r):(o=t,i=r,a=n);const s=null!=i?i:he.active(),c=this.startSpan(e,o,s),u=(0,Ae.setSpan)(s,c);return he.with(u,a,void 0,c)}},Object.defineProperty(W,"__esModule",{value:!0}),W.ProxyTracer=void 0;const ve=new Y.NoopTracer;W.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)}_getTracer(){if(this._delegate)return this._delegate;const e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):ve}};var ye={},be={};Object.defineProperty(be,"__esModule",{value:!0}),be.NoopTracerProvider=void 0;const Ne=Y;be.NoopTracerProvider=class{getTracer(e,t,r){return new Ne.NoopTracer}},Object.defineProperty(ye,"__esModule",{value:!0}),ye.ProxyTracerProvider=void 0;const Pe=W,Re=new be.NoopTracerProvider;ye.ProxyTracerProvider=class{getTracer(e,t,r){var n;return null!==(n=this.getDelegateTracer(e,t,r))&&void 0!==n?n:new Pe.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:Re}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}};var Ie={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(Ie);var Ce={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanKind=void 0,(t=e.SpanKind||(e.SpanKind={}))[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"}(Ce);var Me={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SpanStatusCode=void 0,(t=e.SpanStatusCode||(e.SpanStatusCode={}))[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"}(Me);var Le={},De={},we={};Object.defineProperty(we,"__esModule",{value:!0}),we.validateValue=we.validateKey=void 0;const Ue="[_0-9a-z-*/]",Be=new RegExp(`^(?:${`[a-z]${Ue}{0,255}`}|${`[a-z0-9]${Ue}{0,240}@[a-z]${Ue}{0,13}`})$`),je=/^[ -~]{0,255}[!-~]$/,Ge=/,|=/;we.validateKey=function(e){return Be.test(e)},we.validateValue=function(e){return je.test(e)&&!Ge.test(e)},Object.defineProperty(De,"__esModule",{value:!0}),De.TraceStateImpl=void 0;const xe=we;class Ve{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),n=r.indexOf("=");if(-1!==n){const o=r.slice(0,n),i=r.slice(n+1,t.length);(0,xe.validateKey)(o)&&(0,xe.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new Ve;return e._internalState=new Map(this._internalState),e}}De.TraceStateImpl=Ve,Object.defineProperty(Le,"__esModule",{value:!0}),Le.createTraceState=void 0;const ke=De;Le.createTraceState=function(e){return new ke.TraceStateImpl(e)};var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.context=void 0;const He=z;Fe.context=He.ContextAPI.getInstance();var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.diag=void 0;const Xe=s;Ke.diag=Xe.DiagAPI.instance();var We={},Ye={},ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.NOOP_METER_PROVIDER=ze.NoopMeterProvider=void 0;const $e=H;class qe{getMeter(e,t,r){return $e.NOOP_METER}}ze.NoopMeterProvider=qe,ze.NOOP_METER_PROVIDER=new qe,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.MetricsAPI=void 0;const Ze=ze,Je=u,Qe=s,et="metrics";class tt{constructor(){}static getInstance(){return this._instance||(this._instance=new tt),this._instance}setGlobalMeterProvider(e){return(0,Je.registerGlobal)(et,e,Qe.DiagAPI.instance())}getMeterProvider(){return(0,Je.getGlobal)(et)||Ze.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,Je.unregisterGlobal)(et,Qe.DiagAPI.instance())}}Ye.MetricsAPI=tt,Object.defineProperty(We,"__esModule",{value:!0}),We.metrics=void 0;const rt=Ye;We.metrics=rt.MetricsAPI.getInstance();var nt={},ot={},it={};Object.defineProperty(it,"__esModule",{value:!0}),it.NoopTextMapPropagator=void 0;it.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}};var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.deleteBaggage=at.setBaggage=at.getActiveBaggage=at.getBaggage=void 0;const st=z,ct=(0,x.createContextKey)("OpenTelemetry Baggage Key");function ut(e){return e.getValue(ct)||void 0}at.getBaggage=ut,at.getActiveBaggage=function(){return ut(st.ContextAPI.getInstance().active())},at.setBaggage=function(e,t){return e.setValue(ct,t)},at.deleteBaggage=function(e){return e.deleteValue(ct)},Object.defineProperty(ot,"__esModule",{value:!0}),ot.PropagationAPI=void 0;const lt=u,dt=X,_t=at,Et=a,pt=s,Tt="propagation",mt=new it.NoopTextMapPropagator;class ft{constructor(){this.createBaggage=Et.createBaggage,this.getBaggage=_t.getBaggage,this.getActiveBaggage=_t.getActiveBaggage,this.setBaggage=_t.setBaggage,this.deleteBaggage=_t.deleteBaggage}static getInstance(){return this._instance||(this._instance=new ft),this._instance}setGlobalPropagator(e){return(0,lt.registerGlobal)(Tt,e,pt.DiagAPI.instance())}inject(e,t,r=dt.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=dt.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,lt.unregisterGlobal)(Tt,pt.DiagAPI.instance())}_getGlobalPropagator(){return(0,lt.getGlobal)(Tt)||mt}}ot.PropagationAPI=ft,Object.defineProperty(nt,"__esModule",{value:!0}),nt.propagation=void 0;const gt=ot;nt.propagation=gt.PropagationAPI.getInstance();var At={},St={};Object.defineProperty(St,"__esModule",{value:!0}),St.TraceAPI=void 0;const Ot=u,ht=ye,vt=_e,yt=re,bt=s,Nt="trace";class Pt{constructor(){this._proxyTracerProvider=new ht.ProxyTracerProvider,this.wrapSpanContext=vt.wrapSpanContext,this.isSpanContextValid=vt.isSpanContextValid,this.deleteSpan=yt.deleteSpan,this.getSpan=yt.getSpan,this.getActiveSpan=yt.getActiveSpan,this.getSpanContext=yt.getSpanContext,this.setSpan=yt.setSpan,this.setSpanContext=yt.setSpanContext}static getInstance(){return this._instance||(this._instance=new Pt),this._instance}setGlobalTracerProvider(e){const t=(0,Ot.registerGlobal)(Nt,this._proxyTracerProvider,bt.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,Ot.getGlobal)(Nt)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,Ot.unregisterGlobal)(Nt,bt.DiagAPI.instance()),this._proxyTracerProvider=new ht.ProxyTracerProvider}}St.TraceAPI=Pt,Object.defineProperty(At,"__esModule",{value:!0}),At.trace=void 0;const Rt=St;At.trace=Rt.TraceAPI.getInstance(),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=a;Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return t.baggageEntryMetadataFromString}});var r=x;Object.defineProperty(e,"createContextKey",{enumerable:!0,get:function(){return r.createContextKey}}),Object.defineProperty(e,"ROOT_CONTEXT",{enumerable:!0,get:function(){return r.ROOT_CONTEXT}});var n=k;Object.defineProperty(e,"DiagConsoleLogger",{enumerable:!0,get:function(){return n.DiagConsoleLogger}});var o=N;Object.defineProperty(e,"DiagLogLevel",{enumerable:!0,get:function(){return o.DiagLogLevel}});var i=H;Object.defineProperty(e,"createNoopMeter",{enumerable:!0,get:function(){return i.createNoopMeter}});var s=K;Object.defineProperty(e,"ValueType",{enumerable:!0,get:function(){return s.ValueType}});var c=X;Object.defineProperty(e,"defaultTextMapGetter",{enumerable:!0,get:function(){return c.defaultTextMapGetter}}),Object.defineProperty(e,"defaultTextMapSetter",{enumerable:!0,get:function(){return c.defaultTextMapSetter}});var u=W;Object.defineProperty(e,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var l=ye;Object.defineProperty(e,"ProxyTracerProvider",{enumerable:!0,get:function(){return l.ProxyTracerProvider}});var d=Ie;Object.defineProperty(e,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var _=Ce;Object.defineProperty(e,"SpanKind",{enumerable:!0,get:function(){return _.SpanKind}});var E=Me;Object.defineProperty(e,"SpanStatusCode",{enumerable:!0,get:function(){return E.SpanStatusCode}});var p=ie;Object.defineProperty(e,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var T=Le;Object.defineProperty(e,"createTraceState",{enumerable:!0,get:function(){return T.createTraceState}});var m=_e;Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return m.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return m.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return m.isValidSpanId}});var f=oe;Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return f.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return f.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return f.INVALID_SPAN_CONTEXT}});const g=Fe;Object.defineProperty(e,"context",{enumerable:!0,get:function(){return g.context}});const A=Ke;Object.defineProperty(e,"diag",{enumerable:!0,get:function(){return A.diag}});const S=We;Object.defineProperty(e,"metrics",{enumerable:!0,get:function(){return S.metrics}});const O=nt;Object.defineProperty(e,"propagation",{enumerable:!0,get:function(){return O.propagation}});const h=At;Object.defineProperty(e,"trace",{enumerable:!0,get:function(){return h.trace}}),e.default={context:g.context,diag:A.diag,metrics:S.metrics,propagation:O.propagation,trace:h.trace}}(i);var It={};Object.defineProperty(It,"__esModule",{value:!0}),It.disableInstrumentations=It.enableInstrumentations=It.parseInstrumentationOptions=void 0,It.parseInstrumentationOptions=function e(t=[]){let r=[];for(let n=0,o=t.length;n<o;n++){const o=t[n];if(Array.isArray(o)){const t=e(o);r=r.concat(t.instrumentations)}else"function"==typeof o?r.push(new o):o.instrumentationName&&r.push(o)}return{instrumentations:r}},It.enableInstrumentations=function(e,t,r){for(let n=0,o=e.length;n<o;n++){const o=e[n];t&&o.setTracerProvider(t),r&&o.setMeterProvider(r),o.getConfig().enabled||o.enable()}},It.disableInstrumentations=function(e){e.forEach((e=>e.disable()))},Object.defineProperty(o,"__esModule",{value:!0}),o.registerInstrumentations=void 0;const Ct=i,Mt=It;o.registerInstrumentations=function(e){const{instrumentations:t}=(0,Mt.parseInstrumentationOptions)(e.instrumentations),r=e.tracerProvider||Ct.trace.getTracerProvider(),n=e.meterProvider||Ct.metrics.getMeterProvider();return(0,Mt.enableInstrumentations)(t,r,n),()=>{(0,Mt.disableInstrumentations)(t)}};var Lt={},Dt={},wt={};function Ut(e){return"function"==typeof e}var Bt=console.error.bind(console);function jt(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}function Gt(e){e&&e.logger&&(Ut(e.logger)?Bt=e.logger:Bt("new logger isn't a function, not replacing"))}function xt(e,t,r){if(e&&e[t]){if(!r)return Bt("no wrapper function"),void Bt((new Error).stack);if(Ut(e[t])&&Ut(r)){var n=e[t],o=r(n,t);return jt(o,"__original",n),jt(o,"__unwrap",(function(){e[t]===o&&jt(e,t,n)})),jt(o,"__wrapped",!0),jt(e,t,o),o}Bt("original object and wrapper must be functions")}else Bt("no original function "+t+" to wrap")}function Vt(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void Bt("no original to unwrap to -- has "+t+" already been unwrapped?"):(Bt("no function to unwrap."),void Bt((new Error).stack))}Gt.wrap=xt,Gt.massWrap=function(e,t,r){if(!e)return Bt("must provide one or more modules to patch"),void Bt((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){xt(e,t,r)}))})):Bt("must provide one or more functions to wrap on modules")},Gt.unwrap=Vt,Gt.massUnwrap=function(e,t){if(!e)return Bt("must provide one or more modules to patch"),void Bt((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){Vt(e,t)}))})):Bt("must provide one or more functions to unwrap on modules")};var kt=Gt;Object.defineProperty(wt,"__esModule",{value:!0}),wt.InstrumentationAbstract=void 0;const Ft=i,Ht=kt;wt.InstrumentationAbstract=class{constructor(e,t,r={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Ht.wrap,this._unwrap=Ht.unwrap,this._massWrap=Ht.massWrap,this._massUnwrap=Ht.massUnwrap,this._config=Object.assign({enabled:!0},r),this._diag=Ft.diag.createComponentLogger({namespace:e}),this._tracer=Ft.trace.getTracer(e,t),this._meter=Ft.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}},Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.InstrumentationBase=void 0;const Kt=wt;let Xt=class extends Kt.InstrumentationAbstract{constructor(e,t,r={}){super(e,t,r),this._config.enabled&&this.enable()}};Dt.InstrumentationBase=Xt,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InstrumentationBase=void 0;var t=Dt;Object.defineProperty(e,"InstrumentationBase",{enumerable:!0,get:function(){return t.InstrumentationBase}})}(Lt);var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.InstrumentationNodeModuleDefinition=void 0;Wt.InstrumentationNodeModuleDefinition=class{constructor(e,t,r,n,o){this.name=e,this.supportedVersions=t,this.patch=r,this.unpatch=n,this.files=o||[]}};var Yt={};function zt(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var $t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,qt=function(e){return $t.exec(e).slice(1)};function Zt(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:"/";if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=zt(ar(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function Jt(e){var t=Qt(e),r="/"===sr(e,-1);return(e=zt(ar(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function Qt(e){return"/"===e.charAt(0)}function er(){return Jt(ar(Array.prototype.slice.call(arguments,0),(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function tr(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Zt(e).substr(1),t=Zt(t).substr(1);for(var n=r(e.split("/")),o=r(t.split("/")),i=Math.min(n.length,o.length),a=i,s=0;s<i;s++)if(n[s]!==o[s]){a=s;break}var c=[];for(s=a;s<n.length;s++)c.push("..");return(c=c.concat(o.slice(a))).join("/")}function rr(e){var t=qt(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."}function nr(e,t){var r=qt(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function or(e){return qt(e)[3]}var ir={extname:or,basename:nr,dirname:rr,sep:"/",delimiter:":",relative:tr,join:er,isAbsolute:Qt,normalize:Jt,resolve:Zt};function ar(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var sr="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)},cr=r(Object.freeze({__proto__:null,basename:nr,default:ir,delimiter:":",dirname:rr,extname:or,isAbsolute:Qt,join:er,normalize:Jt,relative:tr,resolve:Zt,sep:"/"}));Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.InstrumentationNodeModuleFile=void 0;const ur=cr;Yt.InstrumentationNodeModuleFile=class{constructor(e,t,r,n){this.supportedVersions=t,this.patch=r,this.unpatch=n,this.name=(0,ur.normalize)(e)}};var lr={};Object.defineProperty(lr,"__esModule",{value:!0});var dr={};Object.defineProperty(dr,"__esModule",{value:!0});var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.isWrapped=_r.safeExecuteInTheMiddleAsync=_r.safeExecuteInTheMiddle=void 0,_r.safeExecuteInTheMiddle=function(e,t,r){let n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},_r.safeExecuteInTheMiddleAsync=async function(e,t,r){let n,o;try{o=await e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},_r.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.InstrumentationNodeModuleFile=e.InstrumentationNodeModuleDefinition=e.InstrumentationBase=void 0,n(o,e);var i=Lt;Object.defineProperty(e,"InstrumentationBase",{enumerable:!0,get:function(){return i.InstrumentationBase}});var a=Wt;Object.defineProperty(e,"InstrumentationNodeModuleDefinition",{enumerable:!0,get:function(){return a.InstrumentationNodeModuleDefinition}});var s=Yt;Object.defineProperty(e,"InstrumentationNodeModuleFile",{enumerable:!0,get:function(){return s.InstrumentationNodeModuleFile}}),n(lr,e),n(dr,e),n(_r,e)}(n);var Er={},pr={},Tr={},mr={},fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.isTracingSuppressed=fr.unsuppressTracing=fr.suppressTracing=void 0;const gr=(0,i.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");fr.suppressTracing=function(e){return e.setValue(gr,!0)},fr.unsuppressTracing=function(e){return e.deleteValue(gr)},fr.isTracingSuppressed=function(e){return!0===e.getValue(gr)};var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.BAGGAGE_MAX_TOTAL_LENGTH=Ar.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Ar.BAGGAGE_MAX_NAME_VALUE_PAIRS=Ar.BAGGAGE_HEADER=Ar.BAGGAGE_ITEMS_SEPARATOR=Ar.BAGGAGE_PROPERTIES_SEPARATOR=Ar.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,Ar.BAGGAGE_KEY_PAIR_SEPARATOR="=",Ar.BAGGAGE_PROPERTIES_SEPARATOR=";",Ar.BAGGAGE_ITEMS_SEPARATOR=",",Ar.BAGGAGE_HEADER="baggage",Ar.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,Ar.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,Ar.BAGGAGE_MAX_TOTAL_LENGTH=8192;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.parseKeyPairsIntoRecord=Sr.parsePairKeyValue=Sr.getKeyPairs=Sr.serializeKeyPairs=void 0;const Or=i,hr=Ar;function vr(e){const t=e.split(hr.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.indexOf(hr.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;const o=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim());let a;return t.length>0&&(a=(0,Or.baggageEntryMetadataFromString)(t.join(hr.BAGGAGE_PROPERTIES_SEPARATOR))),{key:o,value:i,metadata:a}}Sr.serializeKeyPairs=function(e){return e.reduce(((e,t)=>{const r=`${e}${""!==e?hr.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>hr.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")},Sr.getKeyPairs=function(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=hr.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),r}))},Sr.parsePairKeyValue=vr,Sr.parseKeyPairsIntoRecord=function(e){return"string"!=typeof e||0===e.length?{}:e.split(hr.BAGGAGE_ITEMS_SEPARATOR).map((e=>vr(e))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},Object.defineProperty(mr,"__esModule",{value:!0}),mr.W3CBaggagePropagator=void 0;const yr=i,br=fr,Nr=Ar,Pr=Sr;mr.W3CBaggagePropagator=class{inject(e,t,r){const n=yr.propagation.getBaggage(e);if(!n||(0,br.isTracingSuppressed)(e))return;const o=(0,Pr.getKeyPairs)(n).filter((e=>e.length<=Nr.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,Nr.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,Pr.serializeKeyPairs)(o);i.length>0&&r.set(t,Nr.BAGGAGE_HEADER,i)}extract(e,t,r){const n=r.get(t,Nr.BAGGAGE_HEADER),o=Array.isArray(n)?n.join(Nr.BAGGAGE_ITEMS_SEPARATOR):n;if(!o)return e;const i={};if(0===o.length)return e;return o.split(Nr.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{const t=(0,Pr.parsePairKeyValue)(e);if(t){const e={value:t.value};t.metadata&&(e.metadata=t.metadata),i[t.key]=e}})),0===Object.entries(i).length?e:yr.propagation.setBaggage(e,yr.propagation.createBaggage(i))}fields(){return[Nr.BAGGAGE_HEADER]}};var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.AnchoredClock=void 0;Rr.AnchoredClock=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.isAttributeValue=Ir.isAttributeKey=Ir.sanitizeAttributes=void 0;const Cr=i;function Mr(e){return"string"==typeof e&&e.length>0}function Lr(e){return null==e||(Array.isArray(e)?function(e){let t;for(const r of e)if(null!=r){if(!t){if(Dr(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):Dr(e))}function Dr(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Ir.sanitizeAttributes=function(e){const t={};if("object"!=typeof e||null==e)return t;for(const[r,n]of Object.entries(e))Mr(r)?Lr(n)?Array.isArray(n)?t[r]=n.slice():t[r]=n:Cr.diag.warn(`Invalid attribute value set for key: ${r}`):Cr.diag.warn(`Invalid attribute key: ${r}`);return t},Ir.isAttributeKey=Mr,Ir.isAttributeValue=Lr;var wr={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.loggingErrorHandler=void 0;const Br=i;Ur.loggingErrorHandler=function(){return e=>{Br.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){const t={};let r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}},Object.defineProperty(wr,"__esModule",{value:!0}),wr.globalErrorHandler=wr.setGlobalErrorHandler=void 0;let jr=(0,Ur.loggingErrorHandler)();wr.setGlobalErrorHandler=function(e){jr=e},wr.globalErrorHandler=function(e){try{jr(e)}catch(e){}};var Gr={},xr={},Vr={},kr="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function Fr(){throw new Error("setTimeout has not been defined")}function Hr(){throw new Error("clearTimeout has not been defined")}var Kr=Fr,Xr=Hr;function Wr(e){if(Kr===setTimeout)return setTimeout(e,0);if((Kr===Fr||!Kr)&&setTimeout)return Kr=setTimeout,setTimeout(e,0);try{return Kr(e,0)}catch(t){try{return Kr.call(null,e,0)}catch(t){return Kr.call(this,e,0)}}}"function"==typeof kr.setTimeout&&(Kr=setTimeout),"function"==typeof kr.clearTimeout&&(Xr=clearTimeout);var Yr,zr=[],$r=!1,qr=-1;function Zr(){$r&&Yr&&($r=!1,Yr.length?zr=Yr.concat(zr):qr=-1,zr.length&&Jr())}function Jr(){if(!$r){var e=Wr(Zr);$r=!0;for(var t=zr.length;t;){for(Yr=zr,zr=[];++qr<t;)Yr&&Yr[qr].run();qr=-1,t=zr.length}Yr=null,$r=!1,function(e){if(Xr===clearTimeout)return clearTimeout(e);if((Xr===Hr||!Xr)&&clearTimeout)return Xr=clearTimeout,clearTimeout(e);try{return Xr(e)}catch(t){try{return Xr.call(null,e)}catch(t){return Xr.call(this,e)}}}(e)}}function Qr(e,t){this.fun=e,this.array=t}Qr.prototype.run=function(){this.fun.apply(null,this.array)};function en(){}var tn=en,rn=en,nn=en,on=en,an=en,sn=en,cn=en;var un=kr.performance||{},ln=un.now||un.mozNow||un.msNow||un.oNow||un.webkitNow||function(){return(new Date).getTime()};var dn=new Date;var _n={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];zr.push(new Qr(e,t)),1!==zr.length||$r||Wr(Jr)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:tn,addListener:rn,once:nn,off:on,removeListener:an,removeAllListeners:sn,emit:cn,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*ln.call(un),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-dn)/1e3}},En={},pn={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(pn);var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn._globalThis=void 0,Tn._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getEnvWithoutDefaults=e.parseEnvironment=e.DEFAULT_ENVIRONMENT=e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const t=i,r=pn,n=Tn,o=",",a=["OTEL_SDK_DISABLED"];function s(e){return a.indexOf(e)>-1}const c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}const l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}function _(e,t,r){if(void 0===r[e])return;const n=String(r[e]);t[e]="true"===n.toLowerCase()}function E(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function p(e,t,r,n=o){const i=r[e];"string"==typeof i&&(t[e]=i.split(n).map((e=>e.trim())))}e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,e.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};const T={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function m(e,t,r){const n=r[e];if("string"==typeof n){const r=T[n.toUpperCase()];null!=r&&(t[e]=r)}}function f(t){const r={};for(const n in e.DEFAULT_ENVIRONMENT){const e=n;if("OTEL_LOG_LEVEL"===e)m(e,r,t);else if(s(e))_(e,r,t);else if(u(e))E(e,r,t);else if(d(e))p(e,r,t);else{const n=t[e];null!=n&&(r[e]=String(n))}}return r}e.parseEnvironment=f,e.getEnvWithoutDefaults=function(){return f(void 0!==_n&&_n&&_n.env?_n.env:n._globalThis)}}(En),Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.getEnv=void 0;const mn=En,fn=Tn;Vr.getEnv=function(){const e=(0,mn.parseEnvironment)(fn._globalThis);return Object.assign({},mn.DEFAULT_ENVIRONMENT,e)};var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.hexToBase64=void 0,gn.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)};var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.RandomIdGenerator=void 0;An.RandomIdGenerator=class{constructor(){this.generateTraceId=On(16),this.generateSpanId=On(8)}};const Sn=Array(32);function On(e){return function(){for(let t=0;t<2*e;t++)Sn[t]=Math.floor(16*Math.random())+48,Sn[t]>=58&&(Sn[t]+=39);return String.fromCharCode.apply(null,Sn.slice(0,2*e))}}var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.otperformance=void 0,hn.otperformance=performance;var vn={},yn={};Object.defineProperty(yn,"__esModule",{value:!0}),yn.VERSION=void 0,yn.VERSION="1.19.0";var bn={},Nn={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.MessageTypeValues=Pn.RpcGrpcStatusCodeValues=Pn.MessagingOperationValues=Pn.MessagingDestinationKindValues=Pn.HttpFlavorValues=Pn.NetHostConnectionSubtypeValues=Pn.NetHostConnectionTypeValues=Pn.NetTransportValues=Pn.FaasInvokedProviderValues=Pn.FaasDocumentOperationValues=Pn.FaasTriggerValues=Pn.DbCassandraConsistencyLevelValues=Pn.DbSystemValues=Pn.SemanticAttributes=void 0,Pn.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},Pn.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},Pn.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},Pn.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},Pn.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},Pn.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},Pn.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},Pn.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},Pn.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},Pn.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},Pn.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},Pn.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},Pn.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},Pn.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Pn,e)}(Nn);var Rn={},In={};Object.defineProperty(In,"__esModule",{value:!0}),In.TelemetrySdkLanguageValues=In.OsTypeValues=In.HostArchValues=In.AwsEcsLaunchtypeValues=In.CloudPlatformValues=In.CloudProviderValues=In.SemanticResourceAttributes=void 0,In.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},In.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},In.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},In.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},In.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},In.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},In.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(In,e)}(Rn),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Nn,e),n(Rn,e)}(bn),Object.defineProperty(vn,"__esModule",{value:!0}),vn.SDK_INFO=void 0;const Cn=yn,Mn=bn;vn.SDK_INFO={[Mn.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[Mn.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[Mn.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:Mn.TelemetrySdkLanguageValues.WEBJS,[Mn.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Cn.VERSION};var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.unrefTimer=void 0,Ln.unrefTimer=function(e){},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Vr,e),n(Tn,e),n(gn,e),n(An,e),n(hn,e),n(vn,e),n(Ln,e)}(xr),Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.addHrTimes=Gr.isTimeInput=Gr.isTimeInputHrTime=Gr.hrTimeToMicroseconds=Gr.hrTimeToMilliseconds=Gr.hrTimeToNanoseconds=Gr.hrTimeToTimeStamp=Gr.hrTimeDuration=Gr.timeInputToHrTime=Gr.hrTime=Gr.getTimeOrigin=Gr.millisToHrTime=void 0;const Dn=xr,wn=Math.pow(10,6),Un=Math.pow(10,9);function Bn(e){const t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*wn)]}function jn(){let e=Dn.otperformance.timeOrigin;if("number"!=typeof e){const t=Dn.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Gn(e){return Vn(Bn(jn()),Bn("number"==typeof e?e:Dn.otperformance.now()))}function xn(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function Vn(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=Un&&(r[1]-=Un,r[0]+=1),r}Gr.millisToHrTime=Bn,Gr.getTimeOrigin=jn,Gr.hrTime=Gn,Gr.timeInputToHrTime=function(e){if(xn(e))return e;if("number"==typeof e)return e<jn()?Gn(e):Bn(e);if(e instanceof Date)return Bn(e.getTime());throw TypeError("Invalid input type")},Gr.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=Un),[r,n]},Gr.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},Gr.hrTimeToNanoseconds=function(e){return e[0]*Un+e[1]},Gr.hrTimeToMilliseconds=function(e){return 1e3*e[0]+e[1]/1e6},Gr.hrTimeToMicroseconds=function(e){return 1e6*e[0]+e[1]/1e3},Gr.isTimeInputHrTime=xn,Gr.isTimeInput=function(e){return xn(e)||"number"==typeof e||e instanceof Date},Gr.addHrTimes=Vn;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});var Fn={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(Fn);var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.CompositePropagator=void 0;const Kn=i;Hn.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){Kn.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,n)=>{try{return n.extract(e,t,r)}catch(e){Kn.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}};var Xn={},Wn={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.validateValue=Yn.validateKey=void 0;const zn="[_0-9a-z-*/]",$n=new RegExp(`^(?:${`[a-z]${zn}{0,255}`}|${`[a-z0-9]${zn}{0,240}@[a-z]${zn}{0,13}`})$`),qn=/^[ -~]{0,255}[!-~]$/,Zn=/,|=/;Yn.validateKey=function(e){return $n.test(e)},Yn.validateValue=function(e){return qn.test(e)&&!Zn.test(e)},Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.TraceState=void 0;const Jn=Yn;Wn.TraceState=class e{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),n=r.indexOf("=");if(-1!==n){const o=r.slice(0,n),i=r.slice(n+1,t.length);(0,Jn.validateKey)(o)&&(0,Jn.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const t=new e;return t._internalState=new Map(this._internalState),t}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.W3CTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;const t=i,r=fr,n=Wn;e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";const o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a(e){const t=o.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}e.parseTraceParent=a;e.W3CTraceContextPropagator=class{inject(n,o,i){const a=t.trace.getSpanContext(n);if(!a||(0,r.isTracingSuppressed)(n)||!(0,t.isSpanContextValid)(a))return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||t.TraceFlags.NONE).toString(16)}`;i.set(o,e.TRACE_PARENT_HEADER,s),a.traceState&&i.set(o,e.TRACE_STATE_HEADER,a.traceState.serialize())}extract(r,o,i){const s=i.get(o,e.TRACE_PARENT_HEADER);if(!s)return r;const c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return r;const u=a(c);if(!u)return r;u.isRemote=!0;const l=i.get(o,e.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;u.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}}(Xn);var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});var eo={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;const t=(0,i.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}}(eo);var to={};Object.defineProperty(to,"__esModule",{value:!0}),to.AlwaysOffSampler=void 0;const ro=i;to.AlwaysOffSampler=class{shouldSample(){return{decision:ro.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var no={};Object.defineProperty(no,"__esModule",{value:!0}),no.AlwaysOnSampler=void 0;const oo=i;no.AlwaysOnSampler=class{shouldSample(){return{decision:oo.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.ParentBasedSampler=void 0;const ao=i,so=wr,co=to,uo=no;io.ParentBasedSampler=class{constructor(e){var t,r,n,o;this._root=e.root,this._root||((0,so.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new uo.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new uo.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new co.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new uo.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new co.AlwaysOffSampler}shouldSample(e,t,r,n,o,i){const a=ao.trace.getSpanContext(e);return a&&(0,ao.isSpanContextValid)(a)?a.isRemote?a.traceFlags&ao.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&ao.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var lo={};Object.defineProperty(lo,"__esModule",{value:!0}),lo.TraceIdRatioBasedSampler=void 0;const _o=i;lo.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,_o.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?_o.SamplingDecision.RECORD_AND_SAMPLED:_o.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}};var Eo={},po={};Object.defineProperty(po,"__esModule",{value:!0}),po.isPlainObject=void 0;const To="[object Null]",mo="[object Undefined]",fo=Function.prototype.toString,go=fo.call(Object),Ao=(So=Object.getPrototypeOf,Oo=Object,function(e){return So(Oo(e))});var So,Oo;const ho=Object.prototype,vo=ho.hasOwnProperty,yo=Symbol?Symbol.toStringTag:void 0,bo=ho.toString;po.isPlainObject=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?mo:To;return yo&&yo in Object(e)?function(e){const t=vo.call(e,yo),r=e[yo];let n=!1;try{e[yo]=void 0,n=!0}catch(e){}const o=bo.call(e);n&&(t?e[yo]=r:delete e[yo]);return o}(e):function(e){return bo.call(e)}(e)}(e))return!1;const t=Ao(e);if(null===t)return!0;const r=vo.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&fo.call(r)===go},Object.defineProperty(Eo,"__esModule",{value:!0}),Eo.merge=void 0;const No=po,Po=20;function Ro(e){return Mo(e)?e.slice():e}function Io(e,t,r=0,n){let o;if(!(r>Po)){if(r++,wo(e)||wo(t)||Lo(t))o=Ro(t);else if(Mo(e)){if(o=e.slice(),Mo(t))for(let e=0,r=t.length;e<r;e++)o.push(Ro(t[e]));else if(Do(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];o[n]=Ro(t[n])}}}else if(Do(e))if(Do(t)){if(!function(e,t){if(!(0,No.isPlainObject)(e)||!(0,No.isPlainObject)(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);const i=Object.keys(t);for(let a=0,s=i.length;a<s;a++){const s=i[a],c=t[s];if(wo(c))void 0===c?delete o[s]:o[s]=c;else{const i=o[s],a=c;if(Co(e,s,n)||Co(t,s,n))delete o[s];else{if(Do(i)&&Do(a)){const r=n.get(i)||[],o=n.get(a)||[];r.push({obj:e,key:s}),o.push({obj:t,key:s}),n.set(i,r),n.set(a,o)}o[s]=Io(o[s],c,r,n)}}}}else o=t;return o}}function Co(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function Mo(e){return Array.isArray(e)}function Lo(e){return"function"==typeof e}function Do(e){return!wo(e)&&!Mo(e)&&!Lo(e)&&"object"==typeof e}function wo(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}Eo.merge=function(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=Io(t,e.shift(),0,r);return t};var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.callWithTimeout=Uo.TimeoutError=void 0;let Bo=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Uo.TimeoutError=Bo,Uo.callWithTimeout=function(e,t){let r;const n=new Promise((function(e,n){r=setTimeout((function(){n(new Bo("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))};var jo={};function Go(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(jo,"__esModule",{value:!0}),jo.isUrlIgnored=jo.urlMatches=void 0,jo.urlMatches=Go,jo.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(Go(e,r))return!0;return!1};var xo={};Object.defineProperty(xo,"__esModule",{value:!0}),xo.isWrapped=void 0,xo.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped};var Vo={},ko={};Object.defineProperty(ko,"__esModule",{value:!0}),ko.Deferred=void 0;ko.Deferred=class{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}},Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.BindOnceFuture=void 0;const Fo=ko;Vo.BindOnceFuture=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Fo.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}};var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho._export=void 0;const Ko=i,Xo=fr;Ho._export=function(e,t){return new Promise((r=>{Ko.context.with((0,Xo.suppressTracing)(Ko.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.internal=e.baggageUtils=void 0,n(mr,e),n(Rr,e),n(Ir,e),n(wr,e),n(Ur,e),n(Gr,e),n(kn,e),n(Fn,e),e.baggageUtils=Sr,n(xr,e),n(Hn,e),n(Xn,e),n(Qn,e),n(eo,e),n(to,e),n(no,e),n(io,e),n(lo,e),n(fr,e),n(Wn,e),n(En,e),n(Eo,e),n(pn,e),n(Uo,e),n(jo,e),n(xo,e),n(Vo,e),n(yn,e);const o=Ho;e.internal={_export:o._export}}(Tr);var Wo={},Yo={},zo={},$o={},qo={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.ExceptionEventName=void 0,Zo.ExceptionEventName="exception",Object.defineProperty(qo,"__esModule",{value:!0}),qo.Span=void 0;const Jo=i,Qo=Tr,ei=bn,ti=Zo;qo.Span=class{constructor(e,t,r,n,o,i,a=[],s,c,u){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:Jo.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=r,this._spanContext=n,this.parentSpanId=i,this.kind=o,this.links=a;const l=Date.now();this._performanceStartTime=Qo.otperformance.now(),this._performanceOffset=l-(this._performanceStartTime+(0,Qo.getTimeOrigin)()),this._startTimeProvided=null!=s,this.startTime=this._getTime(null!=s?s:l),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),null!=u&&this.setAttributes(u),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,t),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(e,t){return null==t||this._isSpanEnded()?this:0===e.length?(Jo.diag.warn(`Invalid attribute key: ${e}`),this):(0,Qo.isAttributeValue)(t)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?(this._droppedAttributesCount++,this):(this.attributes[e]=this._truncateToSize(t),this):(Jo.diag.warn(`Invalid attribute value set for key: ${e}`),this)}setAttributes(e){for(const[t,r]of Object.entries(e))this.setAttribute(t,r);return this}addEvent(e,t,r){if(this._isSpanEnded())return this;if(0===this._spanLimits.eventCountLimit)return Jo.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(Jo.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Qo.isTimeInput)(t)&&((0,Qo.isTimeInput)(r)||(r=t),t=void 0);const n=(0,Qo.sanitizeAttributes)(t);return this.events.push({name:e,attributes:n,time:this._getTime(r),droppedAttributesCount:0}),this}setStatus(e){return this._isSpanEnded()||(this.status=e),this}updateName(e){return this._isSpanEnded()||(this.name=e),this}end(e){this._isSpanEnded()?Jo.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`):(this._ended=!0,this.endTime=this._getTime(e),this._duration=(0,Qo.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(Jo.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this))}_getTime(e){if("number"==typeof e&&e<Qo.otperformance.now())return(0,Qo.hrTime)(e+this._performanceOffset);if("number"==typeof e)return(0,Qo.millisToHrTime)(e);if(e instanceof Date)return(0,Qo.millisToHrTime)(e.getTime());if((0,Qo.isTimeInputHrTime)(e))return e;if(this._startTimeProvided)return(0,Qo.millisToHrTime)(Date.now());const t=Qo.otperformance.now()-this._performanceStartTime;return(0,Qo.addHrTimes)(this.startTime,(0,Qo.millisToHrTime)(t))}isRecording(){return!1===this._ended}recordException(e,t){const r={};"string"==typeof e?r[ei.SemanticAttributes.EXCEPTION_MESSAGE]=e:e&&(e.code?r[ei.SemanticAttributes.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[ei.SemanticAttributes.EXCEPTION_TYPE]=e.name),e.message&&(r[ei.SemanticAttributes.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[ei.SemanticAttributes.EXCEPTION_STACKTRACE]=e.stack)),r[ei.SemanticAttributes.EXCEPTION_TYPE]||r[ei.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(ti.ExceptionEventName,r,t):Jo.diag.warn(`Failed to record an exception ${e}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&Jo.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(e,t){return e.length<=t?e:e.substr(0,t)}_truncateToSize(e){const t=this._attributeValueLengthLimit;return t<=0?(Jo.diag.warn(`Attribute value limit must be positive, got ${t}`),e):"string"==typeof e?this._truncateToLimitUtil(e,t):Array.isArray(e)?e.map((e=>"string"==typeof e?this._truncateToLimitUtil(e,t):e)):e}};var ri={},ni={},oi={},ii={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SamplingDecision=void 0,(t=e.SamplingDecision||(e.SamplingDecision={}))[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(ii),Object.defineProperty(oi,"__esModule",{value:!0}),oi.AlwaysOffSampler=void 0;const ai=ii;oi.AlwaysOffSampler=class{shouldSample(){return{decision:ai.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var si={};Object.defineProperty(si,"__esModule",{value:!0}),si.AlwaysOnSampler=void 0;const ci=ii;si.AlwaysOnSampler=class{shouldSample(){return{decision:ci.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var ui={};Object.defineProperty(ui,"__esModule",{value:!0}),ui.ParentBasedSampler=void 0;const li=i,di=Tr,_i=oi,Ei=si;ui.ParentBasedSampler=class{constructor(e){var t,r,n,o;this._root=e.root,this._root||((0,di.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Ei.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Ei.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new _i.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new Ei.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new _i.AlwaysOffSampler}shouldSample(e,t,r,n,o,i){const a=li.trace.getSpanContext(e);return a&&(0,li.isSpanContextValid)(a)?a.isRemote?a.traceFlags&li.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&li.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.TraceIdRatioBasedSampler=void 0;const Ti=i,mi=ii;pi.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,Ti.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?mi.SamplingDecision.RECORD_AND_SAMPLED:mi.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}},Object.defineProperty(ni,"__esModule",{value:!0}),ni.buildSamplerFromEnv=ni.loadDefaultConfig=void 0;const fi=i,gi=Tr,Ai=oi,Si=si,Oi=ui,hi=pi,vi=(0,gi.getEnv)(),yi=gi.TracesSamplerValues.AlwaysOn,bi=1;function Ni(e=(0,gi.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case gi.TracesSamplerValues.AlwaysOn:return new Si.AlwaysOnSampler;case gi.TracesSamplerValues.AlwaysOff:return new Ai.AlwaysOffSampler;case gi.TracesSamplerValues.ParentBasedAlwaysOn:return new Oi.ParentBasedSampler({root:new Si.AlwaysOnSampler});case gi.TracesSamplerValues.ParentBasedAlwaysOff:return new Oi.ParentBasedSampler({root:new Ai.AlwaysOffSampler});case gi.TracesSamplerValues.TraceIdRatio:return new hi.TraceIdRatioBasedSampler(Pi(e));case gi.TracesSamplerValues.ParentBasedTraceIdRatio:return new Oi.ParentBasedSampler({root:new hi.TraceIdRatioBasedSampler(Pi(e))});default:return fi.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${yi}".`),new Si.AlwaysOnSampler}}function Pi(e){if(void 0===e.OTEL_TRACES_SAMPLER_ARG||""===e.OTEL_TRACES_SAMPLER_ARG)return fi.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${bi}.`),bi;const t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(fi.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${bi}.`),bi):t<0||t>1?(fi.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${bi}.`),bi):t}ni.loadDefaultConfig=function(){return{sampler:Ni(vi),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,gi.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,gi.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,gi.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,gi.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,gi.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,gi.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,gi.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,gi.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}},ni.buildSamplerFromEnv=Ni,Object.defineProperty(ri,"__esModule",{value:!0}),ri.reconfigureLimits=ri.mergeConfig=void 0;const Ri=ni,Ii=Tr;ri.mergeConfig=function(e){const t={sampler:(0,Ri.buildSamplerFromEnv)()},r=(0,Ri.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n},ri.reconfigureLimits=function(e){var t,r,n,o,i,a,s,c,u,l,d,_;const E=Object.assign({},e.spanLimits),p=(0,Ii.getEnvWithoutDefaults)();return E.attributeCountLimit=null!==(a=null!==(i=null!==(o=null!==(r=null===(t=e.spanLimits)||void 0===t?void 0:t.attributeCountLimit)&&void 0!==r?r:null===(n=e.generalLimits)||void 0===n?void 0:n.attributeCountLimit)&&void 0!==o?o:p.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)&&void 0!==i?i:p.OTEL_ATTRIBUTE_COUNT_LIMIT)&&void 0!==a?a:Ii.DEFAULT_ATTRIBUTE_COUNT_LIMIT,E.attributeValueLengthLimit=null!==(_=null!==(d=null!==(l=null!==(c=null===(s=e.spanLimits)||void 0===s?void 0:s.attributeValueLengthLimit)&&void 0!==c?c:null===(u=e.generalLimits)||void 0===u?void 0:u.attributeValueLengthLimit)&&void 0!==l?l:p.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==d?d:p.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)&&void 0!==_?_:Ii.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:E})};var Ci={},Mi={},Li={};Object.defineProperty(Li,"__esModule",{value:!0}),Li.BatchSpanProcessorBase=void 0;const Di=i,wi=Tr;Li.BatchSpanProcessorBase=class{constructor(e,t){this._exporter=e,this._isExporting=!1,this._finishedSpans=[],this._droppedSpansCount=0;const r=(0,wi.getEnv)();this._maxExportBatchSize="number"==typeof(null==t?void 0:t.maxExportBatchSize)?t.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize="number"==typeof(null==t?void 0:t.maxQueueSize)?t.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis="number"==typeof(null==t?void 0:t.scheduledDelayMillis)?t.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis="number"==typeof(null==t?void 0:t.exportTimeoutMillis)?t.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new wi.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Di.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(e,t){}onEnd(e){this._shutdownOnce.isCalled||0!=(e.spanContext().traceFlags&Di.TraceFlags.SAMPLED)&&this._addToBuffer(e)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then((()=>this.onShutdown())).then((()=>this._flushAll())).then((()=>this._exporter.shutdown()))}_addToBuffer(e){if(this._finishedSpans.length>=this._maxQueueSize)return 0===this._droppedSpansCount&&Di.diag.debug("maxQueueSize reached, dropping spans"),void this._droppedSpansCount++;this._droppedSpansCount>0&&(Di.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(e),this._maybeStartTimer()}_flushAll(){return new Promise(((e,t)=>{const r=[];for(let e=0,t=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);e<t;e++)r.push(this._flushOneBatch());Promise.all(r).then((()=>{e()})).catch(t)}))}_flushOneBatch(){return this._clearTimer(),0===this._finishedSpans.length?Promise.resolve():new Promise(((e,t)=>{const r=setTimeout((()=>{t(new Error("Timeout"))}),this._exportTimeoutMillis);Di.context.with((0,wi.suppressTracing)(Di.context.active()),(()=>{const n=this._finishedSpans.splice(0,this._maxExportBatchSize),o=()=>this._exporter.export(n,(n=>{var o;clearTimeout(r),n.code===wi.ExportResultCode.SUCCESS?e():t(null!==(o=n.error)&&void 0!==o?o:new Error("BatchSpanProcessor: span export failed"))})),i=n.map((e=>e.resource)).filter((e=>e.asyncAttributesPending));0===i.length?o():Promise.all(i.map((e=>{var t;return null===(t=e.waitForAsyncAttributes)||void 0===t?void 0:t.call(e)}))).then(o,(e=>{(0,wi.globalErrorHandler)(e),t(e)}))}))}))}_maybeStartTimer(){if(this._isExporting)return;const e=()=>{this._isExporting=!0,this._flushOneBatch().then((()=>{this._isExporting=!1,this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())})).catch((e=>{this._isExporting=!1,(0,wi.globalErrorHandler)(e)}))};if(this._finishedSpans.length>=this._maxExportBatchSize)return e();void 0===this._timer&&(this._timer=setTimeout((()=>e()),this._scheduledDelayMillis),(0,wi.unrefTimer)(this._timer))}_clearTimer(){void 0!==this._timer&&(clearTimeout(this._timer),this._timer=void 0)}},Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.BatchSpanProcessor=void 0;const Ui=Li;class Bi extends Ui.BatchSpanProcessorBase{constructor(e,t){super(e,t),this.onInit(t)}onInit(e){!0!==(null==e?void 0:e.disableAutoFlushOnDocumentHide)&&"undefined"!=typeof document&&(this._visibilityChangeListener=()=>{"hidden"===document.visibilityState&&this.forceFlush()},this._pageHideListener=()=>{this.forceFlush()},document.addEventListener("visibilitychange",this._visibilityChangeListener),document.addEventListener("pagehide",this._pageHideListener))}onShutdown(){"undefined"!=typeof document&&(this._visibilityChangeListener&&document.removeEventListener("visibilitychange",this._visibilityChangeListener),this._pageHideListener&&document.removeEventListener("pagehide",this._pageHideListener))}}Mi.BatchSpanProcessor=Bi;var ji={};Object.defineProperty(ji,"__esModule",{value:!0}),ji.RandomIdGenerator=void 0;ji.RandomIdGenerator=class{constructor(){this.generateTraceId=xi(16),this.generateSpanId=xi(8)}};const Gi=Array(32);function xi(e){return function(){for(let t=0;t<2*e;t++)Gi[t]=Math.floor(16*Math.random())+48,Gi[t]>=58&&(Gi[t]+=39);return String.fromCharCode.apply(null,Gi.slice(0,2*e))}}!function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Mi,e),n(ji,e)}(Ci),Object.defineProperty($o,"__esModule",{value:!0}),$o.Tracer=void 0;const Vi=i,ki=Tr,Fi=qo,Hi=ri,Ki=Ci;$o.Tracer=class{constructor(e,t,r){this._tracerProvider=r;const n=(0,Hi.mergeConfig)(t);this._sampler=n.sampler,this._generalLimits=n.generalLimits,this._spanLimits=n.spanLimits,this._idGenerator=t.idGenerator||new Ki.RandomIdGenerator,this.resource=r.resource,this.instrumentationLibrary=e}startSpan(e,t={},r=Vi.context.active()){var n,o,i;t.root&&(r=Vi.trace.deleteSpan(r));const a=Vi.trace.getSpan(r);if((0,ki.isTracingSuppressed)(r)){Vi.diag.debug("Instrumentation suppressed, returning Noop Span");return Vi.trace.wrapSpanContext(Vi.INVALID_SPAN_CONTEXT)}const s=null==a?void 0:a.spanContext(),c=this._idGenerator.generateSpanId();let u,l,d;s&&Vi.trace.isSpanContextValid(s)?(u=s.traceId,l=s.traceState,d=s.spanId):u=this._idGenerator.generateTraceId();const _=null!==(n=t.kind)&&void 0!==n?n:Vi.SpanKind.INTERNAL,E=(null!==(o=t.links)&&void 0!==o?o:[]).map((e=>({context:e.context,attributes:(0,ki.sanitizeAttributes)(e.attributes)}))),p=(0,ki.sanitizeAttributes)(t.attributes),T=this._sampler.shouldSample(r,u,e,_,p,E);l=null!==(i=T.traceState)&&void 0!==i?i:l;const m={traceId:u,spanId:c,traceFlags:T.decision===Vi.SamplingDecision.RECORD_AND_SAMPLED?Vi.TraceFlags.SAMPLED:Vi.TraceFlags.NONE,traceState:l};if(T.decision===Vi.SamplingDecision.NOT_RECORD){Vi.diag.debug("Recording is off, propagating context in a non-recording span");return Vi.trace.wrapSpanContext(m)}const f=(0,ki.sanitizeAttributes)(Object.assign(p,T.attributes));return new Fi.Span(this,r,e,m,_,d,E,t.startTime,void 0,f)}startActiveSpan(e,t,r,n){let o,i,a;if(arguments.length<2)return;2===arguments.length?a=t:3===arguments.length?(o=t,a=r):(o=t,i=r,a=n);const s=null!=i?i:Vi.context.active(),c=this.startSpan(e,o,s),u=Vi.trace.setSpan(s,c);return Vi.context.with(u,a,void 0,c)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};var Xi={},Wi={},Yi={},zi={},$i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.defaultServiceName=void 0,$i.defaultServiceName=function(){return"unknown_service"};var qi,Zi,Ji,Qi={},ea={},ta={};function ra(){if(qi)return ta;qi=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.noopDetectorSync=ta.NoopDetectorSync=void 0;const e=fa();class t{detect(){return new e.Resource({})}}return ta.NoopDetectorSync=t,ta.noopDetectorSync=new t,ta}function na(){if(Zi)return ea;Zi=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.noopDetector=ea.NoopDetector=void 0;const e=ra();class t{detect(){return Promise.resolve(e.noopDetectorSync.detect())}}return ea.NoopDetector=t,ea.noopDetector=new t,ea}var oa,ia={};var aa,sa={};var ca,ua={};var la,da={};var _a,Ea,pa,Ta={};function ma(){return Ea||(Ea=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n($i,e),n(function(){if(Ji)return Qi;Ji=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.hostDetector=void 0;const e=na();return Qi.hostDetector=e.noopDetector,Qi}(),e),n(function(){if(oa)return ia;oa=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.osDetector=void 0;const e=na();return ia.osDetector=e.noopDetector,ia}(),e),n(function(){if(aa)return sa;aa=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.hostDetectorSync=void 0;const e=ra();return sa.hostDetectorSync=e.noopDetectorSync,sa}(),e),n(function(){if(ca)return ua;ca=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.osDetectorSync=void 0;const e=ra();return ua.osDetectorSync=e.noopDetectorSync,ua}(),e),n(function(){if(la)return da;la=1,Object.defineProperty(da,"__esModule",{value:!0}),da.processDetector=void 0;const e=na();return da.processDetector=e.noopDetector,da}(),e),n(function(){if(_a)return Ta;_a=1,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.processDetectorSync=void 0;const e=na();return Ta.processDetectorSync=e.noopDetector,Ta}(),e)}(zi)),zi}function fa(){if(pa)return Yi;pa=1,Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.Resource=void 0;const e=i,t=bn,r=Tr,n=ma();class o{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=null!=r,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==r?void 0:r.then((e=>(this._attributes=Object.assign({},this._attributes,e),this.asyncAttributesPending=!1,e)),(t=>(e.diag.debug("a resource's async attributes promise rejected: %s",t),this.asyncAttributesPending=!1,{})))}static empty(){return o.EMPTY}static default(){return new o({[t.SemanticResourceAttributes.SERVICE_NAME]:(0,n.defaultServiceName)(),[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&e.diag.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;const r=Object.assign(Object.assign({},this._syncAttributes),null!==(t=e._syncAttributes)&&void 0!==t?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new o(r);const n=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((([t,r])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),t),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),r)}));return new o(r,n)}}return Yi.Resource=o,o.EMPTY=new o({}),Yi}var ga={};Object.defineProperty(ga,"__esModule",{value:!0});var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});var Oa,ha={},va={};var ya={},ba={};Object.defineProperty(ba,"__esModule",{value:!0}),ba.envDetectorSync=void 0;const Na=i,Pa=Tr,Ra=bn,Ia=fa();ba.envDetectorSync=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){const t={},r=(0,Pa.getEnv)(),n=r.OTEL_RESOURCE_ATTRIBUTES,o=r.OTEL_SERVICE_NAME;if(n)try{const e=this._parseResourceAttributes(n);Object.assign(t,e)}catch(e){Na.diag.debug(`EnvDetector failed: ${e.message}`)}return o&&(t[Ra.SemanticResourceAttributes.SERVICE_NAME]=o),new Ia.Resource(t)}_parseResourceAttributes(e){if(!e)return{};const t={},r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=decodeURIComponent(o)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},Object.defineProperty(ya,"__esModule",{value:!0}),ya.envDetector=void 0;const Ca=ba;ya.envDetector=new class{detect(e){return Promise.resolve(Ca.envDetectorSync.detect(e))}};var Ma,La,Da={};function wa(){return La||(La=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(function(){if(Oa)return va;Oa=1,Object.defineProperty(va,"__esModule",{value:!0}),va.browserDetector=void 0;const e=Fa();return va.browserDetector=new class{detect(t){return Promise.resolve(e.browserDetectorSync.detect(t))}},va}(),e),n(ya,e),n(function(){if(Ma)return Da;Ma=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.browserDetectorSync=void 0;const e=bn,t=Fa(),r=i;return Da.browserDetectorSync=new class{detect(r){if("undefined"==typeof navigator)return t.Resource.empty();const n={[e.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[e.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[e.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,r)}_getResourceAttributes(n,o){return""===n[e.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(r.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),t.Resource.empty()):new t.Resource(Object.assign({},n))}},Da}(),e),n(ba,e)}(ha)),ha}var Ua={},Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.isPromiseLike=void 0;Ba.isPromiseLike=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.detectResourcesSync=Ua.detectResources=void 0;const ja=fa(),Ga=i,xa=Ba;Ua.detectResources=async(e={})=>{const t=await Promise.all((e.detectors||[]).map((async t=>{try{const r=await t.detect(e);return Ga.diag.debug(`${t.constructor.name} found resource.`,r),r}catch(e){return Ga.diag.debug(`${t.constructor.name} failed: ${e.message}`),ja.Resource.empty()}})));return Va(t),t.reduce(((e,t)=>e.merge(t)),ja.Resource.empty())};Ua.detectResourcesSync=(e={})=>{var t;const r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((t=>{try{const r=t.detect(e);let n;if((0,xa.isPromiseLike)(r)){const e=async()=>(await r).attributes;n=new ja.Resource({},e())}else n=r;return n.waitForAsyncAttributes?n.waitForAsyncAttributes().then((()=>Ga.diag.debug(`${t.constructor.name} found resource.`,n))):Ga.diag.debug(`${t.constructor.name} found resource.`,n),n}catch(e){return Ga.diag.error(`${t.constructor.name} failed: ${e.message}`),ja.Resource.empty()}})),n=r.reduce(((e,t)=>e.merge(t)),ja.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then((()=>{Va(r)})),n};const Va=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){const t=JSON.stringify(e.attributes,null,4);Ga.diag.verbose(t)}}))};var ka;function Fa(){return ka||(ka=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(fa(),e),n(ga,e),n(ma(),e),n(Aa,e),n(Sa,e),n(wa(),e),n(Ua,e)}(Wi)),Wi}var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Ha.MultiSpanProcessor=void 0;const Ka=Tr;Ha.MultiSpanProcessor=class{constructor(e){this._spanProcessors=e}forceFlush(){const e=[];for(const t of this._spanProcessors)e.push(t.forceFlush());return new Promise((t=>{Promise.all(e).then((()=>{t()})).catch((e=>{(0,Ka.globalErrorHandler)(e||new Error("MultiSpanProcessor: forceFlush failed")),t()}))}))}onStart(e,t){for(const r of this._spanProcessors)r.onStart(e,t)}onEnd(e){for(const t of this._spanProcessors)t.onEnd(e)}shutdown(){const e=[];for(const t of this._spanProcessors)e.push(t.shutdown());return new Promise(((t,r)=>{Promise.all(e).then((()=>{t()}),r)}))}};var Xa,Wa={};Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.NoopSpanProcessor=void 0;Wa.NoopSpanProcessor=class{onStart(e,t){}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};var Ya={};Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.ConsoleSpanExporter=void 0;const za=Tr;Ya.ConsoleSpanExporter=class{export(e,t){return this._sendSpans(e,t)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(e){var t;return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,traceState:null===(t=e.spanContext().traceState)||void 0===t?void 0:t.serialize(),name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:(0,za.hrTimeToMicroseconds)(e.startTime),duration:(0,za.hrTimeToMicroseconds)(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}}_sendSpans(e,t){for(const t of e)console.dir(this._exportInfo(t),{depth:3});if(t)return t({code:za.ExportResultCode.SUCCESS})}};var $a={};Object.defineProperty($a,"__esModule",{value:!0}),$a.InMemorySpanExporter=void 0;const qa=Tr;$a.InMemorySpanExporter=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(e,t){if(this._stopped)return t({code:qa.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...e),setTimeout((()=>t({code:qa.ExportResultCode.SUCCESS})),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};var Za={};Object.defineProperty(Za,"__esModule",{value:!0});var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.SimpleSpanProcessor=void 0;const Qa=i,es=Tr;Ja.SimpleSpanProcessor=class{constructor(e){this._exporter=e,this._shutdownOnce=new es.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(e,t){}onEnd(e){var t,r;if(this._shutdownOnce.isCalled)return;if(0==(e.spanContext().traceFlags&Qa.TraceFlags.SAMPLED))return;const n=()=>es.internal._export(this._exporter,[e]).then((e=>{var t;e.code!==es.ExportResultCode.SUCCESS&&(0,es.globalErrorHandler)(null!==(t=e.error)&&void 0!==t?t:new Error(`SimpleSpanProcessor: span export failed (status ${e})`))})).catch((e=>{(0,es.globalErrorHandler)(e)}));if(e.resource.asyncAttributesPending){const o=null===(r=(t=e.resource).waitForAsyncAttributes)||void 0===r?void 0:r.call(t).then((()=>(null!=o&&this._unresolvedExports.delete(o),n())),(e=>(0,es.globalErrorHandler)(e)));null!=o&&this._unresolvedExports.add(o)}else n()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};var ts={};Object.defineProperty(ts,"__esModule",{value:!0});var rs={};Object.defineProperty(rs,"__esModule",{value:!0});var ns={};Object.defineProperty(ns,"__esModule",{value:!0});var os={};Object.defineProperty(os,"__esModule",{value:!0});var is,as={};function ss(){return is||(is=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n($o,e),n((Xa||(Xa=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BasicTracerProvider=e.ForceFlushState=void 0;const t=i,r=Tr,n=Fa(),o=ss(),a=ni,s=Ha,c=Wa,u=Ci,l=ri;var d;!function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"}(d=e.ForceFlushState||(e.ForceFlushState={}));class _{constructor(e={}){var t;this._registeredSpanProcessors=[],this._tracers=new Map;const o=(0,r.merge)({},(0,a.loadDefaultConfig)(),(0,l.reconfigureLimits)(e));this.resource=null!==(t=o.resource)&&void 0!==t?t:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},o,{resource:this.resource});const i=this._buildExporterFromEnv();if(void 0!==i){const e=new u.BatchSpanProcessor(i);this.activeSpanProcessor=e}else this.activeSpanProcessor=new c.NoopSpanProcessor}getTracer(e,t,r){const n=`${e}@${t||""}:${(null==r?void 0:r.schemaUrl)||""}`;return this._tracers.has(n)||this._tracers.set(n,new o.Tracer({name:e,version:t,schemaUrl:null==r?void 0:r.schemaUrl},this._config,this)),this._tracers.get(n)}addSpanProcessor(e){0===this._registeredSpanProcessors.length&&this.activeSpanProcessor.shutdown().catch((e=>t.diag.error("Error while trying to shutdown current span processor",e))),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(e={}){t.trace.setGlobalTracerProvider(this),void 0===e.propagator&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&t.context.setGlobalContextManager(e.contextManager),e.propagator&&t.propagation.setGlobalPropagator(e.propagator)}forceFlush(){const e=this._config.forceFlushTimeoutMillis,t=this._registeredSpanProcessors.map((t=>new Promise((r=>{let n;const o=setTimeout((()=>{r(new Error(`Span processor did not completed within timeout period of ${e} ms`)),n=d.timeout}),e);t.forceFlush().then((()=>{clearTimeout(o),n!==d.timeout&&(n=d.resolved,r(n))})).catch((e=>{clearTimeout(o),n=d.error,r(e)}))}))));return new Promise(((e,r)=>{Promise.all(t).then((t=>{const n=t.filter((e=>e!==d.resolved));n.length>0?r(n):e()})).catch((e=>r([e])))}))}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(e){var t;return null===(t=this.constructor._registeredPropagators.get(e))||void 0===t?void 0:t()}_getSpanExporter(e){var t;return null===(t=this.constructor._registeredExporters.get(e))||void 0===t?void 0:t()}_buildPropagatorFromEnv(){const e=Array.from(new Set((0,r.getEnv)().OTEL_PROPAGATORS)),n=e.map((e=>{const r=this._getPropagator(e);return r||t.diag.warn(`Propagator "${e}" requested through environment variable is unavailable.`),r})).reduce(((e,t)=>(t&&e.push(t),e)),[]);return 0===n.length?void 0:1===e.length?n[0]:new r.CompositePropagator({propagators:n})}_buildExporterFromEnv(){const e=(0,r.getEnv)().OTEL_TRACES_EXPORTER;if("none"===e||""===e)return;const n=this._getSpanExporter(e);return n||t.diag.error(`Exporter "${e}" requested through environment variable is unavailable.`),n}}e.BasicTracerProvider=_,_._registeredPropagators=new Map([["tracecontext",()=>new r.W3CTraceContextPropagator],["baggage",()=>new r.W3CBaggagePropagator]]),_._registeredExporters=new Map}(Xi)),Xi),e),n(Ci,e),n(Ya,e),n($a,e),n(Za,e),n(Ja,e),n(ts,e),n(Wa,e),n(oi,e),n(si,e),n(ui,e),n(pi,e),n(ii,e),n(qo,e),n(rs,e),n(ns,e),n(os,e),n(as,e)}(zo)),zo}Object.defineProperty(as,"__esModule",{value:!0});var cs={};Object.defineProperty(cs,"__esModule",{value:!0}),cs.StackContextManager=void 0;const us=i;cs.StackContextManager=class{constructor(){this._enabled=!1,this._currentContext=us.ROOT_CONTEXT}_bindFunction(e=us.ROOT_CONTEXT,t){const r=this,n=function(...n){return r.with(e,(()=>t.apply(this,n)))};return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:t.length}),n}active(){return this._currentContext}bind(e,t){return void 0===e&&(e=this.active()),"function"==typeof t?this._bindFunction(e,t):t}disable(){return this._currentContext=us.ROOT_CONTEXT,this._enabled=!1,this}enable(){return this._enabled||(this._enabled=!0,this._currentContext=us.ROOT_CONTEXT),this}with(e,t,r,...n){const o=this._currentContext;this._currentContext=e||us.ROOT_CONTEXT;try{return t.call(r,...n)}finally{this._currentContext=o}}},Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.WebTracerProvider=void 0;const ls=ss(),ds=cs;class _s extends ls.BasicTracerProvider{constructor(e={}){if(super(e),e.contextManager)throw"contextManager should be defined in register method not in constructor";if(e.propagator)throw"propagator should be defined in register method not in constructor"}register(e={}){void 0===e.contextManager&&(e.contextManager=new ds.StackContextManager),e.contextManager&&e.contextManager.enable(),super.register(e)}}Yo.WebTracerProvider=_s;var Es={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PerformanceTimingNames=void 0,function(e){e.CONNECT_END="connectEnd",e.CONNECT_START="connectStart",e.DECODED_BODY_SIZE="decodedBodySize",e.DOM_COMPLETE="domComplete",e.DOM_CONTENT_LOADED_EVENT_END="domContentLoadedEventEnd",e.DOM_CONTENT_LOADED_EVENT_START="domContentLoadedEventStart",e.DOM_INTERACTIVE="domInteractive",e.DOMAIN_LOOKUP_END="domainLookupEnd",e.DOMAIN_LOOKUP_START="domainLookupStart",e.ENCODED_BODY_SIZE="encodedBodySize",e.FETCH_START="fetchStart",e.LOAD_EVENT_END="loadEventEnd",e.LOAD_EVENT_START="loadEventStart",e.NAVIGATION_START="navigationStart",e.REDIRECT_END="redirectEnd",e.REDIRECT_START="redirectStart",e.REQUEST_START="requestStart",e.RESPONSE_END="responseEnd",e.RESPONSE_START="responseStart",e.SECURE_CONNECTION_START="secureConnectionStart",e.UNLOAD_EVENT_END="unloadEventEnd",e.UNLOAD_EVENT_START="unloadEventStart"}(e.PerformanceTimingNames||(e.PerformanceTimingNames={}))}(Es);var ps={};Object.defineProperty(ps,"__esModule",{value:!0});var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0}),Ts.shouldPropagateTraceHeaders=Ts.getElementXPath=Ts.normalizeUrl=Ts.parseUrl=Ts.getResource=Ts.sortResources=Ts.addSpanNetworkEvents=Ts.addSpanNetworkEvent=Ts.hasKey=void 0;const ms=Es,fs=Tr,gs=bn;let As;function Ss(e,t){return t in e}function Os(e,t,r){if(Ss(r,t)&&"number"==typeof r[t])return e.addEvent(t,r[t]),e}function hs(e){return e.slice().sort(((e,t)=>{const r=e[ms.PerformanceTimingNames.FETCH_START],n=t[ms.PerformanceTimingNames.FETCH_START];return r>n?1:r<n?-1:0}))}function vs(){return"undefined"!=typeof location?location.origin:void 0}function ys(e){if("function"==typeof URL)return new URL(e,"undefined"!=typeof document?document.baseURI:"undefined"!=typeof location?location.href:void 0);const t=(As||(As=document.createElement("a")),As);return t.href=e,t}Ts.hasKey=Ss,Ts.addSpanNetworkEvent=Os,Ts.addSpanNetworkEvents=function(e,t){Os(e,ms.PerformanceTimingNames.FETCH_START,t),Os(e,ms.PerformanceTimingNames.DOMAIN_LOOKUP_START,t),Os(e,ms.PerformanceTimingNames.DOMAIN_LOOKUP_END,t),Os(e,ms.PerformanceTimingNames.CONNECT_START,t),Ss(t,"name")&&t.name.startsWith("https:")&&Os(e,ms.PerformanceTimingNames.SECURE_CONNECTION_START,t),Os(e,ms.PerformanceTimingNames.CONNECT_END,t),Os(e,ms.PerformanceTimingNames.REQUEST_START,t),Os(e,ms.PerformanceTimingNames.RESPONSE_START,t),Os(e,ms.PerformanceTimingNames.RESPONSE_END,t);const r=t[ms.PerformanceTimingNames.ENCODED_BODY_SIZE];void 0!==r&&e.setAttribute(gs.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH,r);const n=t[ms.PerformanceTimingNames.DECODED_BODY_SIZE];void 0!==n&&r!==n&&e.setAttribute(gs.SemanticAttributes.HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED,n)},Ts.sortResources=hs,Ts.getResource=function(e,t,r,n,o=new WeakSet,i){const a=ys(e),s=function(e,t,r,n,o,i){const a=(0,fs.hrTimeToNanoseconds)(t),s=(0,fs.hrTimeToNanoseconds)(r);let c=n.filter((t=>{const r=(0,fs.hrTimeToNanoseconds)((0,fs.timeInputToHrTime)(t[ms.PerformanceTimingNames.FETCH_START])),n=(0,fs.hrTimeToNanoseconds)((0,fs.timeInputToHrTime)(t[ms.PerformanceTimingNames.RESPONSE_END]));return t.initiatorType.toLowerCase()===(i||"xmlhttprequest")&&t.name===e&&r>=a&&n<=s}));c.length>0&&(c=c.filter((e=>!o.has(e))));return c}(e=a.toString(),t,r,n,o,i);if(0===s.length)return{mainRequest:void 0};if(1===s.length)return{mainRequest:s[0]};const c=hs(s);if(a.origin!==vs()&&c.length>1){let e=c[0],t=function(e,t,r){const n=(0,fs.hrTimeToNanoseconds)(r),o=(0,fs.hrTimeToNanoseconds)((0,fs.timeInputToHrTime)(t));let i,a=e[1];const s=e.length;for(let t=1;t<s;t++){const r=e[t],s=(0,fs.hrTimeToNanoseconds)((0,fs.timeInputToHrTime)(r[ms.PerformanceTimingNames.FETCH_START])),c=n-(0,fs.hrTimeToNanoseconds)((0,fs.timeInputToHrTime)(r[ms.PerformanceTimingNames.RESPONSE_END]));s>=o&&(!i||c<i)&&(i=c,a=r)}return a}(c,e[ms.PerformanceTimingNames.RESPONSE_END],r);const n=e[ms.PerformanceTimingNames.RESPONSE_END];return t[ms.PerformanceTimingNames.FETCH_START]<n&&(t=e,e=void 0),{corsPreFlightRequest:e,mainRequest:t}}return{mainRequest:s[0]}},Ts.parseUrl=ys,Ts.normalizeUrl=function(e){return ys(e).href},Ts.getElementXPath=function e(t,r){if(t.nodeType===Node.DOCUMENT_NODE)return"/";const n=function(e,t){const r=e.nodeType,n=function(e){if(!e.parentNode)return 0;const t=[e.nodeType];e.nodeType===Node.CDATA_SECTION_NODE&&t.push(Node.TEXT_NODE);let r=Array.from(e.parentNode.childNodes);if(r=r.filter((r=>{const n=r.localName;return t.indexOf(r.nodeType)>=0&&n===e.localName})),r.length>=1)return r.indexOf(e)+1;return 0}(e);let o="";if(r===Node.ELEMENT_NODE){const r=e.getAttribute("id");if(t&&r)return`//*[@id="${r}"]`;o=e.localName}else if(r===Node.TEXT_NODE||r===Node.CDATA_SECTION_NODE)o="text()";else{if(r!==Node.COMMENT_NODE)return"";o="comment()"}if(o&&n>1)return`/${o}[${n}]`;return`/${o}`}(t,r);if(r&&n.indexOf("@id")>0)return n;let o="";return t.parentNode&&(o+=e(t.parentNode,!1)),o+=n,o},Ts.shouldPropagateTraceHeaders=function(e,t){let r=t||[];return("string"==typeof r||r instanceof RegExp)&&(r=[r]),ys(e).origin===vs()||r.some((t=>(0,fs.urlMatches)(e,t)))},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Yo,e),n(cs,e),n(Es,e),n(ps,e),n(Ts,e),n(ss(),e)}(Wo);var bs={},Ns={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.disableInstrumentations=Ps.enableInstrumentations=Ps.parseInstrumentationOptions=void 0,Ps.parseInstrumentationOptions=function e(t=[]){let r=[];for(let n=0,o=t.length;n<o;n++){const o=t[n];if(Array.isArray(o)){const t=e(o);r=r.concat(t.instrumentations)}else"function"==typeof o?r.push(new o):o.instrumentationName&&r.push(o)}return{instrumentations:r}},Ps.enableInstrumentations=function(e,t,r){for(let n=0,o=e.length;n<o;n++){const o=e[n];t&&o.setTracerProvider(t),r&&o.setMeterProvider(r),o.getConfig().enabled||o.enable()}},Ps.disableInstrumentations=function(e){e.forEach((e=>e.disable()))},Object.defineProperty(Ns,"__esModule",{value:!0}),Ns.registerInstrumentations=void 0;const Rs=i,Is=Ps;Ns.registerInstrumentations=function(e){const{instrumentations:t}=(0,Is.parseInstrumentationOptions)(e.instrumentations),r=e.tracerProvider||Rs.trace.getTracerProvider(),n=e.meterProvider||Rs.metrics.getMeterProvider();return(0,Is.enableInstrumentations)(t,r,n),()=>{(0,Is.disableInstrumentations)(t)}};var Cs={},Ms={},Ls={};Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.InstrumentationAbstract=void 0;const Ds=i,ws=kt;Ls.InstrumentationAbstract=class{constructor(e,t,r={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=ws.wrap,this._unwrap=ws.unwrap,this._massWrap=ws.massWrap,this._massUnwrap=ws.massUnwrap,this._config=Object.assign({enabled:!0},r),this._diag=Ds.diag.createComponentLogger({namespace:e}),this._tracer=Ds.trace.getTracer(e,t),this._meter=Ds.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}},Object.defineProperty(Ms,"__esModule",{value:!0}),Ms.InstrumentationBase=void 0;const Us=Ls;let Bs=class extends Us.InstrumentationAbstract{constructor(e,t,r={}){super(e,t,r),this._config.enabled&&this.enable()}};Ms.InstrumentationBase=Bs,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ms,e)}(Cs);var js={};Object.defineProperty(js,"__esModule",{value:!0});var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});var xs={};Object.defineProperty(xs,"__esModule",{value:!0}),xs.isWrapped=xs.safeExecuteInTheMiddleAsync=xs.safeExecuteInTheMiddle=void 0,xs.safeExecuteInTheMiddle=function(e,t,r){let n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},xs.safeExecuteInTheMiddleAsync=async function(e,t,r){let n,o;try{o=await e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},xs.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ns,e),n(Cs,e),n(js,e),n(Gs,e),n(xs,e)}(bs);var Vs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeNames=void 0,function(e){e.DOCUMENT_LOAD="documentLoad",e.DOCUMENT_FETCH="documentFetch",e.RESOURCE_FETCH="resourceFetch"}(e.AttributeNames||(e.AttributeNames={}))}(Vs);var ks={};Object.defineProperty(ks,"__esModule",{value:!0}),ks.VERSION=void 0,ks.VERSION="0.34.0";var Fs={},Hs={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventNames=void 0,function(e){e.FIRST_PAINT="firstPaint",e.FIRST_CONTENTFUL_PAINT="firstContentfulPaint"}(e.EventNames||(e.EventNames={}))}(Hs),Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.addSpanPerformancePaintEvents=Fs.getPerformanceNavigationEntries=void 0;const Ks=Tr,Xs=Wo,Ws=Hs;Fs.getPerformanceNavigationEntries=()=>{var e,t;const r={},n=null===(t=(e=Ks.otperformance).getEntriesByType)||void 0===t?void 0:t.call(e,"navigation")[0];if(n){Object.values(Xs.PerformanceTimingNames).forEach((e=>{if((0,Xs.hasKey)(n,e)){const t=n[e];"number"==typeof t&&(r[e]=t)}}))}else{const e=Ks.otperformance.timing;if(e){Object.values(Xs.PerformanceTimingNames).forEach((t=>{if((0,Xs.hasKey)(e,t)){const n=e[t];"number"==typeof n&&(r[t]=n)}}))}}return r};const Ys={"first-paint":Ws.EventNames.FIRST_PAINT,"first-contentful-paint":Ws.EventNames.FIRST_CONTENTFUL_PAINT};Fs.addSpanPerformancePaintEvents=e=>{var t,r;const n=null===(r=(t=Ks.otperformance).getEntriesByType)||void 0===r?void 0:r.call(t,"paint");n&&n.forEach((({name:t,startTime:r})=>{(0,Xs.hasKey)(Ys,t)&&e.addEvent(Ys[t],r)}))},Object.defineProperty(pr,"__esModule",{value:!0}),pr.DocumentLoadInstrumentation=void 0;const zs=i,$s=Tr,qs=Wo,Zs=bs,Js=Vs,Qs=ks,ec=bn,tc=Fs;pr.DocumentLoadInstrumentation=class extends Zs.InstrumentationBase{constructor(e={}){super("@opentelemetry/instrumentation-document-load",Qs.VERSION,e),this.component="document-load",this.version="1",this.moduleName=this.component}init(){}_onDocumentLoaded(){window.setTimeout((()=>{this._collectPerformance()}))}_addResourcesSpans(e){var t,r;const n=null===(r=(t=$s.otperformance).getEntriesByType)||void 0===r?void 0:r.call(t,"resource");n&&n.forEach((t=>{this._initResourceSpan(t,e)}))}_collectPerformance(){const e=Array.from(document.getElementsByTagName("meta")).find((e=>e.getAttribute("name")===$s.TRACE_PARENT_HEADER)),t=(0,tc.getPerformanceNavigationEntries)(),r=e&&e.content||"";zs.context.with(zs.propagation.extract(zs.ROOT_CONTEXT,{traceparent:r}),(()=>{var e;const r=this._startSpan(Js.AttributeNames.DOCUMENT_LOAD,qs.PerformanceTimingNames.FETCH_START,t);r&&(zs.context.with(zs.trace.setSpan(zs.context.active(),r),(()=>{const e=this._startSpan(Js.AttributeNames.DOCUMENT_FETCH,qs.PerformanceTimingNames.FETCH_START,t);e&&(e.setAttribute(ec.SemanticAttributes.HTTP_URL,location.href),zs.context.with(zs.trace.setSpan(zs.context.active(),e),(()=>{var r;(0,qs.addSpanNetworkEvents)(e,t),this._addCustomAttributesOnSpan(e,null===(r=this._getConfig().applyCustomAttributesOnSpan)||void 0===r?void 0:r.documentFetch),this._endSpan(e,qs.PerformanceTimingNames.RESPONSE_END,t)})))})),r.setAttribute(ec.SemanticAttributes.HTTP_URL,location.href),r.setAttribute(ec.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent),this._addResourcesSpans(r),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.FETCH_START,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.UNLOAD_EVENT_START,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.UNLOAD_EVENT_END,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.DOM_INTERACTIVE,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_START,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.DOM_CONTENT_LOADED_EVENT_END,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.DOM_COMPLETE,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.LOAD_EVENT_START,t),(0,qs.addSpanNetworkEvent)(r,qs.PerformanceTimingNames.LOAD_EVENT_END,t),(0,tc.addSpanPerformancePaintEvents)(r),this._addCustomAttributesOnSpan(r,null===(e=this._getConfig().applyCustomAttributesOnSpan)||void 0===e?void 0:e.documentLoad),this._endSpan(r,qs.PerformanceTimingNames.LOAD_EVENT_END,t))}))}_endSpan(e,t,r){e&&((0,qs.hasKey)(r,t)?e.end(r[t]):e.end())}_initResourceSpan(e,t){var r;const n=this._startSpan(Js.AttributeNames.RESOURCE_FETCH,qs.PerformanceTimingNames.FETCH_START,e,t);n&&(n.setAttribute(ec.SemanticAttributes.HTTP_URL,e.name),(0,qs.addSpanNetworkEvents)(n,e),this._addCustomAttributesOnResourceSpan(n,e,null===(r=this._getConfig().applyCustomAttributesOnSpan)||void 0===r?void 0:r.resourceFetch),this._endSpan(n,qs.PerformanceTimingNames.RESPONSE_END,e))}_startSpan(e,t,r,n){if((0,qs.hasKey)(r,t)&&"number"==typeof r[t]){return this.tracer.startSpan(e,{startTime:r[t]},n?zs.trace.setSpan(zs.context.active(),n):void 0)}}_waitForPageLoad(){"complete"===window.document.readyState?this._onDocumentLoaded():(this._onDocumentLoaded=this._onDocumentLoaded.bind(this),window.addEventListener("load",this._onDocumentLoaded))}_getConfig(){return this._config}_addCustomAttributesOnSpan(e,t){t&&(0,Zs.safeExecuteInTheMiddle)((()=>t(e)),(e=>{e&&this._diag.error("addCustomAttributesOnSpan",e)}),!0)}_addCustomAttributesOnResourceSpan(e,t,r){r&&(0,Zs.safeExecuteInTheMiddle)((()=>r(e,t)),(e=>{e&&this._diag.error("addCustomAttributesOnResourceSpan",e)}),!0)}enable(){window.removeEventListener("load",this._onDocumentLoaded),this._waitForPageLoad()}disable(){window.removeEventListener("load",this._onDocumentLoaded)}};var rc={};Object.defineProperty(rc,"__esModule",{value:!0}),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(pr,e),n(Vs,e),n(rc,e)}(Er);var nc={},oc={},ic={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeNames=void 0,function(e){e.COMPONENT="component",e.HTTP_ERROR_NAME="http.error_name",e.HTTP_STATUS_TEXT="http.status_text"}(e.AttributeNames||(e.AttributeNames={}))}(ic);var ac={};Object.defineProperty(ac,"__esModule",{value:!0}),ac.VERSION=void 0,ac.VERSION="0.46.0",Object.defineProperty(oc,"__esModule",{value:!0}),oc.FetchInstrumentation=void 0;const sc=i,cc=n,uc=Tr,lc=Wo,dc=ic,_c=bn,Ec=ac,pc=Tr;class Tc extends cc.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-fetch",Ec.VERSION,e),this.component="fetch",this.version=Ec.VERSION,this.moduleName=this.component,this._usedResources=new WeakSet,this._tasksCount=0}init(){}_getConfig(){return this._config}_addChildSpan(e,t){const r=this.tracer.startSpan("CORS Preflight",{startTime:t[lc.PerformanceTimingNames.FETCH_START]},sc.trace.setSpan(sc.context.active(),e));this._getConfig().ignoreNetworkEvents||lc.addSpanNetworkEvents(r,t),r.end(t[lc.PerformanceTimingNames.RESPONSE_END])}_addFinalSpanAttributes(e,t){const r=lc.parseUrl(t.url);e.setAttribute(_c.SemanticAttributes.HTTP_STATUS_CODE,t.status),null!=t.statusText&&e.setAttribute(dc.AttributeNames.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(_c.SemanticAttributes.HTTP_HOST,r.host),e.setAttribute(_c.SemanticAttributes.HTTP_SCHEME,r.protocol.replace(":","")),"undefined"!=typeof navigator&&e.setAttribute(_c.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}_addHeaders(e,t){if(!lc.shouldPropagateTraceHeaders(t,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};return sc.propagation.inject(sc.context.active(),e),void(Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}if(e instanceof Request)sc.propagation.inject(sc.context.active(),e.headers,{set:(e,t,r)=>e.set(t,"string"==typeof r?r:String(r))});else if(e.headers instanceof Headers)sc.propagation.inject(sc.context.active(),e.headers,{set:(e,t,r)=>e.set(t,"string"==typeof r?r:String(r))});else{const t={};sc.propagation.inject(sc.context.active(),t),e.headers=Object.assign({},t,e.headers||{})}}_clearResources(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(performance.clearResourceTimings(),this._usedResources=new WeakSet)}_createSpan(e,t={}){if(uc.isUrlIgnored(e,this._getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");const r=(t.method||"GET").toUpperCase(),n=`HTTP ${r}`;return this.tracer.startSpan(n,{kind:sc.SpanKind.CLIENT,attributes:{[dc.AttributeNames.COMPONENT]:this.moduleName,[_c.SemanticAttributes.HTTP_METHOD]:r,[_c.SemanticAttributes.HTTP_URL]:e}})}_findResourceAndAddNetworkEvents(e,t,r){let n=t.entries;if(!n.length){if(!performance.getEntriesByType)return;n=performance.getEntriesByType("resource")}const o=lc.getResource(t.spanUrl,t.startTime,r,n,this._usedResources,"fetch");if(o.mainRequest){const t=o.mainRequest;this._markResourceAsUsed(t);const r=o.corsPreFlightRequest;r&&(this._addChildSpan(e,r),this._markResourceAsUsed(r)),this._getConfig().ignoreNetworkEvents||lc.addSpanNetworkEvents(e,t)}}_markResourceAsUsed(e){this._usedResources.add(e)}_endSpan(e,t,r){const n=uc.millisToHrTime(Date.now()),o=uc.hrTime();this._addFinalSpanAttributes(e,r),setTimeout((()=>{var r;null===(r=t.observer)||void 0===r||r.disconnect(),this._findResourceAndAddNetworkEvents(e,t,o),this._tasksCount--,this._clearResources(),e.end(n)}),300)}_patchConstructor(){return e=>{const t=this;return function(...r){const n=this,o=lc.parseUrl(r[0]instanceof Request?r[0].url:String(r[0])).href,i=r[0]instanceof Request?r[0]:r[1]||{},a=t._createSpan(o,i);if(!a)return e.apply(this,r);const s=t._prepareSpanData(o);function c(e,r){t._applyAttributesAfterFetch(e,i,r),t._endSpan(e,s,{status:r.status||0,statusText:r.message,url:o})}function u(e,r){t._applyAttributesAfterFetch(e,i,r),r.status>=200&&r.status<400?t._endSpan(e,s,r):t._endSpan(e,s,{status:r.status,statusText:r.statusText,url:o})}function l(e,t,r){try{const t=r.clone(),n=r.clone(),o=t.body;if(o){const t=o.getReader(),r=()=>{t.read().then((({done:t})=>{t?u(e,n):r()}),(t=>{c(e,t)}))};r()}else u(e,r)}finally{t(r)}}function d(e,t,r){try{c(e,r)}finally{t(r)}}return new Promise(((r,s)=>sc.context.with(sc.trace.setSpan(sc.context.active(),a),(()=>(t._addHeaders(i,o),t._tasksCount++,e.apply(n,i instanceof Request?[i]:[o,i]).then(l.bind(n,a,r),d.bind(n,a,s)))))))}}}_applyAttributesAfterFetch(e,t,r){const n=this._getConfig().applyCustomAttributesOnSpan;n&&(0,cc.safeExecuteInTheMiddle)((()=>n(e,t,r)),(e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)}),!0)}_prepareSpanData(e){const t=uc.hrTime(),r=[];if("function"!=typeof PerformanceObserver)return{entries:r,startTime:t,spanUrl:e};const n=new PerformanceObserver((t=>{t.getEntries().forEach((t=>{"fetch"===t.initiatorType&&t.name===e&&r.push(t)}))}));return n.observe({entryTypes:["resource"]}),{entries:r,observer:n,startTime:t,spanUrl:e}}enable(){(0,cc.isWrapped)(fetch)&&(this._unwrap(pc._globalThis,"fetch"),this._diag.debug("removing previous patch for constructor")),this._wrap(pc._globalThis,"fetch",this._patchConstructor())}disable(){this._unwrap(pc._globalThis,"fetch"),this._usedResources=new WeakSet}}oc.FetchInstrumentation=Tc,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(oc,e)}(nc);var mc={},fc={},gc={},Ac={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.disableInstrumentations=Sc.enableInstrumentations=Sc.parseInstrumentationOptions=void 0,Sc.parseInstrumentationOptions=function e(t=[]){let r=[];for(let n=0,o=t.length;n<o;n++){const o=t[n];if(Array.isArray(o)){const t=e(o);r=r.concat(t.instrumentations)}else"function"==typeof o?r.push(new o):o.instrumentationName&&r.push(o)}return{instrumentations:r}},Sc.enableInstrumentations=function(e,t,r){for(let n=0,o=e.length;n<o;n++){const o=e[n];t&&o.setTracerProvider(t),r&&o.setMeterProvider(r),o.getConfig().enabled||o.enable()}},Sc.disableInstrumentations=function(e){e.forEach((e=>e.disable()))},Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.registerInstrumentations=void 0;const Oc=i,hc=Sc;Ac.registerInstrumentations=function(e){const{instrumentations:t}=(0,hc.parseInstrumentationOptions)(e.instrumentations),r=e.tracerProvider||Oc.trace.getTracerProvider(),n=e.meterProvider||Oc.metrics.getMeterProvider();return(0,hc.enableInstrumentations)(t,r,n),()=>{(0,hc.disableInstrumentations)(t)}};var vc={},yc={},bc={};Object.defineProperty(bc,"__esModule",{value:!0}),bc.InstrumentationAbstract=void 0;const Nc=i,Pc=kt;bc.InstrumentationAbstract=class{constructor(e,t,r={}){this.instrumentationName=e,this.instrumentationVersion=t,this._wrap=Pc.wrap,this._unwrap=Pc.unwrap,this._massWrap=Pc.massWrap,this._massUnwrap=Pc.massUnwrap,this._config=Object.assign({enabled:!0},r),this._diag=Nc.diag.createComponentLogger({namespace:e}),this._tracer=Nc.trace.getTracer(e,t),this._meter=Nc.metrics.getMeter(e,t),this._updateMetricInstruments()}get meter(){return this._meter}setMeterProvider(e){this._meter=e.getMeter(this.instrumentationName,this.instrumentationVersion),this._updateMetricInstruments()}_updateMetricInstruments(){}getConfig(){return this._config}setConfig(e={}){this._config=Object.assign({},e)}setTracerProvider(e){this._tracer=e.getTracer(this.instrumentationName,this.instrumentationVersion)}get tracer(){return this._tracer}},Object.defineProperty(yc,"__esModule",{value:!0}),yc.InstrumentationBase=void 0;const Rc=bc;class Ic extends Rc.InstrumentationAbstract{constructor(e,t,r={}){super(e,t,r),this._config.enabled&&this.enable()}}yc.InstrumentationBase=Ic,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(yc,e)}(vc);var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.isWrapped=Lc.safeExecuteInTheMiddleAsync=Lc.safeExecuteInTheMiddle=void 0,Lc.safeExecuteInTheMiddle=function(e,t,r){let n,o;try{o=e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},Lc.safeExecuteInTheMiddleAsync=async function(e,t,r){let n,o;try{o=await e()}catch(e){n=e}finally{if(t(n,o),n&&!r)throw n;return o}},Lc.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ac,e),n(vc,e),n(Cc,e),n(Mc,e),n(Lc,e)}(gc);var Dc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeNames=void 0,function(e){e.EVENT_TYPE="event_type",e.TARGET_ELEMENT="target_element",e.TARGET_XPATH="target_xpath",e.HTTP_URL="http.url"}(e.AttributeNames||(e.AttributeNames={}))}(Dc);var wc={};Object.defineProperty(wc,"__esModule",{value:!0}),wc.VERSION=void 0,wc.VERSION="0.34.0",Object.defineProperty(fc,"__esModule",{value:!0}),fc.UserInteractionInstrumentation=void 0;const Uc=gc,Bc=i,jc=Tr,Gc=Wo,xc=Dc,Vc=wc,kc=["click"];function Fc(){return!1}fc.UserInteractionInstrumentation=class extends Uc.InstrumentationBase{constructor(e){var t;super("@opentelemetry/instrumentation-user-interaction",Vc.VERSION,e),this.version=Vc.VERSION,this.moduleName="user-interaction",this._spansData=new WeakMap,this._wrappedListeners=new WeakMap,this._eventsSpanMap=new WeakMap,this._eventNames=new Set(null!==(t=null==e?void 0:e.eventNames)&&void 0!==t?t:kc),this._shouldPreventSpanCreation="function"==typeof(null==e?void 0:e.shouldPreventSpanCreation)?e.shouldPreventSpanCreation:Fc}init(){}_checkForTimeout(e,t){const r=this._spansData.get(t);r&&("setTimeout"===e.source?r.hrTimeLastTimeout=(0,jc.hrTime)():"Promise.then"!==e.source&&"setTimeout"!==e.source&&(r.hrTimeLastTimeout=void 0))}_allowEventName(e){return this._eventNames.has(e)}_createSpan(e,t,r){if(!(e instanceof HTMLElement))return;if(!e.getAttribute)return;if(e.hasAttribute("disabled"))return;if(!this._allowEventName(t))return;const n=(0,Gc.getElementXPath)(e,!0);try{const o=this.tracer.startSpan(t,{attributes:{[xc.AttributeNames.EVENT_TYPE]:t,[xc.AttributeNames.TARGET_ELEMENT]:e.tagName,[xc.AttributeNames.TARGET_XPATH]:n,[xc.AttributeNames.HTTP_URL]:window.location.href}},r?Bc.trace.setSpan(Bc.context.active(),r):void 0);if(!0===this._shouldPreventSpanCreation(t,e,o))return;return this._spansData.set(o,{taskCount:0}),o}catch(e){this._diag.error("failed to start create new user interaction span",e)}}_decrementTask(e){const t=this._spansData.get(e);t&&(t.taskCount--,0===t.taskCount&&this._tryToEndSpan(e,t.hrTimeLastTimeout))}_getCurrentSpan(e){const t=e.get("OT_ZONE_CONTEXT");return t?Bc.trace.getSpan(t):t}_incrementTask(e){const t=this._spansData.get(e);t&&t.taskCount++}addPatchedListener(e,t,r,n){let o=this._wrappedListeners.get(r);o||(o=new Map,this._wrappedListeners.set(r,o));let i=o.get(t);return i||(i=new Map,o.set(t,i)),!i.has(e)&&(i.set(e,n),!0)}removePatchedListener(e,t,r){const n=this._wrappedListeners.get(r);if(!n)return;const o=n.get(t);if(!o)return;const i=o.get(e);return i&&(o.delete(e),0===o.size&&(n.delete(t),0===n.size&&this._wrappedListeners.delete(r))),i}_invokeListener(e,t,r){return"function"==typeof e?e.apply(t,r):e.handleEvent(r[0])}_patchAddEventListener(){const e=this;return t=>function(r,n,o){if(!n)return t.call(this,r,n,o);const i=o&&"object"==typeof o&&o.once,a=function(...t){let o;const a=t[0],s=null==a?void 0:a.target;a&&(o=e._eventsSpanMap.get(a)),i&&e.removePatchedListener(this,r,n);const c=e._createSpan(s,r,o);return c?(a&&e._eventsSpanMap.set(a,c),Bc.context.with(Bc.trace.setSpan(Bc.context.active(),c),(()=>{const r=e._invokeListener(n,this,t);return c.end(),r}))):e._invokeListener(n,this,t)};return e.addPatchedListener(this,r,n,a)?t.call(this,r,a,o):void 0}}_patchRemoveEventListener(){const e=this;return t=>function(r,n,o){const i=e.removePatchedListener(this,r,n);return i?t.call(this,r,i,o):t.call(this,r,n,o)}}_getPatchableEventTargets(){return window.EventTarget?[EventTarget.prototype]:[Node.prototype,Window.prototype]}_patchHistoryApi(){this._unpatchHistoryApi(),this._wrap(history,"replaceState",this._patchHistoryMethod()),this._wrap(history,"pushState",this._patchHistoryMethod()),this._wrap(history,"back",this._patchHistoryMethod()),this._wrap(history,"forward",this._patchHistoryMethod()),this._wrap(history,"go",this._patchHistoryMethod())}_patchHistoryMethod(){const e=this;return t=>function(...r){const n=`${location.pathname}${location.hash}${location.search}`,o=t.apply(this,r),i=`${location.pathname}${location.hash}${location.search}`;return n!==i&&e._updateInteractionName(i),o}}_unpatchHistoryApi(){(0,Uc.isWrapped)(history.replaceState)&&this._unwrap(history,"replaceState"),(0,Uc.isWrapped)(history.pushState)&&this._unwrap(history,"pushState"),(0,Uc.isWrapped)(history.back)&&this._unwrap(history,"back"),(0,Uc.isWrapped)(history.forward)&&this._unwrap(history,"forward"),(0,Uc.isWrapped)(history.go)&&this._unwrap(history,"go")}_updateInteractionName(e){const t=Bc.trace.getSpan(Bc.context.active());t&&"function"==typeof t.updateName&&t.updateName(`Navigation: ${e}`)}_patchZoneCancelTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&e._decrementTask(o),t.call(this,r)}}_patchZoneScheduleTask(){const e=this;return t=>function(r){const n=Zone.current,o=e._getCurrentSpan(n);return o&&e._shouldCountTask(r,n)&&(e._incrementTask(o),e._checkForTimeout(r,o)),t.call(this,r)}}_patchZoneRunTask(){const e=this;return t=>function(r,n,o){const i=Array.isArray(o)&&o[0]instanceof Event?o[0]:void 0,a=null==i?void 0:i.target;let s;const c=this;if(a){if(s=e._createSpan(a,r.eventName),s)return e._incrementTask(s),c.run((()=>{try{return Bc.context.with(Bc.trace.setSpan(Bc.context.active(),s),(()=>{const e=Zone.current;return r._zone=e,t.call(e,r,n,o)}))}finally{e._decrementTask(s)}}))}else s=e._getCurrentSpan(c);try{return t.call(c,r,n,o)}finally{s&&e._shouldCountTask(r,c)&&e._decrementTask(s)}}}_shouldCountTask(e,t){if(e._zone&&(t=e._zone),!t||!e.data||e.data.isPeriodic)return!1;const r=this._getCurrentSpan(t);return!!r&&(!!this._spansData.get(r)&&("macroTask"===e.type||"microTask"===e.type))}_tryToEndSpan(e,t){if(e){this._spansData.get(e)&&(e.end(t),this._spansData.delete(e))}}enable(){const e=this.getZoneWithPrototype();if(this._diag.debug("applying patch to",this.moduleName,this.version,"zone:",!!e),e)(0,Uc.isWrapped)(e.prototype.runTask)&&(this._unwrap(e.prototype,"runTask"),this._diag.debug("removing previous patch from method runTask")),(0,Uc.isWrapped)(e.prototype.scheduleTask)&&(this._unwrap(e.prototype,"scheduleTask"),this._diag.debug("removing previous patch from method scheduleTask")),(0,Uc.isWrapped)(e.prototype.cancelTask)&&(this._unwrap(e.prototype,"cancelTask"),this._diag.debug("removing previous patch from method cancelTask")),this._zonePatched=!0,this._wrap(e.prototype,"runTask",this._patchZoneRunTask()),this._wrap(e.prototype,"scheduleTask",this._patchZoneScheduleTask()),this._wrap(e.prototype,"cancelTask",this._patchZoneCancelTask());else{this._zonePatched=!1;this._getPatchableEventTargets().forEach((e=>{(0,Uc.isWrapped)(e.addEventListener)&&(this._unwrap(e,"addEventListener"),this._diag.debug("removing previous patch from method addEventListener")),(0,Uc.isWrapped)(e.removeEventListener)&&(this._unwrap(e,"removeEventListener"),this._diag.debug("removing previous patch from method removeEventListener")),this._wrap(e,"addEventListener",this._patchAddEventListener()),this._wrap(e,"removeEventListener",this._patchRemoveEventListener())}))}this._patchHistoryApi()}disable(){const e=this.getZoneWithPrototype();if(this._diag.debug("removing patch from",this.moduleName,this.version,"zone:",!!e),e&&this._zonePatched)(0,Uc.isWrapped)(e.prototype.runTask)&&this._unwrap(e.prototype,"runTask"),(0,Uc.isWrapped)(e.prototype.scheduleTask)&&this._unwrap(e.prototype,"scheduleTask"),(0,Uc.isWrapped)(e.prototype.cancelTask)&&this._unwrap(e.prototype,"cancelTask");else{this._getPatchableEventTargets().forEach((e=>{(0,Uc.isWrapped)(e.addEventListener)&&this._unwrap(e,"addEventListener"),(0,Uc.isWrapped)(e.removeEventListener)&&this._unwrap(e,"removeEventListener")}))}this._unpatchHistoryApi()}getZoneWithPrototype(){return window.Zone}};var Hc={};Object.defineProperty(Hc,"__esModule",{value:!0}),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(fc,e),n(Hc,e),n(Dc,e)}(mc);var Kc={},Xc={},Wc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.EventNames=void 0,function(e){e.METHOD_OPEN="open",e.METHOD_SEND="send",e.EVENT_ABORT="abort",e.EVENT_ERROR="error",e.EVENT_LOAD="loaded",e.EVENT_TIMEOUT="timeout"}(e.EventNames||(e.EventNames={}))}(Wc);var Yc={};Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.VERSION=void 0,Yc.VERSION="0.46.0";var zc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeNames=void 0,function(e){e.HTTP_STATUS_TEXT="http.status_text"}(e.AttributeNames||(e.AttributeNames={}))}(zc),Object.defineProperty(Xc,"__esModule",{value:!0}),Xc.XMLHttpRequestInstrumentation=void 0;const $c=i,qc=n,Zc=Tr,Jc=bn,Qc=Wo,eu=Wc,tu=Yc,ru=zc;class nu extends qc.InstrumentationBase{constructor(e){super("@opentelemetry/instrumentation-xml-http-request",tu.VERSION,e),this.component="xml-http-request",this.version=tu.VERSION,this.moduleName=this.component,this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}init(){}_getConfig(){return this._config}_addHeaders(e,t){const r=(0,Qc.parseUrl)(t).href;if(!(0,Qc.shouldPropagateTraceHeaders)(r,this._getConfig().propagateTraceHeaderCorsUrls)){const e={};return $c.propagation.inject($c.context.active(),e),void(Object.keys(e).length>0&&this._diag.debug("headers inject skipped due to CORS policy"))}const n={};$c.propagation.inject($c.context.active(),n),Object.keys(n).forEach((t=>{e.setRequestHeader(t,String(n[t]))}))}_addChildSpan(e,t){$c.context.with($c.trace.setSpan($c.context.active(),e),(()=>{const e=this.tracer.startSpan("CORS Preflight",{startTime:t[Qc.PerformanceTimingNames.FETCH_START]});(0,Qc.addSpanNetworkEvents)(e,t),e.end(t[Qc.PerformanceTimingNames.RESPONSE_END])}))}_addFinalSpanAttributes(e,t,r){if("string"==typeof r){const n=(0,Qc.parseUrl)(r);void 0!==t.status&&e.setAttribute(Jc.SemanticAttributes.HTTP_STATUS_CODE,t.status),void 0!==t.statusText&&e.setAttribute(ru.AttributeNames.HTTP_STATUS_TEXT,t.statusText),e.setAttribute(Jc.SemanticAttributes.HTTP_HOST,n.host),e.setAttribute(Jc.SemanticAttributes.HTTP_SCHEME,n.protocol.replace(":","")),e.setAttribute(Jc.SemanticAttributes.HTTP_USER_AGENT,navigator.userAgent)}}_applyAttributesAfterXHR(e,t){const r=this._getConfig().applyCustomAttributesOnSpan;"function"==typeof r&&(0,qc.safeExecuteInTheMiddle)((()=>r(e,t)),(e=>{e&&this._diag.error("applyCustomAttributesOnSpan",e)}),!0)}_addResourceObserver(e,t){const r=this._xhrMem.get(e);r&&"function"==typeof PerformanceObserver&&"function"==typeof PerformanceResourceTiming&&(r.createdResources={observer:new PerformanceObserver((e=>{const n=e.getEntries(),o=(0,Qc.parseUrl)(t);n.forEach((e=>{"xmlhttprequest"===e.initiatorType&&e.name===o.href&&r.createdResources&&r.createdResources.entries.push(e)}))})),entries:[]},r.createdResources.observer.observe({entryTypes:["resource"]}))}_clearResources(){0===this._tasksCount&&this._getConfig().clearTimingResources&&(Zc.otperformance.clearResourceTimings(),this._xhrMem=new WeakMap,this._usedResources=new WeakSet)}_findResourceAndAddNetworkEvents(e,t,r,n,o){if(!(r&&n&&o&&e.createdResources))return;let i=e.createdResources.entries;i&&i.length||(i=Zc.otperformance.getEntriesByType("resource"));const a=(0,Qc.getResource)((0,Qc.parseUrl)(r).href,n,o,i,this._usedResources);if(a.mainRequest){const e=a.mainRequest;this._markResourceAsUsed(e);const r=a.corsPreFlightRequest;r&&(this._addChildSpan(t,r),this._markResourceAsUsed(r)),(0,Qc.addSpanNetworkEvents)(t,e)}}_cleanPreviousSpanInformation(e){const t=this._xhrMem.get(e);if(t){const r=t.callbackToRemoveEvents;r&&r(),this._xhrMem.delete(e)}}_createSpan(e,t,r){if((0,Zc.isUrlIgnored)(t,this._getConfig().ignoreUrls))return void this._diag.debug("ignoring span as url matches ignored url");const n=r.toUpperCase(),o=this.tracer.startSpan(n,{kind:$c.SpanKind.CLIENT,attributes:{[Jc.SemanticAttributes.HTTP_METHOD]:r,[Jc.SemanticAttributes.HTTP_URL]:(0,Qc.parseUrl)(t).toString()}});return o.addEvent(eu.EventNames.METHOD_OPEN),this._cleanPreviousSpanInformation(e),this._xhrMem.set(e,{span:o,spanUrl:t}),o}_markResourceAsUsed(e){this._usedResources.add(e)}_patchOpen(){return e=>{const t=this;return function(...r){const n=r[0],o=r[1];return t._createSpan(this,o,n),e.apply(this,r)}}}_patchSend(){const e=this;function t(t,r){const n=e._xhrMem.get(r);if(!n)return;n.status=r.status,n.statusText=r.statusText,e._xhrMem.delete(r),n.span&&e._applyAttributesAfterXHR(n.span,r);const o=(0,Zc.hrTime)(),i=Date.now();setTimeout((()=>{!function(t,r,n,o){const i=r.callbackToRemoveEvents;"function"==typeof i&&i();const{span:a,spanUrl:s,sendStartTime:c}=r;a&&(e._findResourceAndAddNetworkEvents(r,a,s,c,n),a.addEvent(t,o),e._addFinalSpanAttributes(a,r,s),a.end(o),e._tasksCount--),e._clearResources()}(t,n,o,i)}),300)}function r(){t(eu.EventNames.EVENT_ERROR,this)}function n(){t(eu.EventNames.EVENT_ABORT,this)}function o(){t(eu.EventNames.EVENT_TIMEOUT,this)}function i(){this.status<299?t(eu.EventNames.EVENT_LOAD,this):t(eu.EventNames.EVENT_ERROR,this)}return t=>function(...a){const s=e._xhrMem.get(this);if(!s)return t.apply(this,a);const c=s.span,u=s.spanUrl;return c&&u&&$c.context.with($c.trace.setSpan($c.context.active(),c),(()=>{e._tasksCount++,s.sendStartTime=(0,Zc.hrTime)(),c.addEvent(eu.EventNames.METHOD_SEND),this.addEventListener("abort",n),this.addEventListener("error",r),this.addEventListener("load",i),this.addEventListener("timeout",o),s.callbackToRemoveEvents=()=>{!function(t){t.removeEventListener("abort",n),t.removeEventListener("error",r),t.removeEventListener("load",i),t.removeEventListener("timeout",o);const a=e._xhrMem.get(t);a&&(a.callbackToRemoveEvents=void 0)}(this),s.createdResources&&s.createdResources.observer.disconnect()},e._addHeaders(this,u),e._addResourceObserver(this,u)})),t.apply(this,a)}}enable(){this._diag.debug("applying patch to",this.moduleName,this.version),(0,qc.isWrapped)(XMLHttpRequest.prototype.open)&&(this._unwrap(XMLHttpRequest.prototype,"open"),this._diag.debug("removing previous patch from method open")),(0,qc.isWrapped)(XMLHttpRequest.prototype.send)&&(this._unwrap(XMLHttpRequest.prototype,"send"),this._diag.debug("removing previous patch from method send")),this._wrap(XMLHttpRequest.prototype,"open",this._patchOpen()),this._wrap(XMLHttpRequest.prototype,"send",this._patchSend())}disable(){this._diag.debug("removing patch from",this.moduleName,this.version),this._unwrap(XMLHttpRequest.prototype,"open"),this._unwrap(XMLHttpRequest.prototype,"send"),this._tasksCount=0,this._xhrMem=new WeakMap,this._usedResources=new WeakSet}}Xc.XMLHttpRequestInstrumentation=nu,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Xc,e)}(Kc);var ou={},iu={},au={},su={},cu={};Object.defineProperty(cu,"__esModule",{value:!0}),cu.MessageTypeValues=cu.RpcGrpcStatusCodeValues=cu.MessagingOperationValues=cu.MessagingDestinationKindValues=cu.HttpFlavorValues=cu.NetHostConnectionSubtypeValues=cu.NetHostConnectionTypeValues=cu.NetTransportValues=cu.FaasInvokedProviderValues=cu.FaasDocumentOperationValues=cu.FaasTriggerValues=cu.DbCassandraConsistencyLevelValues=cu.DbSystemValues=cu.SemanticAttributes=void 0,cu.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},cu.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},cu.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},cu.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},cu.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},cu.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},cu.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},cu.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},cu.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},cu.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},cu.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},cu.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},cu.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},cu.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(cu,e)}(su);var uu={},lu={};Object.defineProperty(lu,"__esModule",{value:!0}),lu.TelemetrySdkLanguageValues=lu.OsTypeValues=lu.HostArchValues=lu.AwsEcsLaunchtypeValues=lu.CloudPlatformValues=lu.CloudProviderValues=lu.SemanticResourceAttributes=void 0,lu.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},lu.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},lu.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},lu.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},lu.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},lu.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},lu.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(lu,e)}(uu),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(su,e),n(uu,e)}(au);var du={},_u={},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.isTracingSuppressed=Eu.unsuppressTracing=Eu.suppressTracing=void 0;const pu=(0,i.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");Eu.suppressTracing=function(e){return e.setValue(pu,!0)},Eu.unsuppressTracing=function(e){return e.deleteValue(pu)},Eu.isTracingSuppressed=function(e){return!0===e.getValue(pu)};var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.BAGGAGE_MAX_TOTAL_LENGTH=Tu.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=Tu.BAGGAGE_MAX_NAME_VALUE_PAIRS=Tu.BAGGAGE_HEADER=Tu.BAGGAGE_ITEMS_SEPARATOR=Tu.BAGGAGE_PROPERTIES_SEPARATOR=Tu.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,Tu.BAGGAGE_KEY_PAIR_SEPARATOR="=",Tu.BAGGAGE_PROPERTIES_SEPARATOR=";",Tu.BAGGAGE_ITEMS_SEPARATOR=",",Tu.BAGGAGE_HEADER="baggage",Tu.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,Tu.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,Tu.BAGGAGE_MAX_TOTAL_LENGTH=8192;var mu={};Object.defineProperty(mu,"__esModule",{value:!0}),mu.parseKeyPairsIntoRecord=mu.parsePairKeyValue=mu.getKeyPairs=mu.serializeKeyPairs=void 0;const fu=i,gu=Tu;function Au(e){const t=e.split(gu.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.indexOf(gu.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;const o=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim());let a;return t.length>0&&(a=(0,fu.baggageEntryMetadataFromString)(t.join(gu.BAGGAGE_PROPERTIES_SEPARATOR))),{key:o,value:i,metadata:a}}mu.serializeKeyPairs=function(e){return e.reduce(((e,t)=>{const r=`${e}${""!==e?gu.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>gu.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")},mu.getKeyPairs=function(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=gu.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),r}))},mu.parsePairKeyValue=Au,mu.parseKeyPairsIntoRecord=function(e){return"string"!=typeof e||0===e.length?{}:e.split(gu.BAGGAGE_ITEMS_SEPARATOR).map((e=>Au(e))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},Object.defineProperty(_u,"__esModule",{value:!0}),_u.W3CBaggagePropagator=void 0;const Su=i,Ou=Eu,hu=Tu,vu=mu;_u.W3CBaggagePropagator=class{inject(e,t,r){const n=Su.propagation.getBaggage(e);if(!n||(0,Ou.isTracingSuppressed)(e))return;const o=(0,vu.getKeyPairs)(n).filter((e=>e.length<=hu.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,hu.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,vu.serializeKeyPairs)(o);i.length>0&&r.set(t,hu.BAGGAGE_HEADER,i)}extract(e,t,r){const n=r.get(t,hu.BAGGAGE_HEADER),o=Array.isArray(n)?n.join(hu.BAGGAGE_ITEMS_SEPARATOR):n;if(!o)return e;const i={};if(0===o.length)return e;return o.split(hu.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{const t=(0,vu.parsePairKeyValue)(e);if(t){const e={value:t.value};t.metadata&&(e.metadata=t.metadata),i[t.key]=e}})),0===Object.entries(i).length?e:Su.propagation.setBaggage(e,Su.propagation.createBaggage(i))}fields(){return[hu.BAGGAGE_HEADER]}};var yu={};Object.defineProperty(yu,"__esModule",{value:!0}),yu.AnchoredClock=void 0;yu.AnchoredClock=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};var bu={};Object.defineProperty(bu,"__esModule",{value:!0}),bu.isAttributeValue=bu.isAttributeKey=bu.sanitizeAttributes=void 0;const Nu=i;function Pu(e){return"string"==typeof e&&e.length>0}function Ru(e){return null==e||(Array.isArray(e)?function(e){let t;for(const r of e)if(null!=r){if(!t){if(Iu(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):Iu(e))}function Iu(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}bu.sanitizeAttributes=function(e){const t={};if("object"!=typeof e||null==e)return t;for(const[r,n]of Object.entries(e))Pu(r)?Ru(n)?Array.isArray(n)?t[r]=n.slice():t[r]=n:Nu.diag.warn(`Invalid attribute value set for key: ${r}`):Nu.diag.warn(`Invalid attribute key: ${r}`);return t},bu.isAttributeKey=Pu,bu.isAttributeValue=Ru;var Cu={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.loggingErrorHandler=void 0;const Lu=i;Mu.loggingErrorHandler=function(){return e=>{Lu.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){const t={};let r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}},Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.globalErrorHandler=Cu.setGlobalErrorHandler=void 0;let Du=(0,Mu.loggingErrorHandler)();Cu.setGlobalErrorHandler=function(e){Du=e},Cu.globalErrorHandler=function(e){try{Du(e)}catch(e){}};var wu={},Uu={},Bu={},ju={},Gu={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(Gu);var xu={};Object.defineProperty(xu,"__esModule",{value:!0}),xu._globalThis=void 0,xu._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getEnvWithoutDefaults=e.parseEnvironment=e.DEFAULT_ENVIRONMENT=e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const t=i,r=Gu,n=xu,o=",",a=["OTEL_SDK_DISABLED"];function s(e){return a.indexOf(e)>-1}const c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}const l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}function _(e,t,r){if(void 0===r[e])return;const n=String(r[e]);t[e]="true"===n.toLowerCase()}function E(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function p(e,t,r,n=o){const i=r[e];"string"==typeof i&&(t[e]=i.split(n).map((e=>e.trim())))}e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,e.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};const T={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function m(e,t,r){const n=r[e];if("string"==typeof n){const r=T[n.toUpperCase()];null!=r&&(t[e]=r)}}function f(t){const r={};for(const n in e.DEFAULT_ENVIRONMENT){const e=n;if("OTEL_LOG_LEVEL"===e)m(e,r,t);else if(s(e))_(e,r,t);else if(u(e))E(e,r,t);else if(d(e))p(e,r,t);else{const n=t[e];null!=n&&(r[e]=String(n))}}return r}e.parseEnvironment=f,e.getEnvWithoutDefaults=function(){return f(void 0!==_n&&_n&&_n.env?_n.env:n._globalThis)}}(ju),Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.getEnv=void 0;const Vu=ju,ku=xu;Bu.getEnv=function(){const e=(0,Vu.parseEnvironment)(ku._globalThis);return Object.assign({},Vu.DEFAULT_ENVIRONMENT,e)};var Fu={};Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.hexToBase64=void 0,Fu.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)};var Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.RandomIdGenerator=void 0;Hu.RandomIdGenerator=class{constructor(){this.generateTraceId=Xu(16),this.generateSpanId=Xu(8)}};const Ku=Array(32);function Xu(e){return function(){for(let t=0;t<2*e;t++)Ku[t]=Math.floor(16*Math.random())+48,Ku[t]>=58&&(Ku[t]+=39);return String.fromCharCode.apply(null,Ku.slice(0,2*e))}}var Wu={};Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.otperformance=void 0,Wu.otperformance=performance;var Yu={},zu={};Object.defineProperty(zu,"__esModule",{value:!0}),zu.VERSION=void 0,zu.VERSION="1.18.1",Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.SDK_INFO=void 0;const $u=zu,qu=au;Yu.SDK_INFO={[qu.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[qu.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[qu.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:qu.TelemetrySdkLanguageValues.WEBJS,[qu.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:$u.VERSION};var Zu={};Object.defineProperty(Zu,"__esModule",{value:!0}),Zu.unrefTimer=void 0,Zu.unrefTimer=function(e){},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Bu,e),n(xu,e),n(Fu,e),n(Hu,e),n(Wu,e),n(Yu,e),n(Zu,e)}(Uu),Object.defineProperty(wu,"__esModule",{value:!0}),wu.addHrTimes=wu.isTimeInput=wu.isTimeInputHrTime=wu.hrTimeToMicroseconds=wu.hrTimeToMilliseconds=wu.hrTimeToNanoseconds=wu.hrTimeToTimeStamp=wu.hrTimeDuration=wu.timeInputToHrTime=wu.hrTime=wu.getTimeOrigin=wu.millisToHrTime=void 0;const Ju=Uu,Qu=Math.pow(10,6),el=Math.pow(10,9);function tl(e){const t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*Qu)]}function rl(){let e=Ju.otperformance.timeOrigin;if("number"!=typeof e){const t=Ju.otperformance;e=t.timing&&t.timing.fetchStart}return e}function nl(e){return il(tl(rl()),tl("number"==typeof e?e:Ju.otperformance.now()))}function ol(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function il(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=el&&(r[1]-=el,r[0]+=1),r}wu.millisToHrTime=tl,wu.getTimeOrigin=rl,wu.hrTime=nl,wu.timeInputToHrTime=function(e){if(ol(e))return e;if("number"==typeof e)return e<rl()?nl(e):tl(e);if(e instanceof Date)return tl(e.getTime());throw TypeError("Invalid input type")},wu.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=el),[r,n]},wu.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},wu.hrTimeToNanoseconds=function(e){return e[0]*el+e[1]},wu.hrTimeToMilliseconds=function(e){return 1e3*e[0]+e[1]/1e6},wu.hrTimeToMicroseconds=function(e){return 1e6*e[0]+e[1]/1e3},wu.isTimeInputHrTime=ol,wu.isTimeInput=function(e){return ol(e)||"number"==typeof e||e instanceof Date},wu.addHrTimes=il;var al={};Object.defineProperty(al,"__esModule",{value:!0});var sl={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(sl);var cl={};Object.defineProperty(cl,"__esModule",{value:!0}),cl.CompositePropagator=void 0;const ul=i;cl.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){ul.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,n)=>{try{return n.extract(e,t,r)}catch(e){ul.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}};var ll={},dl={},_l={};Object.defineProperty(_l,"__esModule",{value:!0}),_l.validateValue=_l.validateKey=void 0;const El="[_0-9a-z-*/]",pl=new RegExp(`^(?:${`[a-z]${El}{0,255}`}|${`[a-z0-9]${El}{0,240}@[a-z]${El}{0,13}`})$`),Tl=/^[ -~]{0,255}[!-~]$/,ml=/,|=/;_l.validateKey=function(e){return pl.test(e)},_l.validateValue=function(e){return Tl.test(e)&&!ml.test(e)},Object.defineProperty(dl,"__esModule",{value:!0}),dl.TraceState=void 0;const fl=_l;dl.TraceState=class e{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),n=r.indexOf("=");if(-1!==n){const o=r.slice(0,n),i=r.slice(n+1,t.length);(0,fl.validateKey)(o)&&(0,fl.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const t=new e;return t._internalState=new Map(this._internalState),t}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.W3CTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;const t=i,r=Eu,n=dl;e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";const o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a(e){const t=o.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}e.parseTraceParent=a;e.W3CTraceContextPropagator=class{inject(n,o,i){const a=t.trace.getSpanContext(n);if(!a||(0,r.isTracingSuppressed)(n)||!(0,t.isSpanContextValid)(a))return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||t.TraceFlags.NONE).toString(16)}`;i.set(o,e.TRACE_PARENT_HEADER,s),a.traceState&&i.set(o,e.TRACE_STATE_HEADER,a.traceState.serialize())}extract(r,o,i){const s=i.get(o,e.TRACE_PARENT_HEADER);if(!s)return r;const c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return r;const u=a(c);if(!u)return r;u.isRemote=!0;const l=i.get(o,e.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;u.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}}(ll);var gl={};Object.defineProperty(gl,"__esModule",{value:!0});var Al={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;const t=(0,i.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}}(Al);var Sl={};Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.AlwaysOffSampler=void 0;const Ol=i;Sl.AlwaysOffSampler=class{shouldSample(){return{decision:Ol.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var hl={};Object.defineProperty(hl,"__esModule",{value:!0}),hl.AlwaysOnSampler=void 0;const vl=i;hl.AlwaysOnSampler=class{shouldSample(){return{decision:vl.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var yl={};Object.defineProperty(yl,"__esModule",{value:!0}),yl.ParentBasedSampler=void 0;const bl=i,Nl=Cu,Pl=Sl,Rl=hl;yl.ParentBasedSampler=class{constructor(e){var t,r,n,o;this._root=e.root,this._root||((0,Nl.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Rl.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Rl.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new Pl.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new Rl.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new Pl.AlwaysOffSampler}shouldSample(e,t,r,n,o,i){const a=bl.trace.getSpanContext(e);return a&&(0,bl.isSpanContextValid)(a)?a.isRemote?a.traceFlags&bl.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&bl.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var Il={};Object.defineProperty(Il,"__esModule",{value:!0}),Il.TraceIdRatioBasedSampler=void 0;const Cl=i;Il.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,Cl.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?Cl.SamplingDecision.RECORD_AND_SAMPLED:Cl.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}};var Ml={},Ll={};Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.isPlainObject=void 0;const Dl="[object Null]",wl="[object Undefined]",Ul=Function.prototype.toString,Bl=Ul.call(Object),jl=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),Gl=Object.prototype,xl=Gl.hasOwnProperty,Vl=Symbol?Symbol.toStringTag:void 0,kl=Gl.toString;Ll.isPlainObject=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?wl:Dl;return Vl&&Vl in Object(e)?function(e){const t=xl.call(e,Vl),r=e[Vl];let n=!1;try{e[Vl]=void 0,n=!0}catch(e){}const o=kl.call(e);n&&(t?e[Vl]=r:delete e[Vl]);return o}(e):function(e){return kl.call(e)}(e)}(e))return!1;const t=jl(e);if(null===t)return!0;const r=xl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ul.call(r)===Bl},Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.merge=void 0;const Fl=Ll,Hl=20;function Kl(e){return Yl(e)?e.slice():e}function Xl(e,t,r=0,n){let o;if(!(r>Hl)){if(r++,ql(e)||ql(t)||zl(t))o=Kl(t);else if(Yl(e)){if(o=e.slice(),Yl(t))for(let e=0,r=t.length;e<r;e++)o.push(Kl(t[e]));else if($l(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];o[n]=Kl(t[n])}}}else if($l(e))if($l(t)){if(!function(e,t){if(!(0,Fl.isPlainObject)(e)||!(0,Fl.isPlainObject)(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);const i=Object.keys(t);for(let a=0,s=i.length;a<s;a++){const s=i[a],c=t[s];if(ql(c))void 0===c?delete o[s]:o[s]=c;else{const i=o[s],a=c;if(Wl(e,s,n)||Wl(t,s,n))delete o[s];else{if($l(i)&&$l(a)){const r=n.get(i)||[],o=n.get(a)||[];r.push({obj:e,key:s}),o.push({obj:t,key:s}),n.set(i,r),n.set(a,o)}o[s]=Xl(o[s],c,r,n)}}}}else o=t;return o}}function Wl(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function Yl(e){return Array.isArray(e)}function zl(e){return"function"==typeof e}function $l(e){return!ql(e)&&!Yl(e)&&!zl(e)&&"object"==typeof e}function ql(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}Ml.merge=function(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=Xl(t,e.shift(),0,r);return t};var Zl={};Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.callWithTimeout=Zl.TimeoutError=void 0;let Jl=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};Zl.TimeoutError=Jl,Zl.callWithTimeout=function(e,t){let r;const n=new Promise((function(e,n){r=setTimeout((function(){n(new Jl("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))};var Ql={};function ed(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.isUrlIgnored=Ql.urlMatches=void 0,Ql.urlMatches=ed,Ql.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(ed(e,r))return!0;return!1};var td={};Object.defineProperty(td,"__esModule",{value:!0}),td.isWrapped=void 0,td.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped};var rd={},nd={};Object.defineProperty(nd,"__esModule",{value:!0}),nd.Deferred=void 0;nd.Deferred=class{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}},Object.defineProperty(rd,"__esModule",{value:!0}),rd.BindOnceFuture=void 0;const od=nd;rd.BindOnceFuture=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new od.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}};var id={};Object.defineProperty(id,"__esModule",{value:!0}),id._export=void 0;const ad=i,sd=Eu;id._export=function(e,t){return new Promise((r=>{ad.context.with((0,sd.suppressTracing)(ad.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.internal=e.baggageUtils=void 0,n(_u,e),n(yu,e),n(bu,e),n(Cu,e),n(Mu,e),n(wu,e),n(al,e),n(sl,e),e.baggageUtils=mu,n(Uu,e),n(cl,e),n(ll,e),n(gl,e),n(Al,e),n(Sl,e),n(hl,e),n(yl,e),n(Il,e),n(Eu,e),n(dl,e),n(ju,e),n(Ml,e),n(Gu,e),n(Zl,e),n(Ql,e),n(td,e),n(rd,e),n(zu,e);const o=id;e.internal={_export:o._export}}(du);var cd={},ud={};Object.defineProperty(ud,"__esModule",{value:!0}),ud.defaultServiceName=void 0,ud.defaultServiceName=function(){return"unknown_service"};var ld,dd,_d,Ed={},pd={},Td={};function md(){if(ld)return Td;ld=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.noopDetectorSync=Td.NoopDetectorSync=void 0;const e=Md();let t=class{detect(){return new e.Resource({})}};return Td.NoopDetectorSync=t,Td.noopDetectorSync=new t,Td}function fd(){if(dd)return pd;dd=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.noopDetector=pd.NoopDetector=void 0;const e=md();let t=class{detect(){return Promise.resolve(e.noopDetectorSync.detect())}};return pd.NoopDetector=t,pd.noopDetector=new t,pd}var gd,Ad={};var Sd,Od={};var hd,vd={};var yd,bd={};var Nd,Pd,Rd,Id={};function Cd(){return Pd||(Pd=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(ud,e),n(function(){if(_d)return Ed;_d=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.hostDetector=void 0;const e=fd();return Ed.hostDetector=e.noopDetector,Ed}(),e),n(function(){if(gd)return Ad;gd=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.osDetector=void 0;const e=fd();return Ad.osDetector=e.noopDetector,Ad}(),e),n(function(){if(Sd)return Od;Sd=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.hostDetectorSync=void 0;const e=md();return Od.hostDetectorSync=e.noopDetectorSync,Od}(),e),n(function(){if(hd)return vd;hd=1,Object.defineProperty(vd,"__esModule",{value:!0}),vd.osDetectorSync=void 0;const e=md();return vd.osDetectorSync=e.noopDetectorSync,vd}(),e),n(function(){if(yd)return bd;yd=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.processDetector=void 0;const e=fd();return bd.processDetector=e.noopDetector,bd}(),e),n(function(){if(Nd)return Id;Nd=1,Object.defineProperty(Id,"__esModule",{value:!0}),Id.processDetectorSync=void 0;const e=fd();return Id.processDetectorSync=e.noopDetector,Id}(),e)}(cd)),cd}function Md(){if(Rd)return iu;Rd=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.Resource=void 0;const e=i,t=au,r=du,n=Cd();let o=class o{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=null!=r,this._syncAttributes=null!==(n=this._attributes)&&void 0!==n?n:{},this._asyncAttributesPromise=null==r?void 0:r.then((e=>(this._attributes=Object.assign({},this._attributes,e),this.asyncAttributesPending=!1,e)),(t=>(e.diag.debug("a resource's async attributes promise rejected: %s",t),this.asyncAttributesPending=!1,{})))}static empty(){return o.EMPTY}static default(){return new o({[t.SemanticResourceAttributes.SERVICE_NAME]:(0,n.defaultServiceName)(),[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&e.diag.error("Accessing resource attributes before async attributes settled"),null!==(t=this._attributes)&&void 0!==t?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(e){var t;if(!e)return this;const r=Object.assign(Object.assign({},this._syncAttributes),null!==(t=e._syncAttributes)&&void 0!==t?t:e.attributes);if(!this._asyncAttributesPromise&&!e._asyncAttributesPromise)return new o(r);const n=Promise.all([this._asyncAttributesPromise,e._asyncAttributesPromise]).then((([t,r])=>{var n;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),t),null!==(n=e._syncAttributes)&&void 0!==n?n:e.attributes),r)}));return new o(r,n)}};return iu.Resource=o,o.EMPTY=new o({}),iu}var Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});var Dd={};Object.defineProperty(Dd,"__esModule",{value:!0});var wd={};Object.defineProperty(wd,"__esModule",{value:!0});var Ud,Bd={},jd={};var Gd={},xd={};Object.defineProperty(xd,"__esModule",{value:!0}),xd.envDetectorSync=void 0;const Vd=i,kd=du,Fd=au,Hd=Md();xd.envDetectorSync=new class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(e){const t={},r=(0,kd.getEnv)(),n=r.OTEL_RESOURCE_ATTRIBUTES,o=r.OTEL_SERVICE_NAME;if(n)try{const e=this._parseResourceAttributes(n);Object.assign(t,e)}catch(e){Vd.diag.debug(`EnvDetector failed: ${e.message}`)}return o&&(t[Fd.SemanticResourceAttributes.SERVICE_NAME]=o),new Hd.Resource(t)}_parseResourceAttributes(e){if(!e)return{};const t={},r=e.split(this._COMMA_SEPARATOR,-1);for(const e of r){const r=e.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(2!==r.length)continue;let[n,o]=r;if(n=n.trim(),o=o.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(n))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(o))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);t[n]=decodeURIComponent(o)}return t}_isValid(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)}_isBaggageOctetString(e){for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<33||44===r||59===r||92===r||r>126)return!1}return!0}_isValidAndNotEmpty(e){return e.length>0&&this._isValid(e)}},Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.envDetector=void 0;const Kd=xd;Gd.envDetector=new class{detect(e){return Promise.resolve(Kd.envDetectorSync.detect(e))}};var Xd,Wd,Yd={};function zd(){return Wd||(Wd=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(function(){if(Ud)return jd;Ud=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.browserDetector=void 0;const e=r_();return jd.browserDetector=new class{detect(t){return Promise.resolve(e.browserDetectorSync.detect(t))}},jd}(),e),n(Gd,e),n(function(){if(Xd)return Yd;Xd=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.browserDetectorSync=void 0;const e=au,t=r_(),r=i;return Yd.browserDetectorSync=new class{detect(r){if("undefined"==typeof navigator)return t.Resource.empty();const n={[e.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[e.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[e.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,r)}_getResourceAttributes(n,o){return""===n[e.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]?(r.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),t.Resource.empty()):new t.Resource(Object.assign({},n))}},Yd}(),e),n(xd,e)}(Bd)),Bd}var $d={},qd={};Object.defineProperty(qd,"__esModule",{value:!0}),qd.isPromiseLike=void 0;qd.isPromiseLike=e=>null!==e&&"object"==typeof e&&"function"==typeof e.then,Object.defineProperty($d,"__esModule",{value:!0}),$d.detectResourcesSync=$d.detectResources=void 0;const Zd=Md(),Jd=i,Qd=qd;$d.detectResources=async(e={})=>{const t=await Promise.all((e.detectors||[]).map((async t=>{try{const r=await t.detect(e);return Jd.diag.debug(`${t.constructor.name} found resource.`,r),r}catch(e){return Jd.diag.debug(`${t.constructor.name} failed: ${e.message}`),Zd.Resource.empty()}})));return e_(t),t.reduce(((e,t)=>e.merge(t)),Zd.Resource.empty())};$d.detectResourcesSync=(e={})=>{var t;const r=(null!==(t=e.detectors)&&void 0!==t?t:[]).map((t=>{try{const r=t.detect(e);let n;if((0,Qd.isPromiseLike)(r)){const e=async()=>(await r).attributes;n=new Zd.Resource({},e())}else n=r;return n.waitForAsyncAttributes?n.waitForAsyncAttributes().then((()=>Jd.diag.debug(`${t.constructor.name} found resource.`,n))):Jd.diag.debug(`${t.constructor.name} found resource.`,n),n}catch(e){return Jd.diag.error(`${t.constructor.name} failed: ${e.message}`),Zd.Resource.empty()}})),n=r.reduce(((e,t)=>e.merge(t)),Zd.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then((()=>{e_(r)})),n};const e_=e=>{e.forEach((e=>{if(Object.keys(e.attributes).length>0){const t=JSON.stringify(e.attributes,null,4);Jd.diag.verbose(t)}}))};var t_;function r_(){return t_||(t_=1,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Md(),e),n(Ld,e),n(Cd(),e),n(Dd,e),n(wd,e),n(zd(),e),n($d,e)}(ou)),ou}var n_=r_(),o_=ss(),i_={},a_={},s_={},c_={},u_={},l_={},d_={},__={},E_={},p_={},T_={},m_={},f_={},g_={},A_={},S_={};!function(e){function t(e,t){return typeof e===t}function r(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")}function n(e,t){try{return e instanceof t}catch(e){return!1}}Object.defineProperty(e,"__esModule",{value:!0}),e.isSyntheticEvent=e.isMap=e.isMapDefined=e.isElement=e.isElementDefined=e.isDomException=e.isDomError=e.isErrorEvent=e.isError=e.isErrorDefined=e.isEvent=e.isEventDefined=e.isPrimitive=e.isThenable=e.isRegExp=e.isArray=e.isFunction=e.isObject=e.isSymbol=e.isBoolean=e.isInt=e.isNumber=e.isString=e.isNull=e.isUndefined=e.isInstanceOf=e.isToString=e.isTypeof=void 0,e.isTypeof=t,e.isToString=r,e.isInstanceOf=n,e.isUndefined=function(e){return t(e,"undefined")},e.isNull=function(e){return t(e,"null")},e.isString=function(e){return t(e,"string")},e.isNumber=function(e){return t(e,"number")&&!isNaN(e)||t(e,"bigint")},e.isInt=function(t){return(0,e.isNumber)(t)&&Number.isInteger(t)},e.isBoolean=function(e){return t(e,"boolean")},e.isSymbol=function(e){return t(e,"symbol")},e.isObject=function(r){return!(0,e.isNull)(r)&&t(r,"object")},e.isFunction=function(e){return t(e,"function")},e.isArray=function(e){return r(e,"Array")},e.isRegExp=function(e){return r(e,"RegExp")},e.isThenable=function(t){return(0,e.isFunction)(null==t?void 0:t.then)},e.isPrimitive=function(t){return!(0,e.isObject)(t)&&!(0,e.isFunction)(t)},e.isEventDefined=!(0,e.isUndefined)(Event),e.isEvent=function(t){return e.isEventDefined&&n(t,Event)},e.isErrorDefined="undefined"!=typeof Error,e.isError=function(t){return e.isErrorDefined&&n(t,Error)},e.isErrorEvent=function(e){return r(e,"ErrorEvent")},e.isDomError=function(e){return r(e,"DOMError")},e.isDomException=function(e){return r(e,"DOMException")},e.isElementDefined="undefined"!=typeof Element,e.isElement=function(t){return e.isElementDefined&&n(t,Element)},e.isMapDefined="undefined"!=typeof Map,e.isMap=function(t){return e.isMapDefined&&n(t,Map)},e.isSyntheticEvent=function(t){return(0,e.isObject)(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}}(S_),Object.defineProperty(A_,"__esModule",{value:!0}),A_.deepEqual=void 0;var O_=S_;A_.deepEqual=function e(t,r){if(t===r)return!0;if((0,O_.isTypeof)(t,"number")&&isNaN(t))return(0,O_.isTypeof)(r,"number")&&isNaN(r);var n=(0,O_.isArray)(t),o=(0,O_.isArray)(r);if(n!==o)return!1;if(n&&o){var i=t.length;if(i!==r.length)return!1;for(var a=i;0!=a--;)if(!e(t[a],r[a]))return!1;return!0}var s=(0,O_.isObject)(t),c=(0,O_.isObject)(r);if(s!==c)return!1;if(t&&r&&s&&c){var u=Object.keys(t),l=Object.keys(r);if(u.length!==l.length)return!1;for(var d=0,_=u;d<_.length;d++){var E=_[d];if(!l.includes(E))return!1}for(var p=0,T=u;p<T.length;p++){if(!e(t[E=T[p]],r[E]))return!1}return!0}return!1};var h_={};Object.defineProperty(h_,"__esModule",{value:!0}),h_.getCurrentTimestamp=void 0,h_.getCurrentTimestamp=function(){return(new Date).toISOString()};var v_={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.allLogLevels=e.defaultLogLevel=e.LogLevel=void 0,function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"}(t=e.LogLevel||(e.LogLevel={})),e.defaultLogLevel=t.LOG,e.allLogLevels=[t.TRACE,t.DEBUG,t.INFO,t.LOG,t.WARN,t.ERROR]}(v_);var y_={};Object.defineProperty(y_,"__esModule",{value:!0}),y_.noop=void 0,y_.noop=function(){};var b_={};Object.defineProperty(b_,"__esModule",{value:!0}),b_.createPromiseBuffer=void 0,b_.createPromiseBuffer=function(e){var t=e.size,r=e.concurrency,n=[],o=0,i=function(){if(o<r&&n.length){var e=n.shift(),t=e.producer,a=e.resolve,s=e.reject;o++,t().then((function(e){o--,i(),a(e)}),(function(e){o--,i(),s(e)}))}};return{add:function(e){if(n.length+o>=t)throw new Error("Task buffer full");return new Promise((function(t,r){n.push({producer:e,resolve:t,reject:r}),i()}))}}};var N_={};Object.defineProperty(N_,"__esModule",{value:!0}),N_.genShortID=void 0;var P_="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";N_.genShortID=function(e){return void 0===e&&(e=10),Array.from(Array(e)).map((function(){return P_[Math.floor(59*Math.random())]})).join("")};var R_={};Object.defineProperty(R_,"__esModule",{value:!0}),R_.dateNow=void 0,R_.dateNow=function(){return Date.now()},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.dateNow=e.genShortID=e.createPromiseBuffer=e.noop=e.LogLevel=e.defaultLogLevel=e.allLogLevels=e.isUndefined=e.isTypeof=e.isToString=e.isThenable=e.isSyntheticEvent=e.isSymbol=e.isString=e.isRegExp=e.isPrimitive=e.isObject=e.isNumber=e.isNull=e.isMapDefined=e.isMap=e.isInt=e.isInstanceOf=e.isFunction=e.isEventDefined=e.isEvent=e.isErrorEvent=e.isErrorDefined=e.isError=e.isElementDefined=e.isElement=e.isDomException=e.isDomError=e.isBoolean=e.isArray=e.getCurrentTimestamp=e.deepEqual=void 0;var t=A_;Object.defineProperty(e,"deepEqual",{enumerable:!0,get:function(){return t.deepEqual}});var r=h_;Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return r.getCurrentTimestamp}});var n=S_;Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return n.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return n.isBoolean}}),Object.defineProperty(e,"isDomError",{enumerable:!0,get:function(){return n.isDomError}}),Object.defineProperty(e,"isDomException",{enumerable:!0,get:function(){return n.isDomException}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return n.isElement}}),Object.defineProperty(e,"isElementDefined",{enumerable:!0,get:function(){return n.isElementDefined}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return n.isError}}),Object.defineProperty(e,"isErrorDefined",{enumerable:!0,get:function(){return n.isErrorDefined}}),Object.defineProperty(e,"isErrorEvent",{enumerable:!0,get:function(){return n.isErrorEvent}}),Object.defineProperty(e,"isEvent",{enumerable:!0,get:function(){return n.isEvent}}),Object.defineProperty(e,"isEventDefined",{enumerable:!0,get:function(){return n.isEventDefined}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return n.isFunction}}),Object.defineProperty(e,"isInstanceOf",{enumerable:!0,get:function(){return n.isInstanceOf}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return n.isInt}}),Object.defineProperty(e,"isMap",{enumerable:!0,get:function(){return n.isMap}}),Object.defineProperty(e,"isMapDefined",{enumerable:!0,get:function(){return n.isMapDefined}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return n.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return n.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return n.isObject}}),Object.defineProperty(e,"isPrimitive",{enumerable:!0,get:function(){return n.isPrimitive}}),Object.defineProperty(e,"isRegExp",{enumerable:!0,get:function(){return n.isRegExp}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return n.isString}}),Object.defineProperty(e,"isSymbol",{enumerable:!0,get:function(){return n.isSymbol}}),Object.defineProperty(e,"isSyntheticEvent",{enumerable:!0,get:function(){return n.isSyntheticEvent}}),Object.defineProperty(e,"isThenable",{enumerable:!0,get:function(){return n.isThenable}}),Object.defineProperty(e,"isToString",{enumerable:!0,get:function(){return n.isToString}}),Object.defineProperty(e,"isTypeof",{enumerable:!0,get:function(){return n.isTypeof}}),Object.defineProperty(e,"isUndefined",{enumerable:!0,get:function(){return n.isUndefined}});var o=v_;Object.defineProperty(e,"allLogLevels",{enumerable:!0,get:function(){return o.allLogLevels}}),Object.defineProperty(e,"defaultLogLevel",{enumerable:!0,get:function(){return o.defaultLogLevel}}),Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return o.LogLevel}});var i=y_;Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return i.noop}});var a=b_;Object.defineProperty(e,"createPromiseBuffer",{enumerable:!0,get:function(){return a.createPromiseBuffer}});var s=N_;Object.defineProperty(e,"genShortID",{enumerable:!0,get:function(){return s.genShortID}});var c=R_;Object.defineProperty(e,"dateNow",{enumerable:!0,get:function(){return c.dateNow}})}(g_);var I_={},C_={exports:{}},M_={exports:{}};!function(e){e.exports=function(e,t){var r,n,o,i,a,s,c,u;for(r=3&e.length,n=e.length-r,o=t,a=3432918353,s=461845907,u=0;u<n;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o=27492+(65535&(i=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(c=0,r){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}}(M_);var L_=M_.exports,D_={exports:{}};!function(e){e.exports=function(e,t){for(var r,n=e.length,o=t^n,i=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(r>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:o^=(255&e.charCodeAt(i+2))<<16;case 2:o^=(255&e.charCodeAt(i+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(i)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}}(D_);var w_=L_,U_=D_.exports;C_.exports=w_,C_.exports.murmur3=w_,C_.exports.murmur2=U_;var B_=C_.exports,j_=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(I_,"__esModule",{value:!0}),I_.BatchExecutor=void 0;var G_=B_,x_=function(){function e(e,t){var r,n,o=this;this.signalBuffer=[],this.itemLimit=null!==(r=null==t?void 0:t.itemLimit)&&void 0!==r?r:50,this.sendTimeout=null!==(n=null==t?void 0:t.sendTimeout)&&void 0!==n?n:250,this.paused=(null==t?void 0:t.paused)||!1,this.sendFn=e,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&o.flush()}))}return e.prototype.addItem=function(e){this.paused||(this.signalBuffer.push(e),this.signalBuffer.length>=this.itemLimit&&this.flush())},e.prototype.start=function(){var e=this;this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval((function(){return e.flush()}),this.sendTimeout))},e.prototype.pause=function(){this.paused=!0,clearInterval(this.flushInterval)},e.prototype.groupItems=function(e){var t=new Map;return e.forEach((function(e){var r=(0,G_.murmur3)(JSON.stringify(e.meta)),n=t.get(r);n=void 0===n?[e]:j_(j_([],n,!0),[e],!1),t.set(r,n)})),Array.from(t.values())},e.prototype.flush=function(){this.paused||0===this.signalBuffer.length||(this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[])},e}();I_.BatchExecutor=x_;var V_={};!function(e){var t,r;Object.defineProperty(e,"__esModule",{value:!0}),e.transportItemTypeToBodyKey=e.TransportItemType=void 0,function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"}(r=e.TransportItemType||(e.TransportItemType={})),e.transportItemTypeToBodyKey=((t={})[r.EXCEPTION]="exceptions",t[r.LOG]="logs",t[r.MEASUREMENT]="measurements",t[r.TRACE]="traces",t[r.EVENT]="events",t)}(V_);var k_=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(f_,"__esModule",{value:!0}),f_.initializeTransports=f_.createBeforeSendHookFromIgnorePatterns=f_.shouldIgnoreEvent=void 0;var F_=g_,H_=I_,K_=V_;function X_(e,t){return e.some((function(e){return(0,F_.isString)(e)?t.includes(e):!!t.match(e)}))}function W_(e){return function(t){if(t.type===K_.TransportItemType.EXCEPTION&&t.payload){var r=t.payload,n="".concat(r.type,": ").concat(r.value);if(X_(e,n))return null}return t}}f_.shouldIgnoreEvent=X_,f_.createBeforeSendHookFromIgnorePatterns=W_,f_.initializeTransports=function(e,t,r,n){var o;t.debug("Initializing transports");var i,a=[],s=r.paused,c=[],u=function(e){for(var t=e,r=0,n=c;r<n.length;r++){var o=n[r],i=t.map(o).filter(Boolean);if(0===i.length)return[];t=i}return t};return(null===(o=r.batching)||void 0===o?void 0:o.enabled)&&(i=new H_.BatchExecutor((function(e){var r=u(e);if(0!==r.length)for(var n=0,o=a;n<o.length;n++){var i=o[n];t.debug("Transporting item using ".concat(i.name,"\n"),r),i.isBatched()&&i.send(r)}}),{sendTimeout:r.batching.sendTimeout,itemLimit:r.batching.itemLimit,paused:s})),{add:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];t.debug("Adding transports"),o.forEach((function(o){t.debug('Adding "'.concat(o.name,'" transport')),a.some((function(e){return e===o}))?t.warn("Transport ".concat(o.name," is already added")):(o.unpatchedConsole=e,o.internalLogger=t,o.config=r,o.metas=n,a.push(o))}))},addBeforeSendHooks:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Adding beforeSendHooks\n",c),e.forEach((function(e){e&&c.push(e)}))},addIgnoreErrorsPatterns:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Adding ignoreErrorsPatterns\n",e),e.forEach((function(e){e&&c.push(W_(e))}))},getBeforeSendHooks:function(){return k_([],c,!0)},execute:function(e){var n;s||((null===(n=r.batching)||void 0===n?void 0:n.enabled)&&(null==i||i.addItem(e)),function(e){var n,o;if(!(null===(n=r.batching)||void 0===n?void 0:n.enabled)||!a.every((function(e){return e.isBatched()}))){var i=u([e])[0];if(void 0!==i)for(var s=0,c=a;s<c.length;s++){var l=c[s];t.debug("Transporting item using ".concat(l.name,"\n"),i),l.isBatched()?(null===(o=r.batching)||void 0===o?void 0:o.enabled)||l.send([i]):l.send(i)}}}(e))},isPaused:function(){return s},pause:function(){t.debug("Pausing transports"),null==i||i.pause(),s=!0},remove:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Removing transports"),e.forEach((function(e){t.debug('Removing "'.concat(e.name,'" transport'));var r=a.indexOf(e);-1!==r?a.splice(r,1):t.warn('Transport "'.concat(e.name,'" is not added'))}))},removeBeforeSendHooks:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];c.filter((function(t){return!e.includes(t)}))},get transports(){return k_([],a,!0)},unpause:function(){t.debug("Unpausing transports"),null==i||i.start(),s=!1}}};var Y_={},z_={},$_={},q_={},Z_={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultInternalLoggerLevel=e.defaultInternalLogger=e.defaultInternalLoggerPrefix=e.InternalLoggerLevel=void 0;var t,r=g_;!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"}(t=e.InternalLoggerLevel||(e.InternalLoggerLevel={})),e.defaultInternalLoggerPrefix="Faro",e.defaultInternalLogger={debug:r.noop,error:r.noop,info:r.noop,prefix:e.defaultInternalLoggerPrefix,warn:r.noop},e.defaultInternalLoggerLevel=t.ERROR}(Z_);var J_={},Q_={},eE={},tE=t&&t.__assign||function(){return tE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tE.apply(this,arguments)};Object.defineProperty(eE,"__esModule",{value:!0}),eE.defaultUnpatchedConsole=void 0,eE.defaultUnpatchedConsole=tE({},console);var rE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeUnpatchedConsole=e.unpatchedConsole=void 0;var t=eE;e.unpatchedConsole=t.defaultUnpatchedConsole,e.initializeUnpatchedConsole=function(t){var r;return e.unpatchedConsole=null!==(r=t.unpatchedConsole)&&void 0!==r?r:e.unpatchedConsole,e.unpatchedConsole}}(rE),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unpatchedConsole=e.initializeUnpatchedConsole=e.defaultUnpatchedConsole=void 0;var t=eE;Object.defineProperty(e,"defaultUnpatchedConsole",{enumerable:!0,get:function(){return t.defaultUnpatchedConsole}});var r=rE;Object.defineProperty(e,"initializeUnpatchedConsole",{enumerable:!0,get:function(){return r.initializeUnpatchedConsole}}),Object.defineProperty(e,"unpatchedConsole",{enumerable:!0,get:function(){return r.unpatchedConsole}})}(Q_);var nE=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(J_,"__esModule",{value:!0}),J_.createInternalLogger=void 0;var oE=Q_,iE=g_,aE=Z_;J_.createInternalLogger=function(e,t){void 0===e&&(e=oE.defaultUnpatchedConsole),void 0===t&&(t=aE.defaultInternalLoggerLevel);var r=aE.defaultInternalLogger;return t>aE.InternalLoggerLevel.OFF&&(r.error=t>=aE.InternalLoggerLevel.ERROR?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.error.apply(e,nE(["".concat(r.prefix,"\n")],t,!1))}:iE.noop,r.warn=t>=aE.InternalLoggerLevel.WARN?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.warn.apply(e,nE(["".concat(r.prefix,"\n")],t,!1))}:iE.noop,r.info=t>=aE.InternalLoggerLevel.INFO?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.info.apply(e,nE(["".concat(r.prefix,"\n")],t,!1))}:iE.noop,r.debug=t>=aE.InternalLoggerLevel.VERBOSE?function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.debug.apply(e,nE(["".concat(r.prefix,"\n")],t,!1))}:iE.noop),r};var sE={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeInternalLogger=e.internalLogger=void 0;var t=Z_,r=J_;e.internalLogger=t.defaultInternalLogger,e.initializeInternalLogger=function(t,n){return e.internalLogger=(0,r.createInternalLogger)(t,n.internalLoggerLevel),e.internalLogger}}(sE),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.internalLogger=e.initializeInternalLogger=e.createInternalLogger=e.InternalLoggerLevel=e.defaultInternalLoggerLevel=e.defaultInternalLogger=void 0;var t=Z_;Object.defineProperty(e,"defaultInternalLogger",{enumerable:!0,get:function(){return t.defaultInternalLogger}}),Object.defineProperty(e,"defaultInternalLoggerLevel",{enumerable:!0,get:function(){return t.defaultInternalLoggerLevel}}),Object.defineProperty(e,"InternalLoggerLevel",{enumerable:!0,get:function(){return t.InternalLoggerLevel}});var r=J_;Object.defineProperty(e,"createInternalLogger",{enumerable:!0,get:function(){return r.createInternalLogger}});var n=sE;Object.defineProperty(e,"initializeInternalLogger",{enumerable:!0,get:function(){return n.initializeInternalLogger}}),Object.defineProperty(e,"internalLogger",{enumerable:!0,get:function(){return n.internalLogger}})}(q_);var cE=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty($_,"__esModule",{value:!0}),$_.BaseExtension=void 0;var uE=q_,lE=Q_,dE=function(){function e(){this.unpatchedConsole=lE.defaultUnpatchedConsole,this.internalLogger=uE.defaultInternalLogger,this.config={},this.metas={}}return e.prototype.logDebug=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.internalLogger).debug.apply(e,cE(["".concat(this.name,"\n")],t,!1))},e.prototype.logInfo=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.internalLogger).info.apply(e,cE(["".concat(this.name,"\n")],t,!1))},e.prototype.logWarn=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.internalLogger).warn.apply(e,cE(["".concat(this.name,"\n")],t,!1))},e.prototype.logError=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.internalLogger).error.apply(e,cE(["".concat(this.name,"\n")],t,!1))},e}();$_.BaseExtension=dE,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.BaseExtension=void 0;var t=$_;Object.defineProperty(e,"BaseExtension",{enumerable:!0,get:function(){return t.BaseExtension}})}(z_);var _E,EE=t&&t.__extends||(_E=function(e,t){return _E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},_E(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_E(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.BaseTransport=void 0;var pE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return EE(t,e),t.prototype.isBatched=function(){return!1},t.prototype.getIgnoreUrls=function(){return[]},t}(z_.BaseExtension);Y_.BaseTransport=pE;var TE={};Object.defineProperty(TE,"__esModule",{value:!0}),TE.registerInitialTransports=void 0,TE.registerInitialTransports=function(e){var t;(t=e.transports).add.apply(t,e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend),e.transports.addIgnoreErrorsPatterns(e.config.ignoreErrors)};var mE={},fE=t&&t.__assign||function(){return fE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fE.apply(this,arguments)},gE=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(mE,"__esModule",{value:!0}),mE.getTransportBody=mE.mergeResourceSpans=void 0;var AE=V_;function SE(e,t){var r,n;if(void 0===t)return e;if(void 0===e)return{resourceSpans:t};var o=null===(r=e.resourceSpans)||void 0===r?void 0:r[0];if(void 0===o)return e;var i=(null==o?void 0:o.scopeSpans)||[],a=(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.scopeSpans)||[];return fE(fE({},e),{resourceSpans:[fE(fE({},o),{scopeSpans:gE(gE([],i,!0),a,!0)})]})}mE.mergeResourceSpans=SE,mE.getTransportBody=function(e){var t={meta:{}};return void 0!==e[0]&&(t.meta=e[0].meta),e.forEach((function(e){var r;switch(e.type){case AE.TransportItemType.LOG:case AE.TransportItemType.EVENT:case AE.TransportItemType.EXCEPTION:case AE.TransportItemType.MEASUREMENT:var n=AE.transportItemTypeToBodyKey[e.type],o=t[n];t=fE(fE({},t),((r={})[n]=void 0===o?[e.payload]:gE(gE([],o,!0),[e.payload],!1),r));break;case AE.TransportItemType.TRACE:t=fE(fE({},t),{traces:SE(t.traces,e.payload.resourceSpans)})}})),t},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransportBody=e.registerInitialTransports=e.transportItemTypeToBodyKey=e.TransportItemType=e.BaseTransport=e.initializeTransports=void 0;var t=f_;Object.defineProperty(e,"initializeTransports",{enumerable:!0,get:function(){return t.initializeTransports}});var r=Y_;Object.defineProperty(e,"BaseTransport",{enumerable:!0,get:function(){return r.BaseTransport}});var n=V_;Object.defineProperty(e,"TransportItemType",{enumerable:!0,get:function(){return n.TransportItemType}}),Object.defineProperty(e,"transportItemTypeToBodyKey",{enumerable:!0,get:function(){return n.transportItemTypeToBodyKey}});var o=TE;Object.defineProperty(e,"registerInitialTransports",{enumerable:!0,get:function(){return o.registerInitialTransports}});var i=mE;Object.defineProperty(e,"getTransportBody",{enumerable:!0,get:function(){return i.getTransportBody}})}(m_),Object.defineProperty(T_,"__esModule",{value:!0}),T_.initializeEventsAPI=void 0;var OE=m_,hE=g_;T_.initializeEventsAPI=function(e,t,r,n,o,i){var a=null;return{pushEvent:function(e,s,c,u){var l=(void 0===u?{}:u).skipDedupe;try{var d={meta:n.value,payload:{name:e,domain:null!=c?c:r.eventDomain,attributes:s,timestamp:(0,hE.getCurrentTimestamp)(),trace:i.getTraceContext()},type:OE.TransportItemType.EVENT},_={name:d.payload.name,attributes:d.payload.attributes,domain:d.payload.domain};if(!l&&r.dedupe&&!(0,hE.isNull)(a)&&(0,hE.deepEqual)(_,a))return void t.debug("Skipping event push because it is the same as the last one\n",d.payload);a=_,t.debug("Pushing event\n",d),o.execute(d)}catch(e){t.error("Error pushing event",e)}}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeEventsAPI=void 0;var t=T_;Object.defineProperty(e,"initializeEventsAPI",{enumerable:!0,get:function(){return t.initializeEventsAPI}})}(p_);var vE={},yE={};Object.defineProperty(yE,"__esModule",{value:!0}),yE.defaultExceptionType=void 0,yE.defaultExceptionType="Error";var bE={};Object.defineProperty(bE,"__esModule",{value:!0}),bE.initializeExceptionsAPI=void 0;var NE,PE=m_,RE=g_,IE=yE;bE.initializeExceptionsAPI=function(e,t,r,n,o,i){var a;t.debug("Initializing exceptions API");var s=null;NE=null!==(a=r.parseStacktrace)&&void 0!==a?a:NE;var c=function(e){t.debug("Changing stacktrace parser"),NE=null!=e?e:NE};return c(r.parseStacktrace),{changeStacktraceParser:c,getStacktraceParser:function(){return NE},pushError:function(e,a){var c=void 0===a?{}:a,u=c.skipDedupe,l=c.stackFrames,d=c.type,_=c.context;d=d||e.name||IE.defaultExceptionType;var E={meta:n.value,payload:{type:d,value:e.message,timestamp:(0,RE.getCurrentTimestamp)(),trace:i.getTraceContext(),context:null!=_?_:{}},type:PE.TransportItemType.EXCEPTION};(null==(l=null!=l?l:e.stack?null==NE?void 0:NE(e).frames:void 0)?void 0:l.length)&&(E.payload.stacktrace={frames:l});var p={type:E.payload.type,value:E.payload.value,stackTrace:E.payload.stacktrace,context:E.payload.context};u||!r.dedupe||(0,RE.isNull)(s)||!(0,RE.deepEqual)(p,s)?(s=p,t.debug("Pushing exception\n",E),o.execute(E)):t.debug("Skipping error push because it is the same as the last one\n",E.payload)}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeExceptionsAPI=e.defaultExceptionType=void 0;var t=yE;Object.defineProperty(e,"defaultExceptionType",{enumerable:!0,get:function(){return t.defaultExceptionType}});var r=bE;Object.defineProperty(e,"initializeExceptionsAPI",{enumerable:!0,get:function(){return r.initializeExceptionsAPI}})}(vE);var CE={},ME={};Object.defineProperty(ME,"__esModule",{value:!0}),ME.initializeLogsAPI=void 0;var LE=m_,DE=g_;ME.initializeLogsAPI=function(e,t,r,n,o,i){t.debug("Initializing logs API");var a=null;return{pushLog:function(e,s){var c=void 0===s?{}:s,u=c.context,l=c.level,d=c.skipDedupe;try{var _={type:LE.TransportItemType.LOG,payload:{message:e.map((function(e){try{return String(e)}catch(e){return""}})).join(" "),level:null!=l?l:DE.defaultLogLevel,context:null!=u?u:{},timestamp:(0,DE.getCurrentTimestamp)(),trace:i.getTraceContext()},meta:n.value},E={message:_.payload.message,level:_.payload.level,context:_.payload.context};if(!d&&r.dedupe&&!(0,DE.isNull)(a)&&(0,DE.deepEqual)(E,a))return void t.debug("Skipping log push because it is the same as the last one\n",_.payload);a=E,t.debug("Pushing log\n",_),o.execute(_)}catch(e){t.error("Error pushing log\n",e)}}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeLogsAPI=void 0;var t=ME;Object.defineProperty(e,"initializeLogsAPI",{enumerable:!0,get:function(){return t.initializeLogsAPI}})}(CE);var wE={},UE={},BE=t&&t.__assign||function(){return BE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},BE.apply(this,arguments)};Object.defineProperty(UE,"__esModule",{value:!0}),UE.initializeMeasurementsAPI=void 0;var jE=m_,GE=g_;UE.initializeMeasurementsAPI=function(e,t,r,n,o,i){t.debug("Initializing measurements API");var a=null;return{pushMeasurement:function(e,s){var c,u=void 0===s?{}:s,l=u.skipDedupe,d=u.context;try{var _={type:jE.TransportItemType.MEASUREMENT,payload:BE(BE({},e),{trace:i.getTraceContext(),timestamp:null!==(c=e.timestamp)&&void 0!==c?c:(0,GE.getCurrentTimestamp)(),context:null!=d?d:{}}),meta:n.value},E={type:_.payload.type,values:_.payload.values,context:_.payload.context};if(!l&&r.dedupe&&!(0,GE.isNull)(a)&&(0,GE.deepEqual)(E,a))return void t.debug("Skipping measurement push because it is the same as the last one\n",_.payload);a=E,t.debug("Pushing measurement\n",_),o.execute(_)}catch(e){t.error("Error pushing measurement\n",e)}}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeMeasurementsAPI=void 0;var t=UE;Object.defineProperty(e,"initializeMeasurementsAPI",{enumerable:!0,get:function(){return t.initializeMeasurementsAPI}})}(wE);var xE={},VE={};Object.defineProperty(VE,"__esModule",{value:!0}),VE.initializeMetaAPI=void 0,VE.initializeMetaAPI=function(e,t,r,n,o){t.debug("Initializing meta API");var i=void 0,a=void 0,s=void 0,c=function(e){a&&n.remove(a),a={user:e},n.add(a)},u=function(e){i&&n.remove(i),i={session:e},n.add(i)};return{setUser:c,resetUser:c,setSession:u,resetSession:u,getSession:function(){return n.value.session},setView:function(e){var t;if((null===(t=null==s?void 0:s.view)||void 0===t?void 0:t.name)!==(null==e?void 0:e.name)){var r=s;s={view:e},n.add(s),r&&n.remove(r)}},getView:function(){return n.value.view}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeMetaAPI=void 0;var t=VE;Object.defineProperty(e,"initializeMetaAPI",{enumerable:!0,get:function(){return t.initializeMetaAPI}})}(xE);var kE={},FE={};Object.defineProperty(FE,"__esModule",{value:!0}),FE.initializeTracesAPI=void 0;var HE=m_;FE.initializeTracesAPI=function(e,t,r,n,o){t.debug("Initializing traces API");var i=void 0;return{getOTEL:function(){return i},getTraceContext:function(){var e=null==i?void 0:i.trace.getSpanContext(i.context.active());return e?{trace_id:e.traceId,span_id:e.spanId}:void 0},initOTEL:function(e,r){t.debug("Initializing OpenTelemetry"),i={trace:e,context:r}},isOTELInitialized:function(){return!!i},pushTraces:function(e){try{var r={type:HE.TransportItemType.TRACE,payload:e,meta:n.value};t.debug("Pushing trace\n",r),o.execute(r)}catch(e){t.error("Error pushing trace\n",e)}}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.initializeTracesAPI=void 0;var t=FE;Object.defineProperty(e,"initializeTracesAPI",{enumerable:!0,get:function(){return t.initializeTracesAPI}})}(kE);var KE=t&&t.__assign||function(){return KE=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},KE.apply(this,arguments)};Object.defineProperty(E_,"__esModule",{value:!0}),E_.initializeAPI=void 0;var XE=p_,WE=vE,YE=CE,zE=wE,$E=xE,qE=kE;E_.initializeAPI=function(e,t,r,n,o){t.debug("Initializing API");var i=(0,qE.initializeTracesAPI)(e,t,r,n,o);return KE(KE(KE(KE(KE(KE({},i),(0,WE.initializeExceptionsAPI)(e,t,r,n,o,i)),(0,$E.initializeMetaAPI)(e,t,r,n,o)),(0,YE.initializeLogsAPI)(e,t,r,n,o,i)),(0,zE.initializeMeasurementsAPI)(e,t,r,n,o,i)),(0,XE.initializeEventsAPI)(e,t,r,n,o,i))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultExceptionType=e.initializeAPI=void 0;var t=E_;Object.defineProperty(e,"initializeAPI",{enumerable:!0,get:function(){return t.initializeAPI}});var r=vE;Object.defineProperty(e,"defaultExceptionType",{enumerable:!0,get:function(){return r.defaultExceptionType}})}(__);var ZE={},JE={};Object.defineProperty(JE,"__esModule",{value:!0}),JE.globalObject=void 0,JE.globalObject="undefined"!=typeof globalThis?globalThis:void 0!==t?t:"undefined"!=typeof self?self:void 0,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.globalObject=void 0;var t=JE;Object.defineProperty(e,"globalObject",{enumerable:!0,get:function(){return t.globalObject}})}(ZE);var QE={},ep={},tp={},rp=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(tp,"__esModule",{value:!0}),tp.BaseInstrumentation=void 0;var np=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.api={},t.transports={},t}return rp(t,e),t}(z_.BaseExtension);tp.BaseInstrumentation=np;var op={},ip=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(op,"__esModule",{value:!0}),op.initializeInstrumentations=void 0,op.initializeInstrumentations=function(e,t,r,n,o,i){t.debug("Initializing instrumentations");var a=[];return{add:function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];t.debug("Adding instrumentations"),s.forEach((function(s){t.debug('Adding "'.concat(s.name,'" instrumentation')),a.some((function(e){return e.name===s.name}))?t.warn("Instrumentation ".concat(s.name," is already added")):(s.unpatchedConsole=e,s.internalLogger=t,s.config=r,s.metas=n,s.transports=o,s.api=i,a.push(s),s.initialize())}))},get instrumentations(){return ip([],a,!0)},remove:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Removing instrumentations"),e.forEach((function(e){var r,n;t.debug('Removing "'.concat(e.name,'" instrumentation'));var o=a.reduce((function(t,r,n){return null===t&&r.name===e.name?n:null}),null);o?(null===(n=(r=a[o]).destroy)||void 0===n||n.call(r),a.splice(o,1)):t.warn('Instrumentation "'.concat(e.name,'" is not added'))}))}}};var ap={};Object.defineProperty(ap,"__esModule",{value:!0}),ap.registerInitialInstrumentations=void 0,ap.registerInitialInstrumentations=function(e){var t;(t=e.instrumentations).add.apply(t,e.config.instrumentations)},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.registerInitialInstrumentations=e.initializeInstrumentations=e.BaseInstrumentation=void 0;var t=tp;Object.defineProperty(e,"BaseInstrumentation",{enumerable:!0,get:function(){return t.BaseInstrumentation}});var r=op;Object.defineProperty(e,"initializeInstrumentations",{enumerable:!0,get:function(){return r.initializeInstrumentations}});var n=ap;Object.defineProperty(e,"registerInitialInstrumentations",{enumerable:!0,get:function(){return n.registerInitialInstrumentations}})}(ep);var sp={},cp={};Object.defineProperty(cp,"__esModule",{value:!0}),cp.initializeMetas=void 0;var up=g_;cp.initializeMetas=function(e,t,r){var n=[],o=[],i=function(){return n.reduce((function(e,t){return Object.assign(e,(0,up.isFunction)(t)?t():t)}),{})},a=function(){if(o.length){var e=i();o.forEach((function(t){return t(e)}))}};return{add:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Adding metas\n",e),n.push.apply(n,e),a()},remove:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t.debug("Removing metas\n",e),n=n.filter((function(t){return!e.includes(t)})),a()},addListener:function(e){t.debug("Adding metas listener\n",e),o.push(e)},removeListener:function(e){t.debug("Removing metas listener\n",e),o=o.filter((function(t){return t!==e}))},get value(){return i()}}};var lp={},dp={};Object.defineProperty(dp,"__esModule",{value:!0}),dp.VERSION=void 0,dp.VERSION="1.3.5";var _p=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(lp,"__esModule",{value:!0}),lp.registerInitialMetas=void 0;var Ep=dp;lp.registerInitialMetas=function(e){var t,r,n,o={sdk:{version:Ep.VERSION}},i=null===(r=e.config.sessionTracking)||void 0===r?void 0:r.session;i&&e.api.setSession(i),e.config.app&&(o.app=e.config.app),e.config.user&&(o.user=e.config.user),e.config.view&&(o.view=e.config.view),(t=e.metas).add.apply(t,_p([o],null!==(n=e.config.metas)&&void 0!==n?n:[],!1))},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.registerInitialMetas=e.initializeMetas=void 0;var t=cp;Object.defineProperty(e,"initializeMetas",{enumerable:!0,get:function(){return t.initializeMetas}});var r=lp;Object.defineProperty(e,"registerInitialMetas",{enumerable:!0,get:function(){return r.registerInitialMetas}})}(sp);var pp={},Tp={};Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.internalGlobalObjectKey=void 0,Tp.internalGlobalObjectKey="_faroInternal";var mp={},fp={};Object.defineProperty(fp,"__esModule",{value:!0}),fp.setFaroOnGlobalObject=void 0;var gp=ZE;fp.setFaroOnGlobalObject=function(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug('Registering public faro reference in the global scope using "'.concat(e.config.globalObjectKey,'" key')),e.config.globalObjectKey in gp.globalObject)return void e.internalLogger.warn('Skipping global registration due to key "'.concat(e.config.globalObjectKey,'" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"'));Object.defineProperty(gp.globalObject,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}};var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.isInternalFaroOnGlobalObject=Ap.setInternalFaroOnGlobalObject=Ap.getInternalFromGlobalObject=void 0;var Sp=ZE,Op=Tp;Ap.getInternalFromGlobalObject=function(){return Sp.globalObject[Op.internalGlobalObjectKey]},Ap.setInternalFaroOnGlobalObject=function(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(Sp.globalObject,Op.internalGlobalObjectKey,{configurable:!1,enumerable:!1,writable:!1,value:e}))},Ap.isInternalFaroOnGlobalObject=function(){return Op.internalGlobalObjectKey in Sp.globalObject},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.registerFaro=e.faro=void 0;var t=fp,r=Ap;e.faro={},e.registerFaro=function(n,o,i,a,s,c,u){return o.debug("Initializing Faro"),e.faro={api:c,config:i,instrumentations:u,internalLogger:o,metas:a,pause:s.pause,transports:s,unpatchedConsole:n,unpause:s.unpause},(0,r.setInternalFaroOnGlobalObject)(e.faro),(0,t.setFaroOnGlobalObject)(e.faro),e.faro}}(mp),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.setInternalFaroOnGlobalObject=e.isInternalFaroOnGlobalObject=e.getInternalFaroFromGlobalObject=e.registerFaro=e.faro=e.internalGlobalObjectKey=void 0;var t=Tp;Object.defineProperty(e,"internalGlobalObjectKey",{enumerable:!0,get:function(){return t.internalGlobalObjectKey}});var r=mp;Object.defineProperty(e,"faro",{enumerable:!0,get:function(){return r.faro}}),Object.defineProperty(e,"registerFaro",{enumerable:!0,get:function(){return r.registerFaro}});var n=Ap;Object.defineProperty(e,"getInternalFaroFromGlobalObject",{enumerable:!0,get:function(){return n.getInternalFromGlobalObject}}),Object.defineProperty(e,"isInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return n.isInternalFaroOnGlobalObject}}),Object.defineProperty(e,"setInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return n.setInternalFaroOnGlobalObject}})}(pp),Object.defineProperty(QE,"__esModule",{value:!0}),QE.initializeFaro=void 0;var hp=__,vp=ep,yp=q_,bp=sp,Np=pp,Pp=m_,Rp=Q_;QE.initializeFaro=function(e){var t=(0,Rp.initializeUnpatchedConsole)(e),r=(0,yp.initializeInternalLogger)(t,e);if(!(0,Np.isInternalFaroOnGlobalObject)()||e.isolate){r.debug("Initializing");var n=(0,bp.initializeMetas)(t,r,e),o=(0,Pp.initializeTransports)(t,r,e,n),i=(0,hp.initializeAPI)(t,r,e,n,o),a=(0,vp.initializeInstrumentations)(t,r,e,n,o,i),s=(0,Np.registerFaro)(t,r,e,n,o,i,a);return(0,bp.registerInitialMetas)(s),(0,Pp.registerInitialTransports)(s),(0,vp.registerInitialInstrumentations)(s),s}r.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property')};var Ip={},Cp={};Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.defaultBatchingConfig=Cp.defaultGlobalObjectKey=void 0,Cp.defaultGlobalObjectKey="faro",Cp.defaultBatchingConfig={enabled:!0,sendTimeout:250,itemLimit:50},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGlobalObjectKey=e.defaultBatchingConfig=void 0;var t=Cp;Object.defineProperty(e,"defaultBatchingConfig",{enumerable:!0,get:function(){return t.defaultBatchingConfig}}),Object.defineProperty(e,"defaultGlobalObjectKey",{enumerable:!0,get:function(){return t.defaultGlobalObjectKey}})}(Ip);var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.EVENT_ROUTE_CHANGE=Mp.EVENT_SESSION_EXTEND=Mp.EVENT_SESSION_RESUME=Mp.EVENT_SESSION_START=Mp.EVENT_VIEW_CHANGED=Mp.EVENT_NAVIGATION=Mp.EVENT_CLICK=Mp.Conventions=void 0,Mp.Conventions={EventNames:{CLICK:"click",NAVIGATION:"navigation",SESSION_START:"session_start",VIEW_CHANGED:"view_changed"}},Mp.EVENT_CLICK="click",Mp.EVENT_NAVIGATION="navigation",Mp.EVENT_VIEW_CHANGED="view_changed",Mp.EVENT_SESSION_START="session_start",Mp.EVENT_SESSION_RESUME="session_resume",Mp.EVENT_SESSION_EXTEND="session_extend",Mp.EVENT_ROUTE_CHANGE="route_change",function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.isSyntheticEvent=e.isSymbol=e.isString=e.isRegExp=e.isPrimitive=e.isObject=e.isNumber=e.isNull=e.isMapDefined=e.isMap=e.isInt=e.isInstanceOf=e.isFunction=e.isEventDefined=e.isEvent=e.isErrorEvent=e.isErrorDefined=e.isError=e.isElementDefined=e.isElement=e.isDomException=e.isDomError=e.isBoolean=e.isArray=e.getCurrentTimestamp=e.genShortID=e.defaultLogLevel=e.deepEqual=e.createPromiseBuffer=e.allLogLevels=e.defaultUnpatchedConsole=e.transportItemTypeToBodyKey=e.TransportItemType=e.getTransportBody=e.BaseTransport=e.setInternalFaroOnGlobalObject=e.isInternalFaroOnGlobalObject=e.internalGlobalObjectKey=e.getInternalFaroFromGlobalObject=e.faro=e.InternalLoggerLevel=e.defaultInternalLoggerLevel=e.createInternalLogger=e.BaseInstrumentation=e.defaultGlobalObjectKey=e.defaultBatchingConfig=e.initializeFaro=e.globalObject=e.BaseExtension=e.defaultExceptionType=void 0,e.VERSION=e.dateNow=e.noop=e.LogLevel=e.isUndefined=e.isTypeof=e.isToString=e.isThenable=void 0;var o=__;Object.defineProperty(e,"defaultExceptionType",{enumerable:!0,get:function(){return o.defaultExceptionType}});var i=z_;Object.defineProperty(e,"BaseExtension",{enumerable:!0,get:function(){return i.BaseExtension}});var a=ZE;Object.defineProperty(e,"globalObject",{enumerable:!0,get:function(){return a.globalObject}});var s=QE;Object.defineProperty(e,"initializeFaro",{enumerable:!0,get:function(){return s.initializeFaro}});var c=Ip;Object.defineProperty(e,"defaultBatchingConfig",{enumerable:!0,get:function(){return c.defaultBatchingConfig}}),Object.defineProperty(e,"defaultGlobalObjectKey",{enumerable:!0,get:function(){return c.defaultGlobalObjectKey}});var u=ep;Object.defineProperty(e,"BaseInstrumentation",{enumerable:!0,get:function(){return u.BaseInstrumentation}});var l=q_;Object.defineProperty(e,"createInternalLogger",{enumerable:!0,get:function(){return l.createInternalLogger}}),Object.defineProperty(e,"defaultInternalLoggerLevel",{enumerable:!0,get:function(){return l.defaultInternalLoggerLevel}}),Object.defineProperty(e,"InternalLoggerLevel",{enumerable:!0,get:function(){return l.InternalLoggerLevel}});var d=pp;Object.defineProperty(e,"faro",{enumerable:!0,get:function(){return d.faro}}),Object.defineProperty(e,"getInternalFaroFromGlobalObject",{enumerable:!0,get:function(){return d.getInternalFaroFromGlobalObject}}),Object.defineProperty(e,"internalGlobalObjectKey",{enumerable:!0,get:function(){return d.internalGlobalObjectKey}}),Object.defineProperty(e,"isInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return d.isInternalFaroOnGlobalObject}}),Object.defineProperty(e,"setInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return d.setInternalFaroOnGlobalObject}}),n(Mp,e);var _=m_;Object.defineProperty(e,"BaseTransport",{enumerable:!0,get:function(){return _.BaseTransport}}),Object.defineProperty(e,"getTransportBody",{enumerable:!0,get:function(){return _.getTransportBody}}),Object.defineProperty(e,"TransportItemType",{enumerable:!0,get:function(){return _.TransportItemType}}),Object.defineProperty(e,"transportItemTypeToBodyKey",{enumerable:!0,get:function(){return _.transportItemTypeToBodyKey}});var E=Q_;Object.defineProperty(e,"defaultUnpatchedConsole",{enumerable:!0,get:function(){return E.defaultUnpatchedConsole}});var p=g_;Object.defineProperty(e,"allLogLevels",{enumerable:!0,get:function(){return p.allLogLevels}}),Object.defineProperty(e,"createPromiseBuffer",{enumerable:!0,get:function(){return p.createPromiseBuffer}}),Object.defineProperty(e,"deepEqual",{enumerable:!0,get:function(){return p.deepEqual}}),Object.defineProperty(e,"defaultLogLevel",{enumerable:!0,get:function(){return p.defaultLogLevel}}),Object.defineProperty(e,"genShortID",{enumerable:!0,get:function(){return p.genShortID}}),Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return p.getCurrentTimestamp}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return p.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return p.isBoolean}}),Object.defineProperty(e,"isDomError",{enumerable:!0,get:function(){return p.isDomError}}),Object.defineProperty(e,"isDomException",{enumerable:!0,get:function(){return p.isDomException}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return p.isElement}}),Object.defineProperty(e,"isElementDefined",{enumerable:!0,get:function(){return p.isElementDefined}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return p.isError}}),Object.defineProperty(e,"isErrorDefined",{enumerable:!0,get:function(){return p.isErrorDefined}}),Object.defineProperty(e,"isErrorEvent",{enumerable:!0,get:function(){return p.isErrorEvent}}),Object.defineProperty(e,"isEvent",{enumerable:!0,get:function(){return p.isEvent}}),Object.defineProperty(e,"isEventDefined",{enumerable:!0,get:function(){return p.isEventDefined}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return p.isFunction}}),Object.defineProperty(e,"isInstanceOf",{enumerable:!0,get:function(){return p.isInstanceOf}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return p.isInt}}),Object.defineProperty(e,"isMap",{enumerable:!0,get:function(){return p.isMap}}),Object.defineProperty(e,"isMapDefined",{enumerable:!0,get:function(){return p.isMapDefined}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return p.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return p.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return p.isObject}}),Object.defineProperty(e,"isPrimitive",{enumerable:!0,get:function(){return p.isPrimitive}}),Object.defineProperty(e,"isRegExp",{enumerable:!0,get:function(){return p.isRegExp}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return p.isString}}),Object.defineProperty(e,"isSymbol",{enumerable:!0,get:function(){return p.isSymbol}}),Object.defineProperty(e,"isSyntheticEvent",{enumerable:!0,get:function(){return p.isSyntheticEvent}}),Object.defineProperty(e,"isThenable",{enumerable:!0,get:function(){return p.isThenable}}),Object.defineProperty(e,"isToString",{enumerable:!0,get:function(){return p.isToString}}),Object.defineProperty(e,"isTypeof",{enumerable:!0,get:function(){return p.isTypeof}}),Object.defineProperty(e,"isUndefined",{enumerable:!0,get:function(){return p.isUndefined}}),Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return p.LogLevel}}),Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return p.noop}}),Object.defineProperty(e,"dateNow",{enumerable:!0,get:function(){return p.dateNow}});var T=dp;Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return T.VERSION}})}(d_);var Lp={},Dp={},wp={},Up={exports:{}};!function(e,r){!function(t,n){var o="function",i="undefined",a="object",s="string",c="major",u="model",l="name",d="type",_="vendor",E="version",p="architecture",T="console",m="mobile",f="tablet",g="smarttv",A="wearable",S="embedded",O="Amazon",h="Apple",v="ASUS",y="BlackBerry",b="Browser",N="Chrome",P="Firefox",R="Google",I="Huawei",C="LG",M="Microsoft",L="Motorola",D="Opera",w="Samsung",U="Sharp",B="Sony",j="Xiaomi",G="Zebra",x="Facebook",V="Chromium OS",k="Mac OS",F=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},H=function(e,t){return typeof e===s&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},X=function(e,t){if(typeof e===s)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,500)},W=function(e,t){for(var r,i,s,c,u,l,d=0;d<t.length&&!u;){var _=t[d],E=t[d+1];for(r=i=0;r<_.length&&!u&&_[r];)if(u=_[r++].exec(e))for(s=0;s<E.length;s++)l=u[++i],typeof(c=E[s])===a&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):n:this[c[0]]=l?c[1].call(this,l,c[2]):n:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):n):this[c]=l||n;d+=2}},Y=function(e,t){for(var r in t)if(typeof t[r]===a&&t[r].length>0){for(var o=0;o<t[r].length;o++)if(H(t[r][o],e))return"?"===r?n:r}else if(H(t[r],e))return"?"===r?n:r;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},$={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,E],[/opios[\/ ]+([\w\.]+)/i],[E,[l,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[E,[l,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[E,[l,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[l,E],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[E,[l,"UC"+b]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[E,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[E,[l,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[E,[l,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[E,[l,"Smart Lenovo "+b]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+b],E],[/\bfocus\/([\w\.]+)/i],[E,[l,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[E,[l,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[E,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[l,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[E,[l,"MIUI "+b]],[/fxios\/([-\w\.]+)/i],[E,[l,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+b]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+b],E],[/samsungbrowser\/([\w\.]+)/i],[E,[l,w+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],E],[/metasr[\/ ]?([\d\.]+)/i],[E,[l,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[l,"Sogou Mobile"],E],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[l,E],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,x],E],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[l,E],[/\bgsa\/([\w\.]+) .*safari\//i],[E,[l,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[E,[l,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[E,[l,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,N+" WebView"],E],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[E,[l,"Android "+b]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,E],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[E,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[E,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[E,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,E],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],E],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[E,[l,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[l,E],[/(cobalt)\/([\w\.]+)/i],[l,[E,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,K]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[_,w],[d,f]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[_,w],[d,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[_,h],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[_,h],[d,f]],[/(macintosh);/i],[u,[_,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[_,U],[d,m]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[_,I],[d,f]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[_,I],[d,m]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[_,j],[d,m]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[_,j],[d,f]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[_,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[_,"Vivo"],[d,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[_,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[_,L],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[_,L],[d,f]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[_,C],[d,f]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[_,C],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[_,"Lenovo"],[d,f]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[_,"Nokia"],[d,m]],[/(pixel c)\b/i],[u,[_,R],[d,f]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[_,R],[d,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[_,B],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[_,B],[d,f]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[_,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[_,O],[d,f]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[_,O],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[u,_,[d,f]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[_,y],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[_,v],[d,f]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[_,v],[d,m]],[/(nexus 9)/i],[u,[_,"HTC"],[d,f]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[_,[u,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[_,"Acer"],[d,f]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[_,"Meizu"],[d,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[_,"Ulefone"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[_,u,[d,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[_,u,[d,f]],[/(surface duo)/i],[u,[_,M],[d,f]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[_,"Fairphone"],[d,m]],[/(u304aa)/i],[u,[_,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[u,[_,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[u,[_,"RCA"],[d,f]],[/\b(venue[\d ]{2,7}) b/i],[u,[_,"Dell"],[d,f]],[/\b(q(?:mv|ta)\w+) b/i],[u,[_,"Verizon"],[d,f]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[_,"Barnes & Noble"],[d,f]],[/\b(tm\d{3}\w+) b/i],[u,[_,"NuVision"],[d,f]],[/\b(k88) b/i],[u,[_,"ZTE"],[d,f]],[/\b(nx\d{3}j) b/i],[u,[_,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[u,[_,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[u,[_,"Swiss"],[d,f]],[/\b((zeki)?tb.*\b) b/i],[u,[_,"Zeki"],[d,f]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[_,"Dragon Touch"],u,[d,f]],[/\b(ns-?\w{0,9}) b/i],[u,[_,"Insignia"],[d,f]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[_,"NextBook"],[d,f]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[_,"Voice"],u,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[_,"LvTel"],u,[d,m]],[/\b(ph-1) /i],[u,[_,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[_,"Envizen"],[d,f]],[/\b(trio[-\w\. ]+) b/i],[u,[_,"MachSpeed"],[d,f]],[/\btu_(1491) b/i],[u,[_,"Rotor"],[d,f]],[/(shield[\w ]+) b/i],[u,[_,"Nvidia"],[d,f]],[/(sprint) (\w+)/i],[_,u,[d,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[_,M],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[_,G],[d,f]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[_,G],[d,m]],[/smart-tv.+(samsung)/i],[_,[d,g]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[_,w],[d,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[_,C],[d,g]],[/(apple) ?tv/i],[_,[u,h+" TV"],[d,g]],[/crkey/i],[[u,N+"cast"],[_,R],[d,g]],[/droid.+aft(\w+)( bui|\))/i],[u,[_,O],[d,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[_,U],[d,g]],[/(bravia[\w ]+)( bui|\))/i],[u,[_,B],[d,g]],[/(mitv-\w{5}) bui/i],[u,[_,j],[d,g]],[/Hbbtv.*(technisat) (.*);/i],[_,u,[d,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[_,X],[u,X],[d,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[_,u,[d,T]],[/droid.+; (shield) bui/i],[u,[_,"Nvidia"],[d,T]],[/(playstation [345portablevi]+)/i],[u,[_,B],[d,T]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[_,M],[d,T]],[/((pebble))app/i],[_,u,[d,A]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[_,h],[d,A]],[/droid.+; (glass) \d/i],[u,[_,R],[d,A]],[/droid.+; (wt63?0{2,3})\)/i],[u,[_,G],[d,A]],[/(quest( 2| pro)?)/i],[u,[_,x],[d,A]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[_,[d,S]],[/(aeobc)\b/i],[u,[_,O],[d,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[d,f]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,f]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[_,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[E,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[l,E],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,E],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[l,[E,Y,z]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,Y,z],[l,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,k],[E,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[E,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,E],[/\(bb(10);/i],[E,[l,y]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[E,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[E,[l,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[l,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[E,[l,"watchOS"]],[/crkey\/([\d\.]+)/i],[E,[l,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[l,V],E],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,E],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],E],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[l,E]]},q=function(e,r){if(typeof e===a&&(r=e,e=n),!(this instanceof q))return new q(e,r).getResult();var T=typeof t!==i&&t.navigator?t.navigator:n,g=e||(T&&T.userAgent?T.userAgent:""),A=T&&T.userAgentData?T.userAgentData:n,S=r?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}($,r):$,O=T&&T.userAgent==g;return this.getBrowser=function(){var e={};return e[l]=n,e[E]=n,W.call(e,g,S.browser),e[c]=function(e){return typeof e===s?e.replace(/[^\d\.]/g,"").split(".")[0]:n}(e[E]),O&&T&&T.brave&&typeof T.brave.isBrave==o&&(e[l]="Brave"),e},this.getCPU=function(){var e={};return e[p]=n,W.call(e,g,S.cpu),e},this.getDevice=function(){var e={};return e[_]=n,e[u]=n,e[d]=n,W.call(e,g,S.device),O&&!e[d]&&A&&A.mobile&&(e[d]=m),O&&"Macintosh"==e[u]&&T&&typeof T.standalone!==i&&T.maxTouchPoints&&T.maxTouchPoints>2&&(e[u]="iPad",e[d]=f),e},this.getEngine=function(){var e={};return e[l]=n,e[E]=n,W.call(e,g,S.engine),e},this.getOS=function(){var e={};return e[l]=n,e[E]=n,W.call(e,g,S.os),O&&!e[l]&&A&&"Unknown"!=A.platform&&(e[l]=A.platform.replace(/chrome os/i,V).replace(/macos/i,k)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===s&&e.length>500?X(e,500):e,this},this.setUA(g),this};q.VERSION="1.0.37",q.BROWSER=F([l,E,c]),q.CPU=F([p]),q.DEVICE=F([u,_,d,T,m,g,f,A,S]),q.ENGINE=q.OS=F([l,E]),e.exports&&(r=e.exports=q),r.UAParser=q;var Z=typeof t!==i&&(t.jQuery||t.Zepto);if(Z&&!Z.ua){var J=new q;Z.ua=J.getResult(),Z.ua.get=function(){return J.getUA()},Z.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var r in t)Z.ua[r]=t[r]}}}("object"==typeof window?window:t)}(Up,Up.exports);var Bp=Up.exports;Object.defineProperty(wp,"__esModule",{value:!0}),wp.browserMeta=void 0;var jp=Bp;wp.browserMeta=function(){var e=new jp.UAParser,t=e.getBrowser(),r=t.name,n=t.version,o=e.getOS(),i=o.name,a=o.version,s=e.getUA(),c=navigator.language,u=navigator.userAgent.includes("Mobi"),l=function(){if(!r||!n)return;if("userAgentData"in navigator)return navigator.userAgentData.brands;return}(),d="unknown";return{browser:{name:null!=r?r:d,version:null!=n?n:d,os:"".concat(null!=i?i:d," ").concat(null!=a?a:d),userAgent:null!=s?s:d,language:null!=c?c:d,mobile:u,brands:null!=l?l:d}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.browserMeta=void 0;var t=wp;Object.defineProperty(e,"browserMeta",{enumerable:!0,get:function(){return t.browserMeta}})}(Dp);var Gp={},xp={},Vp={};Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.pageMeta=void 0;Vp.pageMeta=function(){return{page:{url:location.href}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pageMeta=void 0;var t=Vp;Object.defineProperty(e,"pageMeta",{enumerable:!0,get:function(){return t.pageMeta}})}(xp),Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.defaultMetas=void 0;var kp=Dp,Fp=xp;Gp.defaultMetas=[kp.browserMeta,Fp.pageMeta];var Hp,Kp,Xp={},Wp={};function Yp(){return Kp||(Kp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createSession=void 0;var t=function(){if(Hp)return Wp;Hp=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.createSession=void 0;var e=d_,t=Ef();return Wp.createSession=function(r){var n,o,i,a;return{id:null!==(a=null===(i=null===(o=null===(n=t.faro.config)||void 0===n?void 0:n.sessionTracking)||void 0===o?void 0:o.generateSessionId)||void 0===i?void 0:i.call(o))&&void 0!==a?a:(0,e.genShortID)(),attributes:r}},Wp}();Object.defineProperty(e,"createSession",{enumerable:!0,get:function(){return t.createSession}})}(Xp)),Xp}var zp={},$p={};Object.defineProperty($p,"__esModule",{value:!0}),$p.defaultViewMeta=void 0,$p.defaultViewMeta={name:"default"},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultViewMeta=void 0;var t=$p;Object.defineProperty(e,"defaultViewMeta",{enumerable:!0,get:function(){return t.defaultViewMeta}})}(zp);var qp={},Zp={};Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.sdkMeta=void 0;var Jp,Qp=d_;function eT(){return Jp||(Jp=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sdkMeta=e.defaultViewMeta=e.createSession=e.pageMeta=e.defaultMetas=e.browserMeta=void 0;var t=Dp;Object.defineProperty(e,"browserMeta",{enumerable:!0,get:function(){return t.browserMeta}});var r=Gp;Object.defineProperty(e,"defaultMetas",{enumerable:!0,get:function(){return r.defaultMetas}});var n=xp;Object.defineProperty(e,"pageMeta",{enumerable:!0,get:function(){return n.pageMeta}});var o=Yp();Object.defineProperty(e,"createSession",{enumerable:!0,get:function(){return o.createSession}});var i=zp;Object.defineProperty(e,"defaultViewMeta",{enumerable:!0,get:function(){return i.defaultViewMeta}});var a=qp;Object.defineProperty(e,"sdkMeta",{enumerable:!0,get:function(){return a.sdkMeta}})}(Lp)),Lp}Zp.sdkMeta=function(){return{sdk:{name:"@grafana/faro-core",version:Qp.VERSION,integrations:Qp.faro.config.instrumentations.map((function(e){return{name:e.name,version:e.version}}))}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sdkMeta=void 0;var t=Zp;Object.defineProperty(e,"sdkMeta",{enumerable:!0,get:function(){return t.sdkMeta}})}(qp);var tT={},rT={},nT={},oT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSessionStorageAvailable=e.isLocalStorageAvailable=e.removeItem=e.setItem=e.getItem=e.isWebStorageAvailable=e.webStorageType=void 0;var t=d_;function r(e){var r;try{var n=void 0;n=window[e];var o="__faro_storage_test__";return n.setItem(o,o),n.removeItem(o),!0}catch(n){return null===(r=t.faro.internalLogger)||void 0===r||r.info("Web storage of type ".concat(e," is not available. Reason: ").concat(n)),!1}}function n(t){return t===e.webStorageType.local?e.isLocalStorageAvailable:t===e.webStorageType.session&&e.isSessionStorageAvailable}e.webStorageType={session:"sessionStorage",local:"localStorage"},e.isWebStorageAvailable=r,e.getItem=function(e,t){return n(t)?window[t].getItem(e):null},e.setItem=function(e,t,r){if(n(r))try{window[r].setItem(e,t)}catch(e){}},e.removeItem=function(e,t){n(t)&&window[t].removeItem(e)},e.isLocalStorageAvailable=r(e.webStorageType.local),e.isSessionStorageAvailable=r(e.webStorageType.session)}(oT);var iT={};Object.defineProperty(iT,"__esModule",{value:!0}),iT.throttle=void 0,iT.throttle=function(e,t){var r,n=!1,o=function(){null!=r?(e.apply(void 0,r),r=null,setTimeout(o,t)):n=!1};return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];n?r=i:(e.apply(void 0,i),n=!0,setTimeout(o,t))}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.setItem=e.removeItem=e.isWebStorageAvailable=e.getItem=e.webStorageType=e.isSessionStorageAvailable=e.isLocalStorageAvailable=void 0;var t=oT;Object.defineProperty(e,"isLocalStorageAvailable",{enumerable:!0,get:function(){return t.isLocalStorageAvailable}}),Object.defineProperty(e,"isSessionStorageAvailable",{enumerable:!0,get:function(){return t.isSessionStorageAvailable}}),Object.defineProperty(e,"webStorageType",{enumerable:!0,get:function(){return t.webStorageType}}),Object.defineProperty(e,"getItem",{enumerable:!0,get:function(){return t.getItem}}),Object.defineProperty(e,"isWebStorageAvailable",{enumerable:!0,get:function(){return t.isWebStorageAvailable}}),Object.defineProperty(e,"removeItem",{enumerable:!0,get:function(){return t.removeItem}}),Object.defineProperty(e,"setItem",{enumerable:!0,get:function(){return t.setItem}});var r=iT;Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return r.throttle}})}(nT);var aT={};Object.defineProperty(aT,"__esModule",{value:!0}),aT.isSampled=void 0;var sT=d_;aT.isSampled=function(){var e,t,r,n=sT.faro.config.sessionTracking,o=null!==(r=null!==(t=null===(e=null==n?void 0:n.sampler)||void 0===e?void 0:e.call(n,{metas:sT.faro.metas.value}))&&void 0!==t?t:null==n?void 0:n.samplingRate)&&void 0!==r?r:1;if("number"!=typeof o){o=0}return Math.random()<o};var cT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.defaultSessionTrackingConfig=e.MAX_SESSION_PERSISTENCE_TIME=e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=e.STORAGE_UPDATE_DELAY=e.SESSION_INACTIVITY_TIME=e.SESSION_EXPIRATION_TIME=e.STORAGE_KEY=void 0,e.STORAGE_KEY="__FARO_SESSION__",e.SESSION_EXPIRATION_TIME=144e5,e.SESSION_INACTIVITY_TIME=9e5,e.STORAGE_UPDATE_DELAY=1e3,e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=6e4,e.MAX_SESSION_PERSISTENCE_TIME=e.SESSION_INACTIVITY_TIME+e.MAX_SESSION_PERSISTENCE_TIME_BUFFER,e.defaultSessionTrackingConfig={enabled:!0,persistent:!1,maxSessionPersistenceTime:e.MAX_SESSION_PERSISTENCE_TIME}}(cT);var uT={},lT=t&&t.__assign||function(){return lT=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lT.apply(this,arguments)};Object.defineProperty(uT,"__esModule",{value:!0}),uT.addSessionMetadataToNextSession=uT.getUserSessionUpdater=uT.isUserSessionValid=uT.createUserSessionObject=void 0;var dT=d_,_T=aT,ET=cT;function pT(e){var t,r,n=void 0===e?{}:e,o=n.sessionId,i=n.isSampled,a=void 0===i||i,s=(0,dT.dateNow)(),c=null===(r=null===(t=dT.faro.config)||void 0===t?void 0:t.sessionTracking)||void 0===r?void 0:r.generateSessionId;return null==o&&(o="function"==typeof c?c():(0,dT.genShortID)()),{sessionId:o,lastActivity:s,started:s,isSampled:a}}function TT(e){if(null==e)return!1;var t=(0,dT.dateNow)();return t-e.started<ET.SESSION_EXPIRATION_TIME&&t-e.lastActivity<ET.SESSION_INACTIVITY_TIME}function mT(e,t){var r,n,o,i;return lT(lT({},e),{sessionMeta:{id:e.sessionId,attributes:lT(lT(lT(lT({},null===(n=null===(r=dT.faro.config.sessionTracking)||void 0===r?void 0:r.session)||void 0===n?void 0:n.attributes),null!==(i=null===(o=dT.faro.metas.value.session)||void 0===o?void 0:o.attributes)&&void 0!==i?i:{}),null!=t?{previousSession:t.sessionId}:{}),{isSampled:e.isSampled.toString()})}})}uT.createUserSessionObject=pT,uT.isUserSessionValid=TT,uT.getUserSessionUpdater=function(e){var t=e.fetchUserSession,r=e.storeUserSession;return function(){var e,n,o,i;if(t&&r){var a=t();if(TT(a))r(lT(lT({},a),{lastActivity:(0,dT.dateNow)()}));else{var s=mT(pT({isSampled:(0,_T.isSampled)()}),a);r(s),null===(e=dT.faro.api)||void 0===e||e.setSession(s.sessionMeta),null===(o=null===(n=dT.faro.config.sessionTracking)||void 0===n?void 0:n.onSessionChange)||void 0===o||o.call(n,null!==(i=null==a?void 0:a.sessionMeta)&&void 0!==i?i:null,s.sessionMeta)}}}},uT.addSessionMetadataToNextSession=mT,Object.defineProperty(rT,"__esModule",{value:!0}),rT.PersistentSessionsManager=void 0;var fT=d_,gT=nT,AT=oT,ST=aT,OT=cT,hT=uT,vT=function(){function e(){var t=this;this.updateSession=(0,gT.throttle)((function(){return t.updateUserSession()}),OT.STORAGE_UPDATE_DELAY),this.updateUserSession=(0,hT.getUserSessionUpdater)({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}return e.removeUserSession=function(){(0,AT.removeItem)(OT.STORAGE_KEY,e.storageTypeLocal)},e.storeUserSession=function(t){(0,AT.setItem)(OT.STORAGE_KEY,JSON.stringify(t),e.storageTypeLocal)},e.fetchUserSession=function(){var t=(0,AT.getItem)(OT.STORAGE_KEY,e.storageTypeLocal);return t?JSON.parse(t):null},e.prototype.init=function(){var t=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.updateSession()})),fT.faro.metas.addListener((function(t){var r=t.session,n=e.fetchUserSession();if(r&&r.id!==(null==n?void 0:n.sessionId)){var o=(0,hT.addSessionMetadataToNextSession)((0,hT.createUserSessionObject)({sessionId:r.id,isSampled:(0,ST.isSampled)()}),n);e.storeUserSession(o),fT.faro.api.setSession(o.sessionMeta)}}))},e.storageTypeLocal=AT.webStorageType.local,e}();rT.PersistentSessionsManager=vT;var yT={};Object.defineProperty(yT,"__esModule",{value:!0}),yT.VolatileSessionsManager=void 0;var bT,NT,PT=d_,RT=nT,IT=oT,CT=aT,MT=cT,LT=uT,DT=function(){function e(){var t=this;this.updateSession=(0,RT.throttle)((function(){return t.updateUserSession()}),MT.STORAGE_UPDATE_DELAY),this.updateUserSession=(0,LT.getUserSessionUpdater)({fetchUserSession:e.fetchUserSession,storeUserSession:e.storeUserSession}),this.init()}return e.removeUserSession=function(){(0,IT.removeItem)(MT.STORAGE_KEY,e.storageTypeSession)},e.storeUserSession=function(t){(0,IT.setItem)(MT.STORAGE_KEY,JSON.stringify(t),e.storageTypeSession)},e.fetchUserSession=function(){var t=(0,IT.getItem)(MT.STORAGE_KEY,e.storageTypeSession);return t?JSON.parse(t):null},e.prototype.init=function(){var t=this;document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&t.updateSession()})),PT.faro.metas.addListener((function(t){var r=t.session,n=e.fetchUserSession();if(r&&r.id!==(null==n?void 0:n.sessionId)){var o=(0,LT.addSessionMetadataToNextSession)((0,LT.createUserSessionObject)({sessionId:r.id,isSampled:(0,CT.isSampled)()}),n);e.storeUserSession(o),PT.faro.api.setSession(o.sessionMeta)}}))},e.storageTypeSession=IT.webStorageType.session,e}();function wT(){return NT||(NT=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSampled=e.defaultSessionTrackingConfig=e.VolatileSessionsManager=e.STORAGE_UPDATE_DELAY=e.STORAGE_KEY=e.SESSION_INACTIVITY_TIME=e.SESSION_EXPIRATION_TIME=e.PersistentSessionsManager=e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=e.MAX_SESSION_PERSISTENCE_TIME=e.SessionInstrumentation=void 0;var r=function(){if(bT)return l_;bT=1;var e=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=t&&t.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};Object.defineProperty(l_,"__esModule",{value:!0}),l_.SessionInstrumentation=void 0;var n=d_,o=eT(),i=tT,a=rT,s=uT,c=yT,u=function(t){function u(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="@grafana/faro-web-sdk:instrumentation-session",e.version=n.VERSION,e}return e(u,t),u.prototype.sendSessionStartEvent=function(e){var t,r,o=e.session;if(o&&o.id!==(null===(t=this.notifiedSession)||void 0===t?void 0:t.id)){if(this.notifiedSession&&this.notifiedSession.id===(null===(r=o.attributes)||void 0===r?void 0:r.previousSession))return this.api.pushEvent(n.EVENT_SESSION_EXTEND,{},void 0,{skipDedupe:!0}),void(this.notifiedSession=o);this.notifiedSession=o,this.api.pushEvent(n.EVENT_SESSION_START,{},void 0,{skipDedupe:!0})}},u.prototype.createInitialSessionMeta=function(e){var t,u,l,d=(e.persistent?a.PersistentSessionsManager:c.VolatileSessionsManager).fetchUserSession();if(e.persistent&&e.maxSessionPersistenceTime&&d){var _=(0,n.dateNow)();d.lastActivity<_-e.maxSessionPersistenceTime&&(a.PersistentSessionsManager.removeUserSession(),d=null)}var E,p=null===(t=e.session)||void 0===t?void 0:t.id,T=null===(u=e.session)||void 0===u?void 0:u.attributes;return(0,s.isUserSessionValid)(d)?(p=null==d?void 0:d.sessionId,T=r(r(r({},T),null===(l=null==d?void 0:d.sessionMeta)||void 0===l?void 0:l.attributes),{isSampled:(d.isSampled||!1).toString()}),E=n.EVENT_SESSION_RESUME):(p=null!=p?p:(0,o.createSession)().id,E=n.EVENT_SESSION_START),{sessionMeta:{id:p,attributes:r({isSampled:(0,i.isSampled)().toString()},T)},lifecycleType:E}},u.prototype.registerBeforeSendHook=function(e){var t,r=(new e).updateSession;null===(t=this.transports)||void 0===t||t.addBeforeSendHooks((function(e){var t,n,o;r();var i=null===(t=e.meta.session)||void 0===t?void 0:t.attributes;if(i&&"true"===(null==i?void 0:i.isSampled)){var a=void 0,s=null===(n=(a="structuredClone"in window?structuredClone(e):JSON.parse(JSON.stringify(e))).meta.session)||void 0===n?void 0:n.attributes;return null==s||delete s.isSampled,0===Object.keys(null!=s?s:{}).length&&(null===(o=a.meta.session)||void 0===o||delete o.attributes),a}return null}))},u.prototype.initialize=function(){var e,t;this.logDebug("init session instrumentation");var o=this.config.sessionTracking;if(null==o?void 0:o.enabled){var i=(null===(e=this.config.sessionTracking)||void 0===e?void 0:e.persistent)?a.PersistentSessionsManager:c.VolatileSessionsManager;this.registerBeforeSendHook(i);var u=this.createInitialSessionMeta(o),l=u.sessionMeta,d=u.lifecycleType;i.storeUserSession(r(r({},(0,s.createUserSessionObject)({sessionId:l.id,isSampled:"true"===(null===(t=l.attributes)||void 0===t?void 0:t.isSampled)})),{sessionMeta:l})),this.notifiedSession=l,this.api.setSession(l),d===n.EVENT_SESSION_START&&this.api.pushEvent(n.EVENT_SESSION_START,{},void 0,{skipDedupe:!0}),d===n.EVENT_SESSION_RESUME&&this.api.pushEvent(n.EVENT_SESSION_RESUME,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))},u}(n.BaseInstrumentation);return l_.SessionInstrumentation=u,l_}();Object.defineProperty(e,"SessionInstrumentation",{enumerable:!0,get:function(){return r.SessionInstrumentation}});var n=tT;Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME",{enumerable:!0,get:function(){return n.MAX_SESSION_PERSISTENCE_TIME}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME_BUFFER",{enumerable:!0,get:function(){return n.MAX_SESSION_PERSISTENCE_TIME_BUFFER}}),Object.defineProperty(e,"PersistentSessionsManager",{enumerable:!0,get:function(){return n.PersistentSessionsManager}}),Object.defineProperty(e,"SESSION_EXPIRATION_TIME",{enumerable:!0,get:function(){return n.SESSION_EXPIRATION_TIME}}),Object.defineProperty(e,"SESSION_INACTIVITY_TIME",{enumerable:!0,get:function(){return n.SESSION_INACTIVITY_TIME}}),Object.defineProperty(e,"STORAGE_KEY",{enumerable:!0,get:function(){return n.STORAGE_KEY}}),Object.defineProperty(e,"STORAGE_UPDATE_DELAY",{enumerable:!0,get:function(){return n.STORAGE_UPDATE_DELAY}}),Object.defineProperty(e,"VolatileSessionsManager",{enumerable:!0,get:function(){return n.VolatileSessionsManager}}),Object.defineProperty(e,"defaultSessionTrackingConfig",{enumerable:!0,get:function(){return n.defaultSessionTrackingConfig}}),Object.defineProperty(e,"isSampled",{enumerable:!0,get:function(){return n.isSampled}})}(u_)),u_}yT.VolatileSessionsManager=DT,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isSampled=e.defaultSessionTrackingConfig=e.STORAGE_UPDATE_DELAY=e.STORAGE_KEY=e.SESSION_INACTIVITY_TIME=e.SESSION_EXPIRATION_TIME=e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=e.MAX_SESSION_PERSISTENCE_TIME=e.VolatileSessionsManager=e.PersistentSessionsManager=void 0;var t=rT;Object.defineProperty(e,"PersistentSessionsManager",{enumerable:!0,get:function(){return t.PersistentSessionsManager}});var r=yT;Object.defineProperty(e,"VolatileSessionsManager",{enumerable:!0,get:function(){return r.VolatileSessionsManager}});var n=cT;Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME",{enumerable:!0,get:function(){return n.MAX_SESSION_PERSISTENCE_TIME}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME_BUFFER",{enumerable:!0,get:function(){return n.MAX_SESSION_PERSISTENCE_TIME_BUFFER}}),Object.defineProperty(e,"SESSION_EXPIRATION_TIME",{enumerable:!0,get:function(){return n.SESSION_EXPIRATION_TIME}}),Object.defineProperty(e,"SESSION_INACTIVITY_TIME",{enumerable:!0,get:function(){return n.SESSION_INACTIVITY_TIME}}),Object.defineProperty(e,"STORAGE_KEY",{enumerable:!0,get:function(){return n.STORAGE_KEY}}),Object.defineProperty(e,"STORAGE_UPDATE_DELAY",{enumerable:!0,get:function(){return n.STORAGE_UPDATE_DELAY}}),Object.defineProperty(e,"defaultSessionTrackingConfig",{enumerable:!0,get:function(){return n.defaultSessionTrackingConfig}});var o=aT;Object.defineProperty(e,"isSampled",{enumerable:!0,get:function(){return o.isSampled}})}(tT);var UT={},BT={},jT=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(BT,"__esModule",{value:!0}),BT.ConsoleInstrumentation=void 0;var GT=d_,xT=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.options=t,r.name="@grafana/faro-web-sdk:instrumentation-console",r.version=GT.VERSION,r}return jT(t,e),t.prototype.initialize=function(){var e=this;this.logDebug("Initializing\n",this.options),GT.allLogLevels.filter((function(r){var n;return!(null!==(n=e.options.disabledLevels)&&void 0!==n?n:t.defaultDisabledLevels).includes(r)})).forEach((function(t){console[t]=function(){for(var r,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{e.api.pushLog(n,{level:t})}catch(t){e.logError(t)}finally{(r=e.unpatchedConsole)[t].apply(r,n)}}}))},t.defaultDisabledLevels=[GT.LogLevel.DEBUG,GT.LogLevel.TRACE,GT.LogLevel.LOG],t}(GT.BaseInstrumentation);BT.ConsoleInstrumentation=xT,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleInstrumentation=void 0;var t=BT;Object.defineProperty(e,"ConsoleInstrumentation",{enumerable:!0,get:function(){return t.ConsoleInstrumentation}})}(UT);var VT={},kT={},FT={},HT={};Object.defineProperty(HT,"__esModule",{value:!0}),HT.valueTypeRegex=HT.unknownString=HT.objectEventValue=HT.domExceptionType=HT.domErrorType=HT.primitiveUnhandledType=HT.primitiveUnhandledValue=void 0,HT.primitiveUnhandledValue="Non-Error promise rejection captured with value:",HT.primitiveUnhandledType="UnhandledRejection",HT.domErrorType="DOMError",HT.domExceptionType="DOMException",HT.objectEventValue="Non-Error exception captured with keys:",HT.unknownString="?",HT.valueTypeRegex=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;var KT={},XT={},WT={},YT={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reactMinifiedRegex=e.safariWebExtensionString=e.safariExtensionString=e.firefoxEvalString=e.firefoxEvalRegex=e.firefoxLineRegex=e.webkitAddressAtStringLength=e.webkitAddressAtString=e.webkitEvalString=e.webkitEvalRegex=e.webkitLineRegex=e.atString=e.unknownString=e.evalString=e.newLineString=void 0,e.newLineString="\n",e.evalString="eval",e.unknownString="?",e.atString="@",e.webkitLineRegex=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,e.webkitEvalRegex=/\((\S*)(?::(\d+))(?::(\d+))\)/,e.webkitEvalString="eval",e.webkitAddressAtString="address at ",e.webkitAddressAtStringLength=e.webkitAddressAtString.length,e.firefoxLineRegex=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,e.firefoxEvalRegex=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,e.firefoxEvalString=" > eval",e.safariExtensionString="safari-extension",e.safariWebExtensionString="safari-web-extension",e.reactMinifiedRegex=/Minified React error #\d+;/i}(YT),Object.defineProperty(WT,"__esModule",{value:!0}),WT.buildStackFrame=void 0;var zT=YT;WT.buildStackFrame=function(e,t,r,n){var o={filename:e||document.location.href,function:t||zT.unknownString};return void 0!==r&&(o.lineno=r),void 0!==n&&(o.colno=n),o};var $T={};Object.defineProperty($T,"__esModule",{value:!0}),$T.getDataFromSafariExtensions=void 0;var qT=YT;$T.getDataFromSafariExtensions=function(e,t){var r=null==e?void 0:e.includes(qT.safariExtensionString),n=!r&&(null==e?void 0:e.includes(qT.safariWebExtensionString));return r||n?[(null==e?void 0:e.includes(qT.atString))?e.split(qT.atString)[0]:e,r?"".concat(qT.safariExtensionString,":").concat(t):"".concat(qT.safariWebExtensionString,":").concat(t)]:[e,t]};var ZT={};Object.defineProperty(ZT,"__esModule",{value:!0}),ZT.getStackFramesFromError=void 0;var JT=d_,QT=WT,em=YT,tm=$T;ZT.getStackFramesFromError=function(e){var t=[];e.stacktrace?t=e.stacktrace.split(em.newLineString).filter((function(e,t){return t%2==0})):e.stack&&(t=e.stack.split(em.newLineString));var r=t.reduce((function(t,r,n){var o,i,a,s,c,u,l;if(a=em.webkitLineRegex.exec(r)){if(s=a[1],c=a[2],u=a[3],l=a[4],null==c?void 0:c.startsWith(em.webkitEvalString))(d=em.webkitEvalRegex.exec(c))&&(c=d[1],u=d[2],l=d[3]);c=(null==c?void 0:c.startsWith(em.webkitAddressAtString))?c.substring(em.webkitAddressAtStringLength):c,s=(o=(0,tm.getDataFromSafariExtensions)(s,c))[0],c=o[1]}else if(a=em.firefoxLineRegex.exec(r)){var d;if(s=a[1],c=a[3],u=a[4],l=a[5],c&&c.includes(em.firefoxEvalString))(d=em.firefoxEvalRegex.exec(c))&&(s=s||em.evalString,c=d[1],u=d[2]);else 0===n&&!l&&(0,JT.isNumber)(e.columnNumber)&&(l=String(e.columnNumber+1));s=(i=(0,tm.getDataFromSafariExtensions)(s,c))[0],c=i[1]}return(c||s)&&t.push((0,QT.buildStackFrame)(c,s,u?Number(u):void 0,l?Number(l):void 0)),t}),[]);return em.reactMinifiedRegex.test(e.message)?r.slice(1):r};var rm={};Object.defineProperty(rm,"__esModule",{value:!0}),rm.parseStacktrace=void 0;var nm=ZT;rm.parseStacktrace=function(e){return{frames:(0,nm.getStackFramesFromError)(e)}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseStacktrace=e.getStackFramesFromError=e.getDataFromSafariExtensions=e.buildStackFrame=void 0;var t=WT;Object.defineProperty(e,"buildStackFrame",{enumerable:!0,get:function(){return t.buildStackFrame}});var r=$T;Object.defineProperty(e,"getDataFromSafariExtensions",{enumerable:!0,get:function(){return r.getDataFromSafariExtensions}});var n=ZT;Object.defineProperty(e,"getStackFramesFromError",{enumerable:!0,get:function(){return n.getStackFramesFromError}});var o=rm;Object.defineProperty(e,"parseStacktrace",{enumerable:!0,get:function(){return o.parseStacktrace}})}(XT),Object.defineProperty(KT,"__esModule",{value:!0}),KT.getErrorDetails=void 0;var om=d_,im=HT,am=XT;KT.getErrorDetails=function(e){var t,r,n,o,i=[];if((0,om.isErrorEvent)(e)&&e.error)t=e.error.message,r=e.error.name,i=(0,am.getStackFramesFromError)(e.error);else if((n=(0,om.isDomError)(e))||(0,om.isDomException)(e)){var a=e.name,s=e.message;r=null!=a?a:n?im.domErrorType:im.domExceptionType,t=s?"".concat(r,": ").concat(s):r}else(0,om.isError)(e)?(t=e.message,i=(0,am.getStackFramesFromError)(e)):((0,om.isObject)(e)||(o=(0,om.isEvent)(e)))&&(r=o?e.constructor.name:void 0,t="".concat(im.objectEventValue," ").concat(Object.keys(e)));return[t,r,i]};var sm={};Object.defineProperty(sm,"__esModule",{value:!0}),sm.getValueAndTypeFromMessage=void 0;var cm=d_,um=HT;sm.getValueAndTypeFromMessage=function(e){var t,r,n=e.match(um.valueTypeRegex),o=null!==(t=null==n?void 0:n[1])&&void 0!==t?t:cm.defaultExceptionType;return[null!==(r=null==n?void 0:n[2])&&void 0!==r?r:e,o]},Object.defineProperty(FT,"__esModule",{value:!0}),FT.registerOnerror=void 0;var lm=d_,dm=HT,_m=KT,Em=sm,pm=XT;FT.registerOnerror=function(e){var t=window.onerror;window.onerror=function(){for(var r,n,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];try{var a=o[0],s=o[1],c=o[2],u=o[3],l=o[4],d=void 0,_=void 0,E=[],p=(0,lm.isString)(a),T=(0,pm.buildStackFrame)(s,dm.unknownString,c,u);l||!p?(d=(r=(0,_m.getErrorDetails)(null!=l?l:a))[0],_=r[1],0===(E=r[2]).length&&(E=[T])):p&&(d=(n=(0,Em.getValueAndTypeFromMessage)(a))[0],_=n[1],E=[T]),d&&e.pushError(new Error(d),{type:_,stackFrames:E})}finally{null==t||t.apply(window,o)}}};var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.registerOnunhandledrejection=void 0;var mm=d_,fm=HT,gm=KT;Tm.registerOnunhandledrejection=function(e){window.addEventListener("unhandledrejection",(function(t){var r,n,o,i,a,s=t;s.reason?s=t.reason:(null===(n=t.detail)||void 0===n?void 0:n.reason)&&(s=null===(o=t.detail)||void 0===o?void 0:o.reason);var c=[];(0,mm.isPrimitive)(s)?(i="".concat(fm.primitiveUnhandledValue," ").concat(String(s)),a=fm.primitiveUnhandledType):(i=(r=(0,gm.getErrorDetails)(s))[0],a=r[1],c=r[2]),i&&e.pushError(new Error(i),{type:a,stackFrames:c})}))};var Am=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(kT,"__esModule",{value:!0}),kT.ErrorsInstrumentation=void 0;var Sm=d_,Om=FT,hm=Tm,vm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="@grafana/faro-web-sdk:instrumentation-errors",t.version=Sm.VERSION,t}return Am(t,e),t.prototype.initialize=function(){this.logDebug("Initializing"),(0,Om.registerOnerror)(this.api),(0,hm.registerOnunhandledrejection)(this.api)},t}(Sm.BaseInstrumentation);kT.ErrorsInstrumentation=vm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseStacktrace=e.getStackFramesFromError=e.getDataFromSafariExtensions=e.buildStackFrame=e.ErrorsInstrumentation=void 0;var t=kT;Object.defineProperty(e,"ErrorsInstrumentation",{enumerable:!0,get:function(){return t.ErrorsInstrumentation}});var r=XT;Object.defineProperty(e,"buildStackFrame",{enumerable:!0,get:function(){return r.buildStackFrame}}),Object.defineProperty(e,"getDataFromSafariExtensions",{enumerable:!0,get:function(){return r.getDataFromSafariExtensions}}),Object.defineProperty(e,"getStackFramesFromError",{enumerable:!0,get:function(){return r.getStackFramesFromError}}),Object.defineProperty(e,"parseStacktrace",{enumerable:!0,get:function(){return r.parseStacktrace}})}(VT);var ym={},bm={},Nm=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(bm,"__esModule",{value:!0}),bm.ViewInstrumentation=void 0;var Pm=d_,Rm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="@grafana/faro-web-sdk:instrumentation-view",t.version=Pm.VERSION,t}return Nm(t,e),t.prototype.sendViewChangedEvent=function(e){var t,r,n,o=e.view;o&&o.name!==(null===(t=this.notifiedView)||void 0===t?void 0:t.name)&&(this.api.pushEvent(Pm.EVENT_VIEW_CHANGED,{fromView:null!==(n=null===(r=this.notifiedView)||void 0===r?void 0:r.name)&&void 0!==n?n:"",toView:o.name},void 0,{skipDedupe:!0}),this.notifiedView=o)},t.prototype.initialize=function(){this.sendViewChangedEvent(this.metas.value),this.metas.addListener(this.sendViewChangedEvent.bind(this))},t}(Pm.BaseInstrumentation);bm.ViewInstrumentation=Rm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ViewInstrumentation=void 0;var t=bm;Object.defineProperty(e,"ViewInstrumentation",{enumerable:!0,get:function(){return t.ViewInstrumentation}})}(ym);var Im={},Cm={},Mm={exports:{}};!function(e,t){!function(e){var t,r,n,o,i,a=-1,s=function(e){addEventListener("pageshow",(function(t){t.persisted&&(a=t.timeStamp,e(t))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var e=c();return e&&e.activationStart||0},l=function(e,t){var r=c(),n="navigate";return a>=0?n="back-forward-cache":r&&(document.prerendering||u()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},d=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},_=function(e,t,r,n){var o,i;return function(a){t.value>=0&&(a||n)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},E=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},p=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},T=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},m=-1,f=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},g=function(e){"hidden"===document.visibilityState&&m>-1&&(m="visibilitychange"===e.type?e.timeStamp:0,S())},A=function(){addEventListener("visibilitychange",g,!0),addEventListener("prerenderingchange",g,!0)},S=function(){removeEventListener("visibilitychange",g,!0),removeEventListener("prerenderingchange",g,!0)},O=function(){return m<0&&(m=f(),A(),s((function(){setTimeout((function(){m=f(),A()}),0)}))),{get firstHiddenTime(){return m}}},h=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},v=[1800,3e3],y=function(e,t){t=t||{},h((function(){var r,n=O(),o=l("FCP"),i=d("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<n.firstHiddenTime&&(o.value=Math.max(e.startTime-u(),0),o.entries.push(e),r(!0)))}))}));i&&(r=_(e,o,v,t.reportAllChanges),s((function(n){o=l("FCP"),r=_(e,o,v,t.reportAllChanges),E((function(){o.value=performance.now()-n.timeStamp,r(!0)}))})))}))},b=[.1,.25],N=function(e,t){t=t||{},y(T((function(){var r,n=l("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1];o&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>n.value&&(n.value=o,n.entries=i,r())},c=d("layout-shift",a);c&&(r=_(e,n,b,t.reportAllChanges),p((function(){a(c.takeRecords()),r(!0)})),s((function(){o=0,n=l("CLS",0),r=_(e,n,b,t.reportAllChanges),E((function(){return r()}))})),setTimeout(r,0))})))},P={passive:!0,capture:!0},R=new Date,I=function(e,o){t||(t=o,r=e,n=new Date,L(removeEventListener),C())},C=function(){if(r>=0&&r<n-R){var e={entryType:"first-input",name:t.type,target:t.target,cancelable:t.cancelable,startTime:t.timeStamp,processingStart:t.timeStamp+r};o.forEach((function(t){t(e)})),o=[]}},M=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){I(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,P),removeEventListener("pointercancel",n,P)};addEventListener("pointerup",r,P),addEventListener("pointercancel",n,P)}(t,e):I(t,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,M,P)}))},D=[100,300],w=function(e,n){n=n||{},h((function(){var i,a=O(),c=l("FID"),u=function(e){e.startTime<a.firstHiddenTime&&(c.value=e.processingStart-e.startTime,c.entries.push(e),i(!0))},E=function(e){e.forEach(u)},m=d("first-input",E);i=_(e,c,D,n.reportAllChanges),m&&p(T((function(){E(m.takeRecords()),m.disconnect()}))),m&&s((function(){var a;c=l("FID"),i=_(e,c,D,n.reportAllChanges),o=[],r=-1,t=null,L(addEventListener),a=u,o.push(a),C()}))}))},U=0,B=1/0,j=0,G=function(e){e.forEach((function(e){e.interactionId&&(B=Math.min(B,e.interactionId),j=Math.max(j,e.interactionId),U=j?(j-B)/7+1:0)}))},x=function(){return i?U:performance.interactionCount||0},V=function(){"interactionCount"in performance||i||(i=d("event",G,{type:"event",buffered:!0,durationThreshold:0}))},k=[200,500],F=0,H=function(){return x()-F},K=[],X={},W=function(e){var t=K[K.length-1],r=X[e.interactionId];if(r||K.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};X[n.id]=n,K.push(n)}K.sort((function(e,t){return t.latency-e.latency})),K.splice(10).forEach((function(e){delete X[e.id]}))}},Y=function(e,t){t=t||{},h((function(){var r;V();var n,o=l("INP"),i=function(e){e.forEach((function(e){e.interactionId&&W(e),"first-input"===e.entryType&&!K.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&W(e)}));var t,r=(t=Math.min(K.length-1,Math.floor(H()/50)),K[t]);r&&r.latency!==o.value&&(o.value=r.latency,o.entries=r.entries,n())},a=d("event",i,{durationThreshold:null!==(r=t.durationThreshold)&&void 0!==r?r:40});n=_(e,o,k,t.reportAllChanges),a&&("interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),p((function(){i(a.takeRecords()),o.value<0&&H()>0&&(o.value=0,o.entries=[]),n(!0)})),s((function(){K=[],F=x(),o=l("INP"),n=_(e,o,k,t.reportAllChanges)})))}))},z=[2500,4e3],$={},q=function(e,t){t=t||{},h((function(){var r,n=O(),o=l("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(o.value=Math.max(t.startTime-u(),0),o.entries=[t],r())},a=d("largest-contentful-paint",i);if(a){r=_(e,o,z,t.reportAllChanges);var c=T((function(){$[o.id]||(i(a.takeRecords()),a.disconnect(),$[o.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(c,0)}),!0)})),p(c),s((function(n){o=l("LCP"),r=_(e,o,z,t.reportAllChanges),E((function(){o.value=performance.now()-n.timeStamp,$[o.id]=!0,r(!0)}))}))}}))},Z=[800,1800],J=function e(t){document.prerendering?h((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Q=function(e,t){t=t||{};var r=l("TTFB"),n=_(e,r,Z,t.reportAllChanges);J((function(){var o=c();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;r.value=Math.max(i-u(),0),r.entries=[o],n(!0),s((function(){r=l("TTFB",0),(n=_(e,r,Z,t.reportAllChanges))(!0)}))}}))};e.CLSThresholds=b,e.FCPThresholds=v,e.FIDThresholds=D,e.INPThresholds=k,e.LCPThresholds=z,e.TTFBThresholds=Z,e.getCLS=N,e.getFCP=y,e.getFID=w,e.getINP=Y,e.getLCP=q,e.getTTFB=Q,e.onCLS=N,e.onFCP=y,e.onFID=w,e.onINP=Y,e.onLCP=q,e.onTTFB=Q,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,Mm.exports);var Lm=Mm.exports,Dm=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.WebVitalsInstrumentation=void 0;var wm,Um,Bm=Lm,jm=d_,Gm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="@grafana/faro-web-sdk:instrumentation-web-vitals",t.version=jm.VERSION,t}return Dm(t,e),t.prototype.initialize=function(){var e=this;this.logDebug("Initializing"),Object.entries(t.mapping).forEach((function(t){var r=t[0];(0,t[1])((function(t){var n;e.api.pushMeasurement({type:"web-vitals",values:(n={},n[r]=t.value,n)})}))}))},t.mapping={cls:Bm.onCLS,fcp:Bm.onFCP,fid:Bm.onFID,inp:Bm.onINP,lcp:Bm.onLCP,ttfb:Bm.onTTFB},t}(jm.BaseInstrumentation);function xm(){return wm||(wm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.STORAGE_KEY=e.SESSION_INACTIVITY_TIME=e.SESSION_EXPIRATION_TIME=e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=e.MAX_SESSION_PERSISTENCE_TIME=e.VolatileSessionsManager=e.PersistentSessionsManager=e.WebVitalsInstrumentation=e.ViewInstrumentation=e.parseStacktrace=e.getStackFramesFromError=e.getDataFromSafariExtensions=e.ErrorsInstrumentation=e.buildStackFrame=e.ConsoleInstrumentation=e.SessionInstrumentation=void 0;var t=wT();Object.defineProperty(e,"SessionInstrumentation",{enumerable:!0,get:function(){return t.SessionInstrumentation}});var r=UT;Object.defineProperty(e,"ConsoleInstrumentation",{enumerable:!0,get:function(){return r.ConsoleInstrumentation}});var n=VT;Object.defineProperty(e,"buildStackFrame",{enumerable:!0,get:function(){return n.buildStackFrame}}),Object.defineProperty(e,"ErrorsInstrumentation",{enumerable:!0,get:function(){return n.ErrorsInstrumentation}}),Object.defineProperty(e,"getDataFromSafariExtensions",{enumerable:!0,get:function(){return n.getDataFromSafariExtensions}}),Object.defineProperty(e,"getStackFramesFromError",{enumerable:!0,get:function(){return n.getStackFramesFromError}}),Object.defineProperty(e,"parseStacktrace",{enumerable:!0,get:function(){return n.parseStacktrace}});var o=ym;Object.defineProperty(e,"ViewInstrumentation",{enumerable:!0,get:function(){return o.ViewInstrumentation}});var i=Im;Object.defineProperty(e,"WebVitalsInstrumentation",{enumerable:!0,get:function(){return i.WebVitalsInstrumentation}});var a=wT();Object.defineProperty(e,"PersistentSessionsManager",{enumerable:!0,get:function(){return a.PersistentSessionsManager}}),Object.defineProperty(e,"VolatileSessionsManager",{enumerable:!0,get:function(){return a.VolatileSessionsManager}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME",{enumerable:!0,get:function(){return a.MAX_SESSION_PERSISTENCE_TIME}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME_BUFFER",{enumerable:!0,get:function(){return a.MAX_SESSION_PERSISTENCE_TIME_BUFFER}}),Object.defineProperty(e,"SESSION_EXPIRATION_TIME",{enumerable:!0,get:function(){return a.SESSION_EXPIRATION_TIME}}),Object.defineProperty(e,"SESSION_INACTIVITY_TIME",{enumerable:!0,get:function(){return a.SESSION_INACTIVITY_TIME}}),Object.defineProperty(e,"STORAGE_KEY",{enumerable:!0,get:function(){return a.STORAGE_KEY}})}(c_)),c_}function Vm(){if(Um)return s_;Um=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.getWebInstrumentations=void 0;var e=xm();return s_.getWebInstrumentations=function(t){void 0===t&&(t={});var r=[new e.ErrorsInstrumentation,new e.WebVitalsInstrumentation,new e.SessionInstrumentation,new e.ViewInstrumentation];return!1!==t.captureConsole&&r.push(new e.ConsoleInstrumentation({disabledLevels:t.captureConsoleDisabledLevels})),r},s_}Cm.WebVitalsInstrumentation=Gm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WebVitalsInstrumentation=void 0;var t=Cm;Object.defineProperty(e,"WebVitalsInstrumentation",{enumerable:!0,get:function(){return t.WebVitalsInstrumentation}})}(Im);var km={},Fm={};Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.defaultEventDomain=void 0,Fm.defaultEventDomain="browser";var Hm={},Km={};Object.defineProperty(Km,"__esModule",{value:!0}),Km.k6Meta=void 0;Km.k6Meta=function(){return{k6:{isK6Browser:!0}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.k6Meta=void 0;var t=Km;Object.defineProperty(e,"k6Meta",{enumerable:!0,get:function(){return t.k6Meta}})}(Hm);var Xm={},Wm={},Ym={},zm=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.ConsoleTransport=void 0;var $m=d_,qm=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;return r.options=t,r.name="@grafana/faro-web-sdk:transport-console",r.version=$m.VERSION,r}return zm(t,e),t.prototype.send=function(e){var t;return this.unpatchedConsole[null!==(t=this.options.level)&&void 0!==t?t:$m.LogLevel.DEBUG]("New event",(0,$m.getTransportBody)([e]))},t}($m.BaseTransport);Ym.ConsoleTransport=qm,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleTransport=void 0;var t=Ym;Object.defineProperty(e,"ConsoleTransport",{enumerable:!0,get:function(){return t.ConsoleTransport}})}(Wm);var Zm={},Jm={},Qm=t&&t.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),ef=t&&t.__assign||function(){return ef=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ef.apply(this,arguments)},tf=t&&t.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},rf=t&&t.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},nf=t&&t.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r};Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.FetchTransport=void 0;var of,af,sf=d_,cf=function(e){function t(t){var r,n,o,i,a=this;return(a=e.call(this)||this).options=t,a.name="@grafana/faro-web-sdk:transport-fetch",a.version=sf.VERSION,a.disabledUntil=new Date,a.rateLimitBackoffMs=null!==(r=t.defaultRateLimitBackoffMs)&&void 0!==r?r:5e3,a.getNow=null!==(n=t.getNow)&&void 0!==n?n:function(){return Date.now()},a.promiseBuffer=(0,sf.createPromiseBuffer)({size:null!==(o=t.bufferSize)&&void 0!==o?o:30,concurrency:null!==(i=t.concurrency)&&void 0!==i?i:5}),a}return Qm(t,e),t.prototype.send=function(e){return tf(this,void 0,void 0,(function(){var t,r=this;return rf(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.disabledUntil>new Date(this.getNow())?(this.logWarn("Dropping transport item due to too many requests. Backoff until ".concat(this.disabledUntil)),[2,Promise.resolve()]):[4,this.promiseBuffer.add((function(){var t,n=JSON.stringify((0,sf.getTransportBody)(e)),o=r.options,i=o.url,a=o.requestOptions,s=o.apiKey,c=null!=a?a:{},u=c.headers,l=nf(c,["headers"]),d=null===(t=r.metas.value.session)||void 0===t?void 0:t.id;return fetch(i,ef({method:"POST",headers:ef(ef(ef({"Content-Type":"application/json"},null!=u?u:{}),s?{"x-api-key":s}:{}),d?{"x-faro-session-id":d}:{}),body:n,keepalive:n.length<=6e4},null!=l?l:{})).then((function(e){return 429===e.status&&(r.disabledUntil=r.getRetryAfterDate(e),r.logWarn("Too many requests, backing off until ".concat(r.disabledUntil))),e.text().catch(sf.noop),e})).catch((function(e){r.logError("Failed sending payload to the receiver\n",JSON.parse(n),e)}))}))];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),this.logError(t),[3,3];case 3:return[2]}}))}))},t.prototype.getIgnoreUrls=function(){return[this.options.url]},t.prototype.isBatched=function(){return!0},t.prototype.getRetryAfterDate=function(e){var t=this.getNow(),r=e.headers.get("Retry-After");if(r){var n=Number(r);if(!isNaN(n))return new Date(1e3*n+t);var o=Date.parse(r);if(!isNaN(o))return new Date(o)}return new Date(t+this.rateLimitBackoffMs)},t}(sf.BaseTransport);function uf(){return af||(af=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeCoreConfig=e.getWebInstrumentations=void 0;var r=Vm();Object.defineProperty(e,"getWebInstrumentations",{enumerable:!0,get:function(){return r.getWebInstrumentations}});var n=function(){if(of)return km;of=1;var e=t&&t.__assign||function(){return e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},e.apply(this,arguments)},r=t&&t.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(km,"__esModule",{value:!0}),km.makeCoreConfig=void 0;var n=d_,o=Fm,i=xm(),a=wT(),s=eT(),c=Hm,u=Xm,l=Vm();return km.makeCoreConfig=function(t){var d,_,E,p,T,m,f,g,A,S,O=[],h=(0,n.createInternalLogger)(t.unpatchedConsole,t.internalLoggerLevel);return t.transports?((t.url||t.apiKey)&&h.error('if "transports" is defined, "url" and "apiKey" should not be defined'),O.push.apply(O,t.transports)):t.url?O.push(new u.FetchTransport({url:t.url,apiKey:t.apiKey})):h.error('either "url" or "transports" must be defined'),{app:t.app,batching:e(e({},n.defaultBatchingConfig),t.batching),dedupe:null===(d=t.dedupe)||void 0===d||d,globalObjectKey:t.globalObjectKey||n.defaultGlobalObjectKey,instrumentations:null!==(_=t.instrumentations)&&void 0!==_?_:(0,l.getWebInstrumentations)(),internalLoggerLevel:null!==(E=t.internalLoggerLevel)&&void 0!==E?E:n.defaultInternalLoggerLevel,isolate:null!==(p=t.isolate)&&void 0!==p&&p,metas:(S=s.defaultMetas,t.metas&&S.push.apply(S,t.metas),(0,n.isObject)(window.k6)?r(r([],S,!0),[c.k6Meta],!1):S),parseStacktrace:i.parseStacktrace,paused:null!==(T=t.paused)&&void 0!==T&&T,preventGlobalExposure:null!==(m=t.preventGlobalExposure)&&void 0!==m&&m,transports:O,unpatchedConsole:null!==(f=t.unpatchedConsole)&&void 0!==f?f:n.defaultUnpatchedConsole,beforeSend:t.beforeSend,eventDomain:null!==(g=t.eventDomain)&&void 0!==g?g:o.defaultEventDomain,ignoreErrors:t.ignoreErrors,sessionTracking:e(e({},a.defaultSessionTrackingConfig),t.sessionTracking),user:t.user,view:null!==(A=t.view)&&void 0!==A?A:s.defaultViewMeta}},km}();Object.defineProperty(e,"makeCoreConfig",{enumerable:!0,get:function(){return n.makeCoreConfig}})}(a_)),a_}Jm.FetchTransport=cf,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FetchTransport=void 0;var t=Jm;Object.defineProperty(e,"FetchTransport",{enumerable:!0,get:function(){return t.FetchTransport}})}(Zm),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FetchTransport=e.ConsoleTransport=void 0;var t=Wm;Object.defineProperty(e,"ConsoleTransport",{enumerable:!0,get:function(){return t.ConsoleTransport}});var r=Zm;Object.defineProperty(e,"FetchTransport",{enumerable:!0,get:function(){return r.FetchTransport}})}(Xm);var lf,df,_f={};function Ef(){return df||(df=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isEvent=e.isErrorEvent=e.isErrorDefined=e.isError=e.isElementDefined=e.isElement=e.isDomException=e.isDomError=e.isBoolean=e.isArray=e.internalGlobalObjectKey=e.globalObject=e.getTransportBody=e.getInternalFaroFromGlobalObject=e.getCurrentTimestamp=e.genShortID=e.defaultLogLevel=e.defaultInternalLoggerLevel=e.defaultGlobalObjectKey=e.defaultExceptionType=e.deepEqual=e.createPromiseBuffer=e.createInternalLogger=e.Conventions=e.BaseTransport=e.BaseInstrumentation=e.BaseExtension=e.allLogLevels=e.faro=e.FetchTransport=e.ConsoleTransport=e.sdkMeta=e.pageMeta=e.defaultViewMeta=e.defaultMetas=e.createSession=e.browserMeta=e.SessionInstrumentation=e.WebVitalsInstrumentation=e.ViewInstrumentation=e.parseStacktrace=e.getStackFramesFromError=e.getDataFromSafariExtensions=e.ErrorsInstrumentation=e.ConsoleInstrumentation=e.buildStackFrame=e.initializeFaro=e.defaultEventDomain=e.makeCoreConfig=e.getWebInstrumentations=void 0,e.STORAGE_KEY=e.SESSION_INACTIVITY_TIME=e.SESSION_EXPIRATION_TIME=e.MAX_SESSION_PERSISTENCE_TIME_BUFFER=e.MAX_SESSION_PERSISTENCE_TIME=e.VolatileSessionsManager=e.PersistentSessionsManager=e.EVENT_VIEW_CHANGED=e.EVENT_SESSION_START=e.EVENT_SESSION_RESUME=e.EVENT_SESSION_EXTEND=e.EVENT_ROUTE_CHANGE=e.EVENT_NAVIGATION=e.EVENT_CLICK=e.VERSION=e.transportItemTypeToBodyKey=e.TransportItemType=e.setInternalFaroOnGlobalObject=e.noop=e.LogLevel=e.InternalLoggerLevel=e.isUndefined=e.isTypeof=e.isToString=e.isThenable=e.isSyntheticEvent=e.isSymbol=e.isString=e.isRegExp=e.isPrimitive=e.isObject=e.isNumber=e.isNull=e.isMapDefined=e.isMap=e.isInternalFaroOnGlobalObject=e.isInt=e.isInstanceOf=e.isFunction=e.isEventDefined=void 0;var t=uf();Object.defineProperty(e,"getWebInstrumentations",{enumerable:!0,get:function(){return t.getWebInstrumentations}}),Object.defineProperty(e,"makeCoreConfig",{enumerable:!0,get:function(){return t.makeCoreConfig}});var r=Fm;Object.defineProperty(e,"defaultEventDomain",{enumerable:!0,get:function(){return r.defaultEventDomain}});var n=function(){if(lf)return _f;lf=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.initializeFaro=void 0;var e=d_,t=uf();return _f.initializeFaro=function(r){var n=(0,t.makeCoreConfig)(r);if(n)return(0,e.initializeFaro)(n)},_f}();Object.defineProperty(e,"initializeFaro",{enumerable:!0,get:function(){return n.initializeFaro}});var o=xm();Object.defineProperty(e,"buildStackFrame",{enumerable:!0,get:function(){return o.buildStackFrame}}),Object.defineProperty(e,"ConsoleInstrumentation",{enumerable:!0,get:function(){return o.ConsoleInstrumentation}}),Object.defineProperty(e,"ErrorsInstrumentation",{enumerable:!0,get:function(){return o.ErrorsInstrumentation}}),Object.defineProperty(e,"getDataFromSafariExtensions",{enumerable:!0,get:function(){return o.getDataFromSafariExtensions}}),Object.defineProperty(e,"getStackFramesFromError",{enumerable:!0,get:function(){return o.getStackFramesFromError}}),Object.defineProperty(e,"parseStacktrace",{enumerable:!0,get:function(){return o.parseStacktrace}}),Object.defineProperty(e,"ViewInstrumentation",{enumerable:!0,get:function(){return o.ViewInstrumentation}}),Object.defineProperty(e,"WebVitalsInstrumentation",{enumerable:!0,get:function(){return o.WebVitalsInstrumentation}}),Object.defineProperty(e,"SessionInstrumentation",{enumerable:!0,get:function(){return o.SessionInstrumentation}});var i=eT();Object.defineProperty(e,"browserMeta",{enumerable:!0,get:function(){return i.browserMeta}}),Object.defineProperty(e,"createSession",{enumerable:!0,get:function(){return i.createSession}}),Object.defineProperty(e,"defaultMetas",{enumerable:!0,get:function(){return i.defaultMetas}}),Object.defineProperty(e,"defaultViewMeta",{enumerable:!0,get:function(){return i.defaultViewMeta}}),Object.defineProperty(e,"pageMeta",{enumerable:!0,get:function(){return i.pageMeta}}),Object.defineProperty(e,"sdkMeta",{enumerable:!0,get:function(){return i.sdkMeta}});var a=Xm;Object.defineProperty(e,"ConsoleTransport",{enumerable:!0,get:function(){return a.ConsoleTransport}}),Object.defineProperty(e,"FetchTransport",{enumerable:!0,get:function(){return a.FetchTransport}});var s=d_;Object.defineProperty(e,"faro",{enumerable:!0,get:function(){return s.faro}}),Object.defineProperty(e,"allLogLevels",{enumerable:!0,get:function(){return s.allLogLevels}}),Object.defineProperty(e,"BaseExtension",{enumerable:!0,get:function(){return s.BaseExtension}}),Object.defineProperty(e,"BaseInstrumentation",{enumerable:!0,get:function(){return s.BaseInstrumentation}}),Object.defineProperty(e,"BaseTransport",{enumerable:!0,get:function(){return s.BaseTransport}}),Object.defineProperty(e,"Conventions",{enumerable:!0,get:function(){return s.Conventions}}),Object.defineProperty(e,"createInternalLogger",{enumerable:!0,get:function(){return s.createInternalLogger}}),Object.defineProperty(e,"createPromiseBuffer",{enumerable:!0,get:function(){return s.createPromiseBuffer}}),Object.defineProperty(e,"deepEqual",{enumerable:!0,get:function(){return s.deepEqual}}),Object.defineProperty(e,"defaultExceptionType",{enumerable:!0,get:function(){return s.defaultExceptionType}}),Object.defineProperty(e,"defaultGlobalObjectKey",{enumerable:!0,get:function(){return s.defaultGlobalObjectKey}}),Object.defineProperty(e,"defaultInternalLoggerLevel",{enumerable:!0,get:function(){return s.defaultInternalLoggerLevel}}),Object.defineProperty(e,"defaultLogLevel",{enumerable:!0,get:function(){return s.defaultLogLevel}}),Object.defineProperty(e,"genShortID",{enumerable:!0,get:function(){return s.genShortID}}),Object.defineProperty(e,"getCurrentTimestamp",{enumerable:!0,get:function(){return s.getCurrentTimestamp}}),Object.defineProperty(e,"getInternalFaroFromGlobalObject",{enumerable:!0,get:function(){return s.getInternalFaroFromGlobalObject}}),Object.defineProperty(e,"getTransportBody",{enumerable:!0,get:function(){return s.getTransportBody}}),Object.defineProperty(e,"globalObject",{enumerable:!0,get:function(){return s.globalObject}}),Object.defineProperty(e,"internalGlobalObjectKey",{enumerable:!0,get:function(){return s.internalGlobalObjectKey}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return s.isArray}}),Object.defineProperty(e,"isBoolean",{enumerable:!0,get:function(){return s.isBoolean}}),Object.defineProperty(e,"isDomError",{enumerable:!0,get:function(){return s.isDomError}}),Object.defineProperty(e,"isDomException",{enumerable:!0,get:function(){return s.isDomException}}),Object.defineProperty(e,"isElement",{enumerable:!0,get:function(){return s.isElement}}),Object.defineProperty(e,"isElementDefined",{enumerable:!0,get:function(){return s.isElementDefined}}),Object.defineProperty(e,"isError",{enumerable:!0,get:function(){return s.isError}}),Object.defineProperty(e,"isErrorDefined",{enumerable:!0,get:function(){return s.isErrorDefined}}),Object.defineProperty(e,"isErrorEvent",{enumerable:!0,get:function(){return s.isErrorEvent}}),Object.defineProperty(e,"isEvent",{enumerable:!0,get:function(){return s.isEvent}}),Object.defineProperty(e,"isEventDefined",{enumerable:!0,get:function(){return s.isEventDefined}}),Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return s.isFunction}}),Object.defineProperty(e,"isInstanceOf",{enumerable:!0,get:function(){return s.isInstanceOf}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(e,"isInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return s.isInternalFaroOnGlobalObject}}),Object.defineProperty(e,"isMap",{enumerable:!0,get:function(){return s.isMap}}),Object.defineProperty(e,"isMapDefined",{enumerable:!0,get:function(){return s.isMapDefined}}),Object.defineProperty(e,"isNull",{enumerable:!0,get:function(){return s.isNull}}),Object.defineProperty(e,"isNumber",{enumerable:!0,get:function(){return s.isNumber}}),Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return s.isObject}}),Object.defineProperty(e,"isPrimitive",{enumerable:!0,get:function(){return s.isPrimitive}}),Object.defineProperty(e,"isRegExp",{enumerable:!0,get:function(){return s.isRegExp}}),Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return s.isString}}),Object.defineProperty(e,"isSymbol",{enumerable:!0,get:function(){return s.isSymbol}}),Object.defineProperty(e,"isSyntheticEvent",{enumerable:!0,get:function(){return s.isSyntheticEvent}}),Object.defineProperty(e,"isThenable",{enumerable:!0,get:function(){return s.isThenable}}),Object.defineProperty(e,"isToString",{enumerable:!0,get:function(){return s.isToString}}),Object.defineProperty(e,"isTypeof",{enumerable:!0,get:function(){return s.isTypeof}}),Object.defineProperty(e,"isUndefined",{enumerable:!0,get:function(){return s.isUndefined}}),Object.defineProperty(e,"InternalLoggerLevel",{enumerable:!0,get:function(){return s.InternalLoggerLevel}}),Object.defineProperty(e,"LogLevel",{enumerable:!0,get:function(){return s.LogLevel}}),Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return s.noop}}),Object.defineProperty(e,"setInternalFaroOnGlobalObject",{enumerable:!0,get:function(){return s.setInternalFaroOnGlobalObject}}),Object.defineProperty(e,"TransportItemType",{enumerable:!0,get:function(){return s.TransportItemType}}),Object.defineProperty(e,"transportItemTypeToBodyKey",{enumerable:!0,get:function(){return s.transportItemTypeToBodyKey}}),Object.defineProperty(e,"VERSION",{enumerable:!0,get:function(){return s.VERSION}}),Object.defineProperty(e,"EVENT_CLICK",{enumerable:!0,get:function(){return s.EVENT_CLICK}}),Object.defineProperty(e,"EVENT_NAVIGATION",{enumerable:!0,get:function(){return s.EVENT_NAVIGATION}}),Object.defineProperty(e,"EVENT_ROUTE_CHANGE",{enumerable:!0,get:function(){return s.EVENT_ROUTE_CHANGE}}),Object.defineProperty(e,"EVENT_SESSION_EXTEND",{enumerable:!0,get:function(){return s.EVENT_SESSION_EXTEND}}),Object.defineProperty(e,"EVENT_SESSION_RESUME",{enumerable:!0,get:function(){return s.EVENT_SESSION_RESUME}}),Object.defineProperty(e,"EVENT_SESSION_START",{enumerable:!0,get:function(){return s.EVENT_SESSION_START}}),Object.defineProperty(e,"EVENT_VIEW_CHANGED",{enumerable:!0,get:function(){return s.EVENT_VIEW_CHANGED}});var c=wT();Object.defineProperty(e,"PersistentSessionsManager",{enumerable:!0,get:function(){return c.PersistentSessionsManager}}),Object.defineProperty(e,"VolatileSessionsManager",{enumerable:!0,get:function(){return c.VolatileSessionsManager}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME",{enumerable:!0,get:function(){return c.MAX_SESSION_PERSISTENCE_TIME}}),Object.defineProperty(e,"MAX_SESSION_PERSISTENCE_TIME_BUFFER",{enumerable:!0,get:function(){return c.MAX_SESSION_PERSISTENCE_TIME_BUFFER}}),Object.defineProperty(e,"SESSION_EXPIRATION_TIME",{enumerable:!0,get:function(){return c.SESSION_EXPIRATION_TIME}}),Object.defineProperty(e,"SESSION_INACTIVITY_TIME",{enumerable:!0,get:function(){return c.SESSION_INACTIVITY_TIME}}),Object.defineProperty(e,"STORAGE_KEY",{enumerable:!0,get:function(){return c.STORAGE_KEY}})}(i_)),i_}var pf=Ef(),Tf={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});var ff={},gf={},Af={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0}),Sf.isTracingSuppressed=Sf.unsuppressTracing=Sf.suppressTracing=void 0;const Of=(0,i.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");Sf.suppressTracing=function(e){return e.setValue(Of,!0)},Sf.unsuppressTracing=function(e){return e.deleteValue(Of)},Sf.isTracingSuppressed=function(e){return!0===e.getValue(Of)};var hf={};Object.defineProperty(hf,"__esModule",{value:!0}),hf.BAGGAGE_MAX_TOTAL_LENGTH=hf.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=hf.BAGGAGE_MAX_NAME_VALUE_PAIRS=hf.BAGGAGE_HEADER=hf.BAGGAGE_ITEMS_SEPARATOR=hf.BAGGAGE_PROPERTIES_SEPARATOR=hf.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,hf.BAGGAGE_KEY_PAIR_SEPARATOR="=",hf.BAGGAGE_PROPERTIES_SEPARATOR=";",hf.BAGGAGE_ITEMS_SEPARATOR=",",hf.BAGGAGE_HEADER="baggage",hf.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,hf.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,hf.BAGGAGE_MAX_TOTAL_LENGTH=8192;var vf={};Object.defineProperty(vf,"__esModule",{value:!0}),vf.parseKeyPairsIntoRecord=vf.parsePairKeyValue=vf.getKeyPairs=vf.serializeKeyPairs=void 0;const yf=i,bf=hf;function Nf(e){const t=e.split(bf.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.indexOf(bf.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;const o=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim());let a;return t.length>0&&(a=(0,yf.baggageEntryMetadataFromString)(t.join(bf.BAGGAGE_PROPERTIES_SEPARATOR))),{key:o,value:i,metadata:a}}vf.serializeKeyPairs=function(e){return e.reduce(((e,t)=>{const r=`${e}${""!==e?bf.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>bf.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")},vf.getKeyPairs=function(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=bf.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),r}))},vf.parsePairKeyValue=Nf,vf.parseKeyPairsIntoRecord=function(e){return"string"!=typeof e||0===e.length?{}:e.split(bf.BAGGAGE_ITEMS_SEPARATOR).map((e=>Nf(e))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},Object.defineProperty(Af,"__esModule",{value:!0}),Af.W3CBaggagePropagator=void 0;const Pf=i,Rf=Sf,If=hf,Cf=vf;Af.W3CBaggagePropagator=class{inject(e,t,r){const n=Pf.propagation.getBaggage(e);if(!n||(0,Rf.isTracingSuppressed)(e))return;const o=(0,Cf.getKeyPairs)(n).filter((e=>e.length<=If.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,If.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,Cf.serializeKeyPairs)(o);i.length>0&&r.set(t,If.BAGGAGE_HEADER,i)}extract(e,t,r){const n=r.get(t,If.BAGGAGE_HEADER),o=Array.isArray(n)?n.join(If.BAGGAGE_ITEMS_SEPARATOR):n;if(!o)return e;const i={};if(0===o.length)return e;return o.split(If.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{const t=(0,Cf.parsePairKeyValue)(e);if(t){const e={value:t.value};t.metadata&&(e.metadata=t.metadata),i[t.key]=e}})),0===Object.entries(i).length?e:Pf.propagation.setBaggage(e,Pf.propagation.createBaggage(i))}fields(){return[If.BAGGAGE_HEADER]}};var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.AnchoredClock=void 0;Mf.AnchoredClock=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};var Lf={};Object.defineProperty(Lf,"__esModule",{value:!0}),Lf.isAttributeValue=Lf.isAttributeKey=Lf.sanitizeAttributes=void 0;const Df=i;function wf(e){return"string"==typeof e&&e.length>0}function Uf(e){return null==e||(Array.isArray(e)?function(e){let t;for(const r of e)if(null!=r){if(!t){if(Bf(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):Bf(e))}function Bf(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}Lf.sanitizeAttributes=function(e){const t={};if("object"!=typeof e||null==e)return t;for(const[r,n]of Object.entries(e))wf(r)?Uf(n)?Array.isArray(n)?t[r]=n.slice():t[r]=n:Df.diag.warn(`Invalid attribute value set for key: ${r}`):Df.diag.warn(`Invalid attribute key: ${r}`);return t},Lf.isAttributeKey=wf,Lf.isAttributeValue=Uf;var jf={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0}),Gf.loggingErrorHandler=void 0;const xf=i;Gf.loggingErrorHandler=function(){return e=>{xf.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){const t={};let r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}},Object.defineProperty(jf,"__esModule",{value:!0}),jf.globalErrorHandler=jf.setGlobalErrorHandler=void 0;let Vf=(0,Gf.loggingErrorHandler)();jf.setGlobalErrorHandler=function(e){Vf=e},jf.globalErrorHandler=function(e){try{Vf(e)}catch(e){}};var kf={},Ff={},Hf={},Kf={},Xf={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(Xf);var Wf={};Object.defineProperty(Wf,"__esModule",{value:!0}),Wf._globalThis=void 0,Wf._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getEnvWithoutDefaults=e.parseEnvironment=e.DEFAULT_ENVIRONMENT=e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const t=i,r=Xf,n=Wf,o=",",a=["OTEL_SDK_DISABLED"];function s(e){return a.indexOf(e)>-1}const c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}const l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}function _(e,t,r){if(void 0===r[e])return;const n=String(r[e]);t[e]="true"===n.toLowerCase()}function E(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function p(e,t,r,n=o){const i=r[e];"string"==typeof i&&(t[e]=i.split(n).map((e=>e.trim())))}e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,e.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};const T={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function m(e,t,r){const n=r[e];if("string"==typeof n){const r=T[n.toUpperCase()];null!=r&&(t[e]=r)}}function f(t){const r={};for(const n in e.DEFAULT_ENVIRONMENT){const e=n;if("OTEL_LOG_LEVEL"===e)m(e,r,t);else if(s(e))_(e,r,t);else if(u(e))E(e,r,t);else if(d(e))p(e,r,t);else{const n=t[e];null!=n&&(r[e]=String(n))}}return r}e.parseEnvironment=f,e.getEnvWithoutDefaults=function(){return f(void 0!==_n&&_n&&_n.env?_n.env:n._globalThis)}}(Kf),Object.defineProperty(Hf,"__esModule",{value:!0}),Hf.getEnv=void 0;const Yf=Kf,zf=Wf;Hf.getEnv=function(){const e=(0,Yf.parseEnvironment)(zf._globalThis);return Object.assign({},Yf.DEFAULT_ENVIRONMENT,e)};var $f={};Object.defineProperty($f,"__esModule",{value:!0}),$f.hexToBase64=void 0,$f.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)};var qf={};Object.defineProperty(qf,"__esModule",{value:!0}),qf.RandomIdGenerator=void 0;qf.RandomIdGenerator=class{constructor(){this.generateTraceId=Jf(16),this.generateSpanId=Jf(8)}};const Zf=Array(32);function Jf(e){return function(){for(let t=0;t<2*e;t++)Zf[t]=Math.floor(16*Math.random())+48,Zf[t]>=58&&(Zf[t]+=39);return String.fromCharCode.apply(null,Zf.slice(0,2*e))}}var Qf={};Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.otperformance=void 0,Qf.otperformance=performance;var eg={},tg={};Object.defineProperty(tg,"__esModule",{value:!0}),tg.VERSION=void 0,tg.VERSION="1.18.1";var rg={},ng={},og={};Object.defineProperty(og,"__esModule",{value:!0}),og.MessageTypeValues=og.RpcGrpcStatusCodeValues=og.MessagingOperationValues=og.MessagingDestinationKindValues=og.HttpFlavorValues=og.NetHostConnectionSubtypeValues=og.NetHostConnectionTypeValues=og.NetTransportValues=og.FaasInvokedProviderValues=og.FaasDocumentOperationValues=og.FaasTriggerValues=og.DbCassandraConsistencyLevelValues=og.DbSystemValues=og.SemanticAttributes=void 0,og.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},og.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},og.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},og.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},og.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},og.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},og.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},og.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},og.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},og.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},og.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},og.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},og.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},og.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(og,e)}(ng);var ig={},ag={};Object.defineProperty(ag,"__esModule",{value:!0}),ag.TelemetrySdkLanguageValues=ag.OsTypeValues=ag.HostArchValues=ag.AwsEcsLaunchtypeValues=ag.CloudPlatformValues=ag.CloudProviderValues=ag.SemanticResourceAttributes=void 0,ag.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},ag.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},ag.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},ag.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},ag.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},ag.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},ag.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(ag,e)}(ig),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(ng,e),n(ig,e)}(rg),Object.defineProperty(eg,"__esModule",{value:!0}),eg.SDK_INFO=void 0;const sg=tg,cg=rg;eg.SDK_INFO={[cg.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[cg.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[cg.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:cg.TelemetrySdkLanguageValues.WEBJS,[cg.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:sg.VERSION};var ug={};Object.defineProperty(ug,"__esModule",{value:!0}),ug.unrefTimer=void 0,ug.unrefTimer=function(e){},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(Hf,e),n(Wf,e),n($f,e),n(qf,e),n(Qf,e),n(eg,e),n(ug,e)}(Ff),Object.defineProperty(kf,"__esModule",{value:!0}),kf.addHrTimes=kf.isTimeInput=kf.isTimeInputHrTime=kf.hrTimeToMicroseconds=kf.hrTimeToMilliseconds=kf.hrTimeToNanoseconds=kf.hrTimeToTimeStamp=kf.hrTimeDuration=kf.timeInputToHrTime=kf.hrTime=kf.getTimeOrigin=kf.millisToHrTime=void 0;const lg=Ff,dg=Math.pow(10,6),_g=Math.pow(10,9);function Eg(e){const t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*dg)]}function pg(){let e=lg.otperformance.timeOrigin;if("number"!=typeof e){const t=lg.otperformance;e=t.timing&&t.timing.fetchStart}return e}function Tg(e){return fg(Eg(pg()),Eg("number"==typeof e?e:lg.otperformance.now()))}function mg(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function fg(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=_g&&(r[1]-=_g,r[0]+=1),r}kf.millisToHrTime=Eg,kf.getTimeOrigin=pg,kf.hrTime=Tg,kf.timeInputToHrTime=function(e){if(mg(e))return e;if("number"==typeof e)return e<pg()?Tg(e):Eg(e);if(e instanceof Date)return Eg(e.getTime());throw TypeError("Invalid input type")},kf.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=_g),[r,n]},kf.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},kf.hrTimeToNanoseconds=function(e){return e[0]*_g+e[1]},kf.hrTimeToMilliseconds=function(e){return 1e3*e[0]+e[1]/1e6},kf.hrTimeToMicroseconds=function(e){return 1e6*e[0]+e[1]/1e3},kf.isTimeInputHrTime=mg,kf.isTimeInput=function(e){return mg(e)||"number"==typeof e||e instanceof Date},kf.addHrTimes=fg;var gg={};Object.defineProperty(gg,"__esModule",{value:!0});var Ag={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(Ag);var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.CompositePropagator=void 0;const Og=i;Sg.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){Og.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,n)=>{try{return n.extract(e,t,r)}catch(e){Og.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}};var hg={},vg={},yg={};Object.defineProperty(yg,"__esModule",{value:!0}),yg.validateValue=yg.validateKey=void 0;const bg="[_0-9a-z-*/]",Ng=new RegExp(`^(?:${`[a-z]${bg}{0,255}`}|${`[a-z0-9]${bg}{0,240}@[a-z]${bg}{0,13}`})$`),Pg=/^[ -~]{0,255}[!-~]$/,Rg=/,|=/;yg.validateKey=function(e){return Ng.test(e)},yg.validateValue=function(e){return Pg.test(e)&&!Rg.test(e)},Object.defineProperty(vg,"__esModule",{value:!0}),vg.TraceState=void 0;const Ig=yg;vg.TraceState=class e{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),n=r.indexOf("=");if(-1!==n){const o=r.slice(0,n),i=r.slice(n+1,t.length);(0,Ig.validateKey)(o)&&(0,Ig.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const t=new e;return t._internalState=new Map(this._internalState),t}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.W3CTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;const t=i,r=Sf,n=vg;e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";const o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a(e){const t=o.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}e.parseTraceParent=a;e.W3CTraceContextPropagator=class{inject(n,o,i){const a=t.trace.getSpanContext(n);if(!a||(0,r.isTracingSuppressed)(n)||!(0,t.isSpanContextValid)(a))return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||t.TraceFlags.NONE).toString(16)}`;i.set(o,e.TRACE_PARENT_HEADER,s),a.traceState&&i.set(o,e.TRACE_STATE_HEADER,a.traceState.serialize())}extract(r,o,i){const s=i.get(o,e.TRACE_PARENT_HEADER);if(!s)return r;const c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return r;const u=a(c);if(!u)return r;u.isRemote=!0;const l=i.get(o,e.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;u.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}}(hg);var Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});var Mg={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;const t=(0,i.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}}(Mg);var Lg={};Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.AlwaysOffSampler=void 0;const Dg=i;Lg.AlwaysOffSampler=class{shouldSample(){return{decision:Dg.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var wg={};Object.defineProperty(wg,"__esModule",{value:!0}),wg.AlwaysOnSampler=void 0;const Ug=i;wg.AlwaysOnSampler=class{shouldSample(){return{decision:Ug.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var Bg={};Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ParentBasedSampler=void 0;const jg=i,Gg=jf,xg=Lg,Vg=wg;Bg.ParentBasedSampler=class{constructor(e){var t,r,n,o;this._root=e.root,this._root||((0,Gg.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new Vg.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new Vg.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new xg.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new Vg.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new xg.AlwaysOffSampler}shouldSample(e,t,r,n,o,i){const a=jg.trace.getSpanContext(e);return a&&(0,jg.isSpanContextValid)(a)?a.isRemote?a.traceFlags&jg.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&jg.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var kg={};Object.defineProperty(kg,"__esModule",{value:!0}),kg.TraceIdRatioBasedSampler=void 0;const Fg=i;kg.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,Fg.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?Fg.SamplingDecision.RECORD_AND_SAMPLED:Fg.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}};var Hg={},Kg={};Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.isPlainObject=void 0;const Xg="[object Null]",Wg="[object Undefined]",Yg=Function.prototype.toString,zg=Yg.call(Object),$g=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),qg=Object.prototype,Zg=qg.hasOwnProperty,Jg=Symbol?Symbol.toStringTag:void 0,Qg=qg.toString;Kg.isPlainObject=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?Wg:Xg;return Jg&&Jg in Object(e)?function(e){const t=Zg.call(e,Jg),r=e[Jg];let n=!1;try{e[Jg]=void 0,n=!0}catch(e){}const o=Qg.call(e);n&&(t?e[Jg]=r:delete e[Jg]);return o}(e):function(e){return Qg.call(e)}(e)}(e))return!1;const t=$g(e);if(null===t)return!0;const r=Zg.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Yg.call(r)===zg},Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.merge=void 0;const eA=Kg,tA=20;function rA(e){return iA(e)?e.slice():e}function nA(e,t,r=0,n){let o;if(!(r>tA)){if(r++,cA(e)||cA(t)||aA(t))o=rA(t);else if(iA(e)){if(o=e.slice(),iA(t))for(let e=0,r=t.length;e<r;e++)o.push(rA(t[e]));else if(sA(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];o[n]=rA(t[n])}}}else if(sA(e))if(sA(t)){if(!function(e,t){if(!(0,eA.isPlainObject)(e)||!(0,eA.isPlainObject)(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);const i=Object.keys(t);for(let a=0,s=i.length;a<s;a++){const s=i[a],c=t[s];if(cA(c))void 0===c?delete o[s]:o[s]=c;else{const i=o[s],a=c;if(oA(e,s,n)||oA(t,s,n))delete o[s];else{if(sA(i)&&sA(a)){const r=n.get(i)||[],o=n.get(a)||[];r.push({obj:e,key:s}),o.push({obj:t,key:s}),n.set(i,r),n.set(a,o)}o[s]=nA(o[s],c,r,n)}}}}else o=t;return o}}function oA(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function iA(e){return Array.isArray(e)}function aA(e){return"function"==typeof e}function sA(e){return!cA(e)&&!iA(e)&&!aA(e)&&"object"==typeof e}function cA(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}Hg.merge=function(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=nA(t,e.shift(),0,r);return t};var uA={};Object.defineProperty(uA,"__esModule",{value:!0}),uA.callWithTimeout=uA.TimeoutError=void 0;let lA=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};uA.TimeoutError=lA,uA.callWithTimeout=function(e,t){let r;const n=new Promise((function(e,n){r=setTimeout((function(){n(new lA("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))};var dA={};function _A(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(dA,"__esModule",{value:!0}),dA.isUrlIgnored=dA.urlMatches=void 0,dA.urlMatches=_A,dA.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(_A(e,r))return!0;return!1};var EA={};Object.defineProperty(EA,"__esModule",{value:!0}),EA.isWrapped=void 0,EA.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped};var pA={},TA={};Object.defineProperty(TA,"__esModule",{value:!0}),TA.Deferred=void 0;TA.Deferred=class{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}},Object.defineProperty(pA,"__esModule",{value:!0}),pA.BindOnceFuture=void 0;const mA=TA;pA.BindOnceFuture=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new mA.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}};var fA={};Object.defineProperty(fA,"__esModule",{value:!0}),fA._export=void 0;const gA=i,AA=Sf;fA._export=function(e,t){return new Promise((r=>{gA.context.with((0,AA.suppressTracing)(gA.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.internal=e.baggageUtils=void 0,n(Af,e),n(Mf,e),n(Lf,e),n(jf,e),n(Gf,e),n(kf,e),n(gg,e),n(Ag,e),e.baggageUtils=vf,n(Ff,e),n(Sg,e),n(hg,e),n(Cg,e),n(Mg,e),n(Lg,e),n(wg,e),n(Bg,e),n(kg,e),n(Sf,e),n(vg,e),n(Kf,e),n(Hg,e),n(Xf,e),n(uA,e),n(dA,e),n(EA,e),n(pA,e),n(tg,e);const o=fA;e.internal={_export:o._export}}(gf),Object.defineProperty(ff,"__esModule",{value:!0}),ff.getOtlpEncoder=ff.encodeAsString=ff.encodeAsLongBits=ff.toLongBits=ff.hrTimeToNanos=void 0;const SA=gf,OA=BigInt(1e9);function hA(e){return BigInt(e[0])*OA+BigInt(e[1])}function vA(e){return{low:Number(BigInt.asUintN(32,e)),high:Number(BigInt.asUintN(32,e>>BigInt(32)))}}function yA(e){return vA(hA(e))}function bA(e){return hA(e).toString()}ff.hrTimeToNanos=hA,ff.toLongBits=vA,ff.encodeAsLongBits=yA,ff.encodeAsString=bA;const NA="undefined"!=typeof BigInt?bA:SA.hrTimeToNanoseconds;function PA(e){return e}function RA(e){if(void 0!==e)return(0,SA.hexToBase64)(e)}const IA={encodeHrTime:yA,encodeSpanContext:SA.hexToBase64,encodeOptionalSpanContext:RA};ff.getOtlpEncoder=function(e){var t,r;if(void 0===e)return IA;const n=null===(t=e.useLongBits)||void 0===t||t,o=null!==(r=e.useHex)&&void 0!==r&&r;return{encodeHrTime:n?yA:NA,encodeSpanContext:o?PA:SA.hexToBase64,encodeOptionalSpanContext:o?PA:RA}};var CA={};Object.defineProperty(CA,"__esModule",{value:!0});var MA={};Object.defineProperty(MA,"__esModule",{value:!0});var LA={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ESpanKind=void 0,(t=e.ESpanKind||(e.ESpanKind={}))[t.SPAN_KIND_UNSPECIFIED=0]="SPAN_KIND_UNSPECIFIED",t[t.SPAN_KIND_INTERNAL=1]="SPAN_KIND_INTERNAL",t[t.SPAN_KIND_SERVER=2]="SPAN_KIND_SERVER",t[t.SPAN_KIND_CLIENT=3]="SPAN_KIND_CLIENT",t[t.SPAN_KIND_PRODUCER=4]="SPAN_KIND_PRODUCER",t[t.SPAN_KIND_CONSUMER=5]="SPAN_KIND_CONSUMER"}(LA);var DA={};Object.defineProperty(DA,"__esModule",{value:!0});var wA={},UA={};function BA(e,t){return{key:e,value:jA(t)}}function jA(e){const t=typeof e;return"string"===t?{stringValue:e}:"number"===t?Number.isInteger(e)?{intValue:e}:{doubleValue:e}:"boolean"===t?{boolValue:e}:e instanceof Uint8Array?{bytesValue:e}:Array.isArray(e)?{arrayValue:{values:e.map(jA)}}:"object"===t&&null!=e?{kvlistValue:{values:Object.entries(e).map((([e,t])=>BA(e,t)))}}:{}}Object.defineProperty(UA,"__esModule",{value:!0}),UA.toAnyValue=UA.toKeyValue=UA.toAttributes=void 0,UA.toAttributes=function(e){return Object.keys(e).map((t=>BA(t,e[t])))},UA.toKeyValue=BA,UA.toAnyValue=jA;var GA={};Object.defineProperty(GA,"__esModule",{value:!0}),GA.toOtlpSpanEvent=GA.toOtlpLink=GA.sdkSpanToOtlpSpan=void 0;const xA=UA;function VA(e,t){var r;return{attributes:e.attributes?(0,xA.toAttributes)(e.attributes):[],spanId:t.encodeSpanContext(e.context.spanId),traceId:t.encodeSpanContext(e.context.traceId),traceState:null===(r=e.context.traceState)||void 0===r?void 0:r.serialize(),droppedAttributesCount:e.droppedAttributesCount||0}}function kA(e,t){return{attributes:e.attributes?(0,xA.toAttributes)(e.attributes):[],name:e.name,timeUnixNano:t.encodeHrTime(e.time),droppedAttributesCount:e.droppedAttributesCount||0}}GA.sdkSpanToOtlpSpan=function(e,t){var r;const n=e.spanContext(),o=e.status;return{traceId:t.encodeSpanContext(n.traceId),spanId:t.encodeSpanContext(n.spanId),parentSpanId:t.encodeOptionalSpanContext(e.parentSpanId),traceState:null===(r=n.traceState)||void 0===r?void 0:r.serialize(),name:e.name,kind:null==e.kind?0:e.kind+1,startTimeUnixNano:t.encodeHrTime(e.startTime),endTimeUnixNano:t.encodeHrTime(e.endTime),attributes:(0,xA.toAttributes)(e.attributes),droppedAttributesCount:e.droppedAttributesCount,events:e.events.map((e=>kA(e,t))),droppedEventsCount:e.droppedEventsCount,status:{code:o.code,message:o.message},links:e.links.map((e=>VA(e,t))),droppedLinksCount:e.droppedLinksCount}},GA.toOtlpLink=VA,GA.toOtlpSpanEvent=kA,Object.defineProperty(wA,"__esModule",{value:!0}),wA.createExportTraceServiceRequest=void 0;const FA=UA,HA=GA,KA=ff;function XA(e,t){const r=function(e){const t=new Map;for(const r of e){let e=t.get(r.resource);e||(e=new Map,t.set(r.resource,e));const n=`${r.instrumentationLibrary.name}@${r.instrumentationLibrary.version||""}:${r.instrumentationLibrary.schemaUrl||""}`;let o=e.get(n);o||(o=[],e.set(n,o)),o.push(r)}return t}(e),n=[],o=r.entries();let i=o.next();for(;!i.done;){const[e,r]=i.value,a=[],s=r.values();let c=s.next();for(;!c.done;){const e=c.value;if(e.length>0){const{name:r,version:n,schemaUrl:o}=e[0].instrumentationLibrary,i=e.map((e=>(0,HA.sdkSpanToOtlpSpan)(e,t)));a.push({scope:{name:r,version:n},spans:i,schemaUrl:o})}c=s.next()}const u={resource:{attributes:(0,FA.toAttributes)(e.attributes),droppedAttributesCount:0},scopeSpans:a,schemaUrl:void 0};n.push(u),i=o.next()}return n}wA.createExportTraceServiceRequest=function(e,t){return{resourceSpans:XA(e,(0,KA.getOtlpEncoder)(t))}};var WA={},YA={},zA={},$A={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AggregationTemporality=void 0,function(e){e[e.DELTA=0]="DELTA",e[e.CUMULATIVE=1]="CUMULATIVE"}(e.AggregationTemporality||(e.AggregationTemporality={}))}($A);var qA={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DataPointType=void 0,(t=e.DataPointType||(e.DataPointType={}))[t.HISTOGRAM=0]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=1]="EXPONENTIAL_HISTOGRAM",t[t.GAUGE=2]="GAUGE",t[t.SUM=3]="SUM"}(qA);var ZA={},JA={};Object.defineProperty(JA,"__esModule",{value:!0}),JA.equalsCaseInsensitive=JA.binarySearchLB=JA.setEquals=JA.FlatMap=JA.isPromiseAllSettledRejectionResult=JA.PromiseAllSettled=JA.callWithTimeout=JA.TimeoutError=JA.instrumentationScopeId=JA.hashAttributes=JA.isNotNullish=void 0,JA.isNotNullish=function(e){return null!=e},JA.hashAttributes=function(e){let t=Object.keys(e);return 0===t.length?"":(t=t.sort(),JSON.stringify(t.map((t=>[t,e[t]]))))},JA.instrumentationScopeId=function(e){var t,r;return`${e.name}:${null!==(t=e.version)&&void 0!==t?t:""}:${null!==(r=e.schemaUrl)&&void 0!==r?r:""}`};let QA=class e extends Error{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}};JA.TimeoutError=QA,JA.callWithTimeout=function(e,t){let r;const n=new Promise((function(e,n){r=setTimeout((function(){n(new QA("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))},JA.PromiseAllSettled=async function(e){return Promise.all(e.map((async e=>{try{return{status:"fulfilled",value:await e}}catch(e){return{status:"rejected",reason:e}}})))},JA.isPromiseAllSettledRejectionResult=function(e){return"rejected"===e.status},JA.FlatMap=function(e,t){const r=[];return e.forEach((e=>{r.push(...t(e))})),r},JA.setEquals=function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0},JA.binarySearchLB=function(e,t){let r=0,n=e.length-1;for(;n-r>1;){const o=Math.trunc((n+r)/2);e[o]<=t?r=o:n=o-1}return e[n]<=t?n:e[r]<=t?r:-1},JA.equalsCaseInsensitive=function(e,t){return e.toLowerCase()===t.toLowerCase()};var eS={},tS={},rS={},nS={},oS={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.AggregatorKind=void 0,(t=e.AggregatorKind||(e.AggregatorKind={}))[t.DROP=0]="DROP",t[t.SUM=1]="SUM",t[t.LAST_VALUE=2]="LAST_VALUE",t[t.HISTOGRAM=3]="HISTOGRAM",t[t.EXPONENTIAL_HISTOGRAM=4]="EXPONENTIAL_HISTOGRAM"}(oS),Object.defineProperty(nS,"__esModule",{value:!0}),nS.DropAggregator=void 0;const iS=oS;nS.DropAggregator=class{constructor(){this.kind=iS.AggregatorKind.DROP}createAccumulation(){}merge(e,t){}diff(e,t){}toMetricData(e,t,r,n){}};var aS={},sS={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isValidName=e.isDescriptorCompatibleWith=e.createInstrumentDescriptorWithView=e.createInstrumentDescriptor=e.InstrumentType=void 0;const t=i,r=JA;var n;(n=e.InstrumentType||(e.InstrumentType={})).COUNTER="COUNTER",n.HISTOGRAM="HISTOGRAM",n.UP_DOWN_COUNTER="UP_DOWN_COUNTER",n.OBSERVABLE_COUNTER="OBSERVABLE_COUNTER",n.OBSERVABLE_GAUGE="OBSERVABLE_GAUGE",n.OBSERVABLE_UP_DOWN_COUNTER="OBSERVABLE_UP_DOWN_COUNTER",e.createInstrumentDescriptor=function(e,r,n){var o,i,s,c;return a(e)||t.diag.warn(`Invalid metric name: "${e}". The metric name should be a ASCII string with a length no greater than 255 characters.`),{name:e,type:r,description:null!==(o=null==n?void 0:n.description)&&void 0!==o?o:"",unit:null!==(i=null==n?void 0:n.unit)&&void 0!==i?i:"",valueType:null!==(s=null==n?void 0:n.valueType)&&void 0!==s?s:t.ValueType.DOUBLE,advice:null!==(c=null==n?void 0:n.advice)&&void 0!==c?c:{}}},e.createInstrumentDescriptorWithView=function(e,t){var r,n;return{name:null!==(r=e.name)&&void 0!==r?r:t.name,description:null!==(n=e.description)&&void 0!==n?n:t.description,type:t.type,unit:t.unit,valueType:t.valueType,advice:t.advice}},e.isDescriptorCompatibleWith=function(e,t){return(0,r.equalsCaseInsensitive)(e.name,t.name)&&e.unit===t.unit&&e.type===t.type&&e.valueType===t.valueType};const o=/^[a-z][a-z0-9_.\-/]{0,254}$/i;function a(e){return null!=e.match(o)}e.isValidName=a}(sS),Object.defineProperty(aS,"__esModule",{value:!0}),aS.HistogramAggregator=aS.HistogramAccumulation=void 0;const cS=oS,uS=qA,lS=sS,dS=JA;class _S{constructor(e,t,r=!0,n=function(e){const t=e.map((()=>0));return t.push(0),{buckets:{boundaries:e,counts:t},sum:0,count:0,hasMinMax:!1,min:1/0,max:-1/0}}(t)){this.startTime=e,this._boundaries=t,this._recordMinMax=r,this._current=n}record(e){this._current.count+=1,this._current.sum+=e,this._recordMinMax&&(this._current.min=Math.min(e,this._current.min),this._current.max=Math.max(e,this._current.max),this._current.hasMinMax=!0);const t=(0,dS.binarySearchLB)(this._boundaries,e);this._current.buckets.counts[t+1]+=1}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}aS.HistogramAccumulation=_S;aS.HistogramAggregator=class{constructor(e,t){this._boundaries=e,this._recordMinMax=t,this.kind=cS.AggregatorKind.HISTOGRAM}createAccumulation(e){return new _S(e,this._boundaries,this._recordMinMax)}merge(e,t){const r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,a=new Array(o.length);for(let e=0;e<o.length;e++)a[e]=o[e]+i[e];let s=1/0,c=-1/0;return this._recordMinMax&&(r.hasMinMax&&n.hasMinMax?(s=Math.min(r.min,n.min),c=Math.max(r.max,n.max)):r.hasMinMax?(s=r.min,c=r.max):n.hasMinMax&&(s=n.min,c=n.max)),new _S(e.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:a},count:r.count+n.count,sum:r.sum+n.sum,hasMinMax:this._recordMinMax&&(r.hasMinMax||n.hasMinMax),min:s,max:c})}diff(e,t){const r=e.toPointValue(),n=t.toPointValue(),o=r.buckets.counts,i=n.buckets.counts,a=new Array(o.length);for(let e=0;e<o.length;e++)a[e]=i[e]-o[e];return new _S(t.startTime,r.buckets.boundaries,this._recordMinMax,{buckets:{boundaries:r.buckets.boundaries,counts:a},count:n.count-r.count,sum:n.sum-r.sum,hasMinMax:!1,min:1/0,max:-1/0})}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:uS.DataPointType.HISTOGRAM,dataPoints:r.map((([t,r])=>{const o=r.toPointValue(),i=e.type===lS.InstrumentType.UP_DOWN_COUNTER||e.type===lS.InstrumentType.OBSERVABLE_GAUGE||e.type===lS.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:void 0,max:o.hasMinMax?o.max:void 0,sum:i?void 0:o.sum,buckets:o.buckets,count:o.count}}}))}}};var ES={},pS={};Object.defineProperty(pS,"__esModule",{value:!0}),pS.Buckets=void 0;class TS{constructor(e=new mS,t=0,r=0,n=0){this.backing=e,this.indexBase=t,this.indexStart=r,this.indexEnd=n}get offset(){return this.indexStart}get length(){return 0===this.backing.length||this.indexEnd===this.indexStart&&0===this.at(0)?0:this.indexEnd-this.indexStart+1}counts(){return Array.from({length:this.length},((e,t)=>this.at(t)))}at(e){const t=this.indexBase-this.indexStart;return e<t&&(e+=this.backing.length),e-=t,this.backing.countAt(e)}incrementBucket(e,t){this.backing.increment(e,t)}decrementBucket(e,t){this.backing.decrement(e,t)}trim(){for(let e=0;e<this.length;e++){if(0!==this.at(e)){this.indexStart+=e;break}if(e===this.length-1)return void(this.indexStart=this.indexEnd=this.indexBase=0)}for(let e=this.length-1;e>=0;e--)if(0!==this.at(e)){this.indexEnd-=this.length-e-1;break}this._rotate()}downscale(e){this._rotate();const t=1+this.indexEnd-this.indexStart,r=1<<e;let n=0,o=0;for(let e=this.indexStart;e<=this.indexEnd;){let i=e%r;i<0&&(i+=r);for(let a=i;a<r&&n<t;a++)this._relocateBucket(o,n),n++,e++;o++}this.indexStart>>=e,this.indexEnd>>=e,this.indexBase=this.indexStart}clone(){return new TS(this.backing.clone(),this.indexBase,this.indexStart,this.indexEnd)}_rotate(){const e=this.indexBase-this.indexStart;0!==e&&(e>0?(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,e),this.backing.reverse(e,this.backing.length)):(this.backing.reverse(0,this.backing.length),this.backing.reverse(0,this.backing.length+e)),this.indexBase=this.indexStart)}_relocateBucket(e,t){e!==t&&this.incrementBucket(e,this.backing.emptyBucket(t))}}pS.Buckets=TS;class mS{constructor(e=[0]){this._counts=e}get length(){return this._counts.length}countAt(e){return this._counts[e]}growTo(e,t,r){const n=new Array(e).fill(0);n.splice(r,this._counts.length-t,...this._counts.slice(t)),n.splice(0,t,...this._counts.slice(0,t)),this._counts=n}reverse(e,t){const r=Math.floor((e+t)/2)-e;for(let n=0;n<r;n++){const r=this._counts[e+n];this._counts[e+n]=this._counts[t-n-1],this._counts[t-n-1]=r}}emptyBucket(e){const t=this._counts[e];return this._counts[e]=0,t}increment(e,t){this._counts[e]+=t}decrement(e,t){this._counts[e]>=t?this._counts[e]-=t:this._counts[e]=0}clone(){return new mS([...this._counts])}}var fS={},gS={},AS={};Object.defineProperty(AS,"__esModule",{value:!0}),AS.getSignificand=AS.getNormalBase2=AS.MIN_VALUE=AS.MAX_NORMAL_EXPONENT=AS.MIN_NORMAL_EXPONENT=AS.SIGNIFICAND_WIDTH=void 0,AS.SIGNIFICAND_WIDTH=52;const SS=1023;AS.MIN_NORMAL_EXPONENT=-1022,AS.MAX_NORMAL_EXPONENT=SS,AS.MIN_VALUE=Math.pow(2,-1022),AS.getNormalBase2=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e),((2146435072&t.getUint32(0))>>20)-SS},AS.getSignificand=function(e){const t=new DataView(new ArrayBuffer(8));t.setFloat64(0,e);const r=t.getUint32(0),n=t.getUint32(4);return(1048575&r)*Math.pow(2,32)+n};var OS={};Object.defineProperty(OS,"__esModule",{value:!0}),OS.nextGreaterSquare=OS.ldexp=void 0,OS.ldexp=function(e,t){return 0===e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY||Number.isNaN(e)?e:e*Math.pow(2,t)},OS.nextGreaterSquare=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e};var hS={};Object.defineProperty(hS,"__esModule",{value:!0}),hS.MappingError=void 0;class vS extends Error{}hS.MappingError=vS,Object.defineProperty(gS,"__esModule",{value:!0}),gS.ExponentMapping=void 0;const yS=AS,bS=OS,NS=hS;gS.ExponentMapping=class{constructor(e){this._shift=-e}mapToIndex(e){if(e<yS.MIN_VALUE)return this._minNormalLowerBoundaryIndex();return yS.getNormalBase2(e)+this._rightShift(yS.getSignificand(e)-1,yS.SIGNIFICAND_WIDTH)>>this._shift}lowerBoundary(e){const t=this._minNormalLowerBoundaryIndex();if(e<t)throw new NS.MappingError(`underflow: ${e} is < minimum lower boundary: ${t}`);const r=this._maxNormalLowerBoundaryIndex();if(e>r)throw new NS.MappingError(`overflow: ${e} is > maximum lower boundary: ${r}`);return bS.ldexp(1,e<<this._shift)}get scale(){return 0===this._shift?0:-this._shift}_minNormalLowerBoundaryIndex(){let e=yS.MIN_NORMAL_EXPONENT>>this._shift;return this._shift<2&&e--,e}_maxNormalLowerBoundaryIndex(){return yS.MAX_NORMAL_EXPONENT>>this._shift}_rightShift(e,t){return Math.floor(e*Math.pow(2,-t))}};var PS={};Object.defineProperty(PS,"__esModule",{value:!0}),PS.LogarithmMapping=void 0;const RS=AS,IS=OS,CS=hS;PS.LogarithmMapping=class{constructor(e){this._scale=e,this._scaleFactor=IS.ldexp(Math.LOG2E,e),this._inverseFactor=IS.ldexp(Math.LN2,-e)}mapToIndex(e){if(e<=RS.MIN_VALUE)return this._minNormalLowerBoundaryIndex()-1;if(0===RS.getSignificand(e)){return(RS.getNormalBase2(e)<<this._scale)-1}const t=Math.floor(Math.log(e)*this._scaleFactor),r=this._maxNormalLowerBoundaryIndex();return t>=r?r:t}lowerBoundary(e){const t=this._maxNormalLowerBoundaryIndex();if(e>=t){if(e===t)return 2*Math.exp((e-(1<<this._scale))/this._scaleFactor);throw new CS.MappingError(`overflow: ${e} is > maximum lower boundary: ${t}`)}const r=this._minNormalLowerBoundaryIndex();if(e<=r){if(e===r)return RS.MIN_VALUE;if(e===r-1)return Math.exp((e+(1<<this._scale))/this._scaleFactor)/2;throw new CS.MappingError(`overflow: ${e} is < minimum lower boundary: ${r}`)}return Math.exp(e*this._inverseFactor)}get scale(){return this._scale}_minNormalLowerBoundaryIndex(){return RS.MIN_NORMAL_EXPONENT<<this._scale}_maxNormalLowerBoundaryIndex(){return(RS.MAX_NORMAL_EXPONENT+1<<this._scale)-1}},Object.defineProperty(fS,"__esModule",{value:!0}),fS.getMapping=void 0;const MS=gS,LS=PS,DS=hS,wS=Array.from({length:31},((e,t)=>t>10?new LS.LogarithmMapping(t-10):new MS.ExponentMapping(t-10)));fS.getMapping=function(e){if(e>20||e<-10)throw new DS.MappingError(`expected scale >= -10 && <= 20, got: ${e}`);return wS[e+10]},Object.defineProperty(ES,"__esModule",{value:!0}),ES.ExponentialHistogramAggregator=ES.ExponentialHistogramAccumulation=void 0;const US=oS,BS=qA,jS=i,GS=sS,xS=pS,VS=fS,kS=OS;class FS{constructor(e,t){this.low=e,this.high=t}static combine(e,t){return new FS(Math.min(e.low,t.low),Math.max(e.high,t.high))}}class HS{constructor(e=e,t=160,r=!0,n=0,o=0,i=0,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,c=new xS.Buckets,u=new xS.Buckets,l=(0,VS.getMapping)(20)){this.startTime=e,this._maxSize=t,this._recordMinMax=r,this._sum=n,this._count=o,this._zeroCount=i,this._min=a,this._max=s,this._positive=c,this._negative=u,this._mapping=l,this._maxSize<2&&(jS.diag.warn(`Exponential Histogram Max Size set to ${this._maxSize},                 changing to the minimum size of: 2`),this._maxSize=2)}record(e){this.updateByIncrement(e,1)}setStartTime(e){this.startTime=e}toPointValue(){return{hasMinMax:this._recordMinMax,min:this.min,max:this.max,sum:this.sum,positive:{offset:this.positive.offset,bucketCounts:this.positive.counts()},negative:{offset:this.negative.offset,bucketCounts:this.negative.counts()},count:this.count,scale:this.scale,zeroCount:this.zeroCount}}get sum(){return this._sum}get min(){return this._min}get max(){return this._max}get count(){return this._count}get zeroCount(){return this._zeroCount}get scale(){return this._count===this._zeroCount?0:this._mapping.scale}get positive(){return this._positive}get negative(){return this._negative}updateByIncrement(e,t){e>this._max&&(this._max=e),e<this._min&&(this._min=e),this._count+=t,0!==e?(this._sum+=e*t,e>0?this._updateBuckets(this._positive,e,t):this._updateBuckets(this._negative,-e,t)):this._zeroCount+=t}merge(e){0===this._count?(this._min=e.min,this._max=e.max):0!==e.count&&(e.min<this.min&&(this._min=e.min),e.max>this.max&&(this._max=e.max)),this.startTime=e.startTime,this._sum+=e.sum,this._count+=e.count,this._zeroCount+=e.zeroCount;const t=this._minScale(e);this._downscale(this.scale-t),this._mergeBuckets(this.positive,e,e.positive,t),this._mergeBuckets(this.negative,e,e.negative,t)}diff(e){this._min=1/0,this._max=-1/0,this._sum-=e.sum,this._count-=e.count,this._zeroCount-=e.zeroCount;const t=this._minScale(e);this._downscale(this.scale-t),this._diffBuckets(this.positive,e,e.positive,t),this._diffBuckets(this.negative,e,e.negative,t)}clone(){return new HS(this.startTime,this._maxSize,this._recordMinMax,this._sum,this._count,this._zeroCount,this._min,this._max,this.positive.clone(),this.negative.clone(),this._mapping)}_updateBuckets(e,t,r){let n=this._mapping.mapToIndex(t),o=!1,i=0,a=0;if(0===e.length?(e.indexStart=n,e.indexEnd=e.indexStart,e.indexBase=e.indexStart):n<e.indexStart&&e.indexEnd-n>=this._maxSize?(o=!0,a=n,i=e.indexEnd):n>e.indexEnd&&n-e.indexStart>=this._maxSize&&(o=!0,a=e.indexStart,i=n),o){const e=this._changeScale(i,a);this._downscale(e),n=this._mapping.mapToIndex(t)}this._incrementIndexBy(e,n,r)}_incrementIndexBy(e,t,r){if(0===r)return;if(t<e.indexStart){const r=e.indexEnd-t;r>=e.backing.length&&this._grow(e,r+1),e.indexStart=t}else if(t>e.indexEnd){const r=t-e.indexStart;r>=e.backing.length&&this._grow(e,r+1),e.indexEnd=t}let n=t-e.indexBase;n<0&&(n+=e.backing.length),e.incrementBucket(n,r)}_grow(e,t){const r=e.backing.length,n=e.indexBase-e.indexStart,o=r-n;let i=(0,kS.nextGreaterSquare)(t);i>this._maxSize&&(i=this._maxSize);const a=i-n;e.backing.growTo(i,o,a)}_changeScale(e,t){let r=0;for(;e-t>=this._maxSize;)e>>=1,t>>=1,r++;return r}_downscale(e){if(0===e)return;if(e<0)throw new Error(`impossible change of scale: ${this.scale}`);const t=this._mapping.scale-e;this._positive.downscale(e),this._negative.downscale(e),this._mapping=(0,VS.getMapping)(t)}_minScale(e){const t=Math.min(this.scale,e.scale),r=FS.combine(this._highLowAtScale(this.positive,this.scale,t),this._highLowAtScale(e.positive,e.scale,t)),n=FS.combine(this._highLowAtScale(this.negative,this.scale,t),this._highLowAtScale(e.negative,e.scale,t));return Math.min(t-this._changeScale(r.high,r.low),t-this._changeScale(n.high,n.low))}_highLowAtScale(e,t,r){if(0===e.length)return new FS(0,-1);const n=t-r;return new FS(e.indexStart>>n,e.indexEnd>>n)}_mergeBuckets(e,t,r,n){const o=r.offset,i=t.scale-n;for(let t=0;t<r.length;t++)this._incrementIndexBy(e,o+t>>i,r.at(t))}_diffBuckets(e,t,r,n){const o=r.offset,i=t.scale-n;for(let t=0;t<r.length;t++){let n=(o+t>>i)-e.indexBase;n<0&&(n+=e.backing.length),e.decrementBucket(n,r.at(t))}e.trim()}}ES.ExponentialHistogramAccumulation=HS;ES.ExponentialHistogramAggregator=class{constructor(e,t){this._maxSize=e,this._recordMinMax=t,this.kind=US.AggregatorKind.EXPONENTIAL_HISTOGRAM}createAccumulation(e){return new HS(e,this._maxSize,this._recordMinMax)}merge(e,t){const r=t.clone();return r.merge(e),r}diff(e,t){const r=t.clone();return r.diff(e),r}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:BS.DataPointType.EXPONENTIAL_HISTOGRAM,dataPoints:r.map((([t,r])=>{const o=r.toPointValue(),i=e.type===GS.InstrumentType.UP_DOWN_COUNTER||e.type===GS.InstrumentType.OBSERVABLE_GAUGE||e.type===GS.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER;return{attributes:t,startTime:r.startTime,endTime:n,value:{min:o.hasMinMax?o.min:void 0,max:o.hasMinMax?o.max:void 0,sum:i?void 0:o.sum,positive:{offset:o.positive.offset,bucketCounts:o.positive.bucketCounts},negative:{offset:o.negative.offset,bucketCounts:o.negative.bucketCounts},count:o.count,scale:o.scale,zeroCount:o.zeroCount}}}))}}};var KS={},XS={},WS={},YS={};Object.defineProperty(YS,"__esModule",{value:!0}),YS.isTracingSuppressed=YS.unsuppressTracing=YS.suppressTracing=void 0;const zS=(0,i.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");YS.suppressTracing=function(e){return e.setValue(zS,!0)},YS.unsuppressTracing=function(e){return e.deleteValue(zS)},YS.isTracingSuppressed=function(e){return!0===e.getValue(zS)};var $S={};Object.defineProperty($S,"__esModule",{value:!0}),$S.BAGGAGE_MAX_TOTAL_LENGTH=$S.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=$S.BAGGAGE_MAX_NAME_VALUE_PAIRS=$S.BAGGAGE_HEADER=$S.BAGGAGE_ITEMS_SEPARATOR=$S.BAGGAGE_PROPERTIES_SEPARATOR=$S.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,$S.BAGGAGE_KEY_PAIR_SEPARATOR="=",$S.BAGGAGE_PROPERTIES_SEPARATOR=";",$S.BAGGAGE_ITEMS_SEPARATOR=",",$S.BAGGAGE_HEADER="baggage",$S.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,$S.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,$S.BAGGAGE_MAX_TOTAL_LENGTH=8192;var qS={};Object.defineProperty(qS,"__esModule",{value:!0}),qS.parseKeyPairsIntoRecord=qS.parsePairKeyValue=qS.getKeyPairs=qS.serializeKeyPairs=void 0;const ZS=i,JS=$S;function QS(e){const t=e.split(JS.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;const r=t.shift();if(!r)return;const n=r.indexOf(JS.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;const o=decodeURIComponent(r.substring(0,n).trim()),i=decodeURIComponent(r.substring(n+1).trim());let a;return t.length>0&&(a=(0,ZS.baggageEntryMetadataFromString)(t.join(JS.BAGGAGE_PROPERTIES_SEPARATOR))),{key:o,value:i,metadata:a}}qS.serializeKeyPairs=function(e){return e.reduce(((e,t)=>{const r=`${e}${""!==e?JS.BAGGAGE_ITEMS_SEPARATOR:""}${t}`;return r.length>JS.BAGGAGE_MAX_TOTAL_LENGTH?e:r}),"")},qS.getKeyPairs=function(e){return e.getAllEntries().map((([e,t])=>{let r=`${encodeURIComponent(e)}=${encodeURIComponent(t.value)}`;return void 0!==t.metadata&&(r+=JS.BAGGAGE_PROPERTIES_SEPARATOR+t.metadata.toString()),r}))},qS.parsePairKeyValue=QS,qS.parseKeyPairsIntoRecord=function(e){return"string"!=typeof e||0===e.length?{}:e.split(JS.BAGGAGE_ITEMS_SEPARATOR).map((e=>QS(e))).filter((e=>void 0!==e&&e.value.length>0)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})},Object.defineProperty(WS,"__esModule",{value:!0}),WS.W3CBaggagePropagator=void 0;const eO=i,tO=YS,rO=$S,nO=qS;WS.W3CBaggagePropagator=class{inject(e,t,r){const n=eO.propagation.getBaggage(e);if(!n||(0,tO.isTracingSuppressed)(e))return;const o=(0,nO.getKeyPairs)(n).filter((e=>e.length<=rO.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS)).slice(0,rO.BAGGAGE_MAX_NAME_VALUE_PAIRS),i=(0,nO.serializeKeyPairs)(o);i.length>0&&r.set(t,rO.BAGGAGE_HEADER,i)}extract(e,t,r){const n=r.get(t,rO.BAGGAGE_HEADER),o=Array.isArray(n)?n.join(rO.BAGGAGE_ITEMS_SEPARATOR):n;if(!o)return e;const i={};if(0===o.length)return e;return o.split(rO.BAGGAGE_ITEMS_SEPARATOR).forEach((e=>{const t=(0,nO.parsePairKeyValue)(e);if(t){const e={value:t.value};t.metadata&&(e.metadata=t.metadata),i[t.key]=e}})),0===Object.entries(i).length?e:eO.propagation.setBaggage(e,eO.propagation.createBaggage(i))}fields(){return[rO.BAGGAGE_HEADER]}};var oO={};Object.defineProperty(oO,"__esModule",{value:!0}),oO.AnchoredClock=void 0;oO.AnchoredClock=class{constructor(e,t){this._monotonicClock=t,this._epochMillis=e.now(),this._performanceMillis=t.now()}now(){const e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e}};var iO={};Object.defineProperty(iO,"__esModule",{value:!0}),iO.isAttributeValue=iO.isAttributeKey=iO.sanitizeAttributes=void 0;const aO=i;function sO(e){return"string"==typeof e&&e.length>0}function cO(e){return null==e||(Array.isArray(e)?function(e){let t;for(const r of e)if(null!=r){if(!t){if(uO(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}(e):uO(e))}function uO(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}iO.sanitizeAttributes=function(e){const t={};if("object"!=typeof e||null==e)return t;for(const[r,n]of Object.entries(e))sO(r)?cO(n)?Array.isArray(n)?t[r]=n.slice():t[r]=n:aO.diag.warn(`Invalid attribute value set for key: ${r}`):aO.diag.warn(`Invalid attribute key: ${r}`);return t},iO.isAttributeKey=sO,iO.isAttributeValue=cO;var lO={},dO={};Object.defineProperty(dO,"__esModule",{value:!0}),dO.loggingErrorHandler=void 0;const _O=i;dO.loggingErrorHandler=function(){return e=>{_O.diag.error(function(e){return"string"==typeof e?e:JSON.stringify(function(e){const t={};let r=e;for(;null!==r;)Object.getOwnPropertyNames(r).forEach((e=>{if(t[e])return;const n=r[e];n&&(t[e]=String(n))})),r=Object.getPrototypeOf(r);return t}(e))}(e))}},Object.defineProperty(lO,"__esModule",{value:!0}),lO.globalErrorHandler=lO.setGlobalErrorHandler=void 0;let EO=(0,dO.loggingErrorHandler)();lO.setGlobalErrorHandler=function(e){EO=e},lO.globalErrorHandler=function(e){try{EO(e)}catch(e){}};var pO={},TO={},mO={},fO={},gO={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TracesSamplerValues=void 0,(t=e.TracesSamplerValues||(e.TracesSamplerValues={})).AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"}(gO);var AO={};Object.defineProperty(AO,"__esModule",{value:!0}),AO._globalThis=void 0,AO._globalThis="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof t?t:{},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getEnvWithoutDefaults=e.parseEnvironment=e.DEFAULT_ENVIRONMENT=e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;const t=i,r=gO,n=AO,o=",",a=["OTEL_SDK_DISABLED"];function s(e){return a.indexOf(e)>-1}const c=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function u(e){return c.indexOf(e)>-1}const l=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function d(e){return l.indexOf(e)>-1}function _(e,t,r){if(void 0===r[e])return;const n=String(r[e]);t[e]="true"===n.toLowerCase()}function E(e,t,r,n=-1/0,o=1/0){if(void 0!==r[e]){const i=Number(r[e]);isNaN(i)||(t[e]=i<n?n:i>o?o:i)}}function p(e,t,r,n=o){const i=r[e];"string"==typeof i&&(t[e]=i.split(n).map((e=>e.trim())))}e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0,e.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128,e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128,e.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:t.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:e.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:e.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:e.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};const T={ALL:t.DiagLogLevel.ALL,VERBOSE:t.DiagLogLevel.VERBOSE,DEBUG:t.DiagLogLevel.DEBUG,INFO:t.DiagLogLevel.INFO,WARN:t.DiagLogLevel.WARN,ERROR:t.DiagLogLevel.ERROR,NONE:t.DiagLogLevel.NONE};function m(e,t,r){const n=r[e];if("string"==typeof n){const r=T[n.toUpperCase()];null!=r&&(t[e]=r)}}function f(t){const r={};for(const n in e.DEFAULT_ENVIRONMENT){const e=n;if("OTEL_LOG_LEVEL"===e)m(e,r,t);else if(s(e))_(e,r,t);else if(u(e))E(e,r,t);else if(d(e))p(e,r,t);else{const n=t[e];null!=n&&(r[e]=String(n))}}return r}e.parseEnvironment=f,e.getEnvWithoutDefaults=function(){return f(void 0!==_n&&_n&&_n.env?_n.env:n._globalThis)}}(fO),Object.defineProperty(mO,"__esModule",{value:!0}),mO.getEnv=void 0;const SO=fO,OO=AO;mO.getEnv=function(){const e=(0,SO.parseEnvironment)(OO._globalThis);return Object.assign({},SO.DEFAULT_ENVIRONMENT,e)};var hO={};Object.defineProperty(hO,"__esModule",{value:!0}),hO.hexToBase64=void 0,hO.hexToBase64=function(e){const t=e.length;let r="";for(let n=0;n<t;n+=2){const t=e.substring(n,n+2),o=parseInt(t,16);r+=String.fromCharCode(o)}return btoa(r)};var vO={};Object.defineProperty(vO,"__esModule",{value:!0}),vO.RandomIdGenerator=void 0;vO.RandomIdGenerator=class{constructor(){this.generateTraceId=bO(16),this.generateSpanId=bO(8)}};const yO=Array(32);function bO(e){return function(){for(let t=0;t<2*e;t++)yO[t]=Math.floor(16*Math.random())+48,yO[t]>=58&&(yO[t]+=39);return String.fromCharCode.apply(null,yO.slice(0,2*e))}}var NO={};Object.defineProperty(NO,"__esModule",{value:!0}),NO.otperformance=void 0,NO.otperformance=performance;var PO={},RO={};Object.defineProperty(RO,"__esModule",{value:!0}),RO.VERSION=void 0,RO.VERSION="1.18.1";var IO={},CO={},MO={};Object.defineProperty(MO,"__esModule",{value:!0}),MO.MessageTypeValues=MO.RpcGrpcStatusCodeValues=MO.MessagingOperationValues=MO.MessagingDestinationKindValues=MO.HttpFlavorValues=MO.NetHostConnectionSubtypeValues=MO.NetHostConnectionTypeValues=MO.NetTransportValues=MO.FaasInvokedProviderValues=MO.FaasDocumentOperationValues=MO.FaasTriggerValues=MO.DbCassandraConsistencyLevelValues=MO.DbSystemValues=MO.SemanticAttributes=void 0,MO.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},MO.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},MO.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},MO.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},MO.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"},MO.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},MO.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},MO.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},MO.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},MO.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},MO.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"},MO.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"},MO.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},MO.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(MO,e)}(CO);var LO={},DO={};Object.defineProperty(DO,"__esModule",{value:!0}),DO.TelemetrySdkLanguageValues=DO.OsTypeValues=DO.HostArchValues=DO.AwsEcsLaunchtypeValues=DO.CloudPlatformValues=DO.CloudProviderValues=DO.SemanticResourceAttributes=void 0,DO.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},DO.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},DO.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},DO.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"},DO.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},DO.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},DO.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(DO,e)}(LO),function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(CO,e),n(LO,e)}(IO),Object.defineProperty(PO,"__esModule",{value:!0}),PO.SDK_INFO=void 0;const wO=RO,UO=IO;PO.SDK_INFO={[UO.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[UO.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[UO.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:UO.TelemetrySdkLanguageValues.WEBJS,[UO.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:wO.VERSION};var BO={};Object.defineProperty(BO,"__esModule",{value:!0}),BO.unrefTimer=void 0,BO.unrefTimer=function(e){},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(mO,e),n(AO,e),n(hO,e),n(vO,e),n(NO,e),n(PO,e),n(BO,e)}(TO),Object.defineProperty(pO,"__esModule",{value:!0}),pO.addHrTimes=pO.isTimeInput=pO.isTimeInputHrTime=pO.hrTimeToMicroseconds=pO.hrTimeToMilliseconds=pO.hrTimeToNanoseconds=pO.hrTimeToTimeStamp=pO.hrTimeDuration=pO.timeInputToHrTime=pO.hrTime=pO.getTimeOrigin=pO.millisToHrTime=void 0;const jO=TO,GO=Math.pow(10,6),xO=Math.pow(10,9);function VO(e){const t=e/1e3;return[Math.trunc(t),Math.round(e%1e3*GO)]}function kO(){let e=jO.otperformance.timeOrigin;if("number"!=typeof e){const t=jO.otperformance;e=t.timing&&t.timing.fetchStart}return e}function FO(e){return KO(VO(kO()),VO("number"==typeof e?e:jO.otperformance.now()))}function HO(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function KO(e,t){const r=[e[0]+t[0],e[1]+t[1]];return r[1]>=xO&&(r[1]-=xO,r[0]+=1),r}pO.millisToHrTime=VO,pO.getTimeOrigin=kO,pO.hrTime=FO,pO.timeInputToHrTime=function(e){if(HO(e))return e;if("number"==typeof e)return e<kO()?FO(e):VO(e);if(e instanceof Date)return VO(e.getTime());throw TypeError("Invalid input type")},pO.hrTimeDuration=function(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=xO),[r,n]},pO.hrTimeToTimeStamp=function(e){const t=`${"0".repeat(9)}${e[1]}Z`,r=t.substr(t.length-9-1);return new Date(1e3*e[0]).toISOString().replace("000Z",r)},pO.hrTimeToNanoseconds=function(e){return e[0]*xO+e[1]},pO.hrTimeToMilliseconds=function(e){return 1e3*e[0]+e[1]/1e6},pO.hrTimeToMicroseconds=function(e){return 1e6*e[0]+e[1]/1e3},pO.isTimeInputHrTime=HO,pO.isTimeInput=function(e){return HO(e)||"number"==typeof e||e instanceof Date},pO.addHrTimes=KO;var XO={};Object.defineProperty(XO,"__esModule",{value:!0});var WO={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExportResultCode=void 0,(t=e.ExportResultCode||(e.ExportResultCode={}))[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"}(WO);var YO={};Object.defineProperty(YO,"__esModule",{value:!0}),YO.CompositePropagator=void 0;const zO=i;YO.CompositePropagator=class{constructor(e={}){var t;this._propagators=null!==(t=e.propagators)&&void 0!==t?t:[],this._fields=Array.from(new Set(this._propagators.map((e=>"function"==typeof e.fields?e.fields():[])).reduce(((e,t)=>e.concat(t)),[])))}inject(e,t,r){for(const n of this._propagators)try{n.inject(e,t,r)}catch(e){zO.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}}extract(e,t,r){return this._propagators.reduce(((e,n)=>{try{return n.extract(e,t,r)}catch(e){zO.diag.warn(`Failed to inject with ${n.constructor.name}. Err: ${e.message}`)}return e}),e)}fields(){return this._fields.slice()}};var $O={},qO={},ZO={};Object.defineProperty(ZO,"__esModule",{value:!0}),ZO.validateValue=ZO.validateKey=void 0;const JO="[_0-9a-z-*/]",QO=new RegExp(`^(?:${`[a-z]${JO}{0,255}`}|${`[a-z0-9]${JO}{0,240}@[a-z]${JO}{0,13}`})$`),eh=/^[ -~]{0,255}[!-~]$/,th=/,|=/;ZO.validateKey=function(e){return QO.test(e)},ZO.validateValue=function(e){return eh.test(e)&&!th.test(e)},Object.defineProperty(qO,"__esModule",{value:!0}),qO.TraceState=void 0;const rh=ZO;class nh{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),n=r.indexOf("=");if(-1!==n){const o=r.slice(0,n),i=r.slice(n+1,t.length);(0,rh.validateKey)(o)&&(0,rh.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new nh;return e._internalState=new Map(this._internalState),e}}qO.TraceState=nh,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.W3CTraceContextPropagator=e.parseTraceParent=e.TRACE_STATE_HEADER=e.TRACE_PARENT_HEADER=void 0;const t=i,r=YS,n=qO;e.TRACE_PARENT_HEADER="traceparent",e.TRACE_STATE_HEADER="tracestate";const o=new RegExp("^\\s?((?!ff)[\\da-f]{2})-((?![0]{32})[\\da-f]{32})-((?![0]{16})[\\da-f]{16})-([\\da-f]{2})(-.*)?\\s?$");function a(e){const t=o.exec(e);return t?"00"===t[1]&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}e.parseTraceParent=a;e.W3CTraceContextPropagator=class{inject(n,o,i){const a=t.trace.getSpanContext(n);if(!a||(0,r.isTracingSuppressed)(n)||!(0,t.isSpanContextValid)(a))return;const s=`00-${a.traceId}-${a.spanId}-0${Number(a.traceFlags||t.TraceFlags.NONE).toString(16)}`;i.set(o,e.TRACE_PARENT_HEADER,s),a.traceState&&i.set(o,e.TRACE_STATE_HEADER,a.traceState.serialize())}extract(r,o,i){const s=i.get(o,e.TRACE_PARENT_HEADER);if(!s)return r;const c=Array.isArray(s)?s[0]:s;if("string"!=typeof c)return r;const u=a(c);if(!u)return r;u.isRemote=!0;const l=i.get(o,e.TRACE_STATE_HEADER);if(l){const e=Array.isArray(l)?l.join(","):l;u.traceState=new n.TraceState("string"==typeof e?e:void 0)}return t.trace.setSpanContext(r,u)}fields(){return[e.TRACE_PARENT_HEADER,e.TRACE_STATE_HEADER]}}}($O);var oh={};Object.defineProperty(oh,"__esModule",{value:!0});var ih={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getRPCMetadata=e.deleteRPCMetadata=e.setRPCMetadata=e.RPCType=void 0;const t=(0,i.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA");(e.RPCType||(e.RPCType={})).HTTP="http",e.setRPCMetadata=function(e,r){return e.setValue(t,r)},e.deleteRPCMetadata=function(e){return e.deleteValue(t)},e.getRPCMetadata=function(e){return e.getValue(t)}}(ih);var ah={};Object.defineProperty(ah,"__esModule",{value:!0}),ah.AlwaysOffSampler=void 0;const sh=i;ah.AlwaysOffSampler=class{shouldSample(){return{decision:sh.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};var ch={};Object.defineProperty(ch,"__esModule",{value:!0}),ch.AlwaysOnSampler=void 0;const uh=i;ch.AlwaysOnSampler=class{shouldSample(){return{decision:uh.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};var lh={};Object.defineProperty(lh,"__esModule",{value:!0}),lh.ParentBasedSampler=void 0;const dh=i,_h=lO,Eh=ah,ph=ch;lh.ParentBasedSampler=class{constructor(e){var t,r,n,o;this._root=e.root,this._root||((0,_h.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new ph.AlwaysOnSampler),this._remoteParentSampled=null!==(t=e.remoteParentSampled)&&void 0!==t?t:new ph.AlwaysOnSampler,this._remoteParentNotSampled=null!==(r=e.remoteParentNotSampled)&&void 0!==r?r:new Eh.AlwaysOffSampler,this._localParentSampled=null!==(n=e.localParentSampled)&&void 0!==n?n:new ph.AlwaysOnSampler,this._localParentNotSampled=null!==(o=e.localParentNotSampled)&&void 0!==o?o:new Eh.AlwaysOffSampler}shouldSample(e,t,r,n,o,i){const a=dh.trace.getSpanContext(e);return a&&(0,dh.isSpanContextValid)(a)?a.isRemote?a.traceFlags&dh.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(e,t,r,n,o,i):this._remoteParentNotSampled.shouldSample(e,t,r,n,o,i):a.traceFlags&dh.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(e,t,r,n,o,i):this._localParentNotSampled.shouldSample(e,t,r,n,o,i):this._root.shouldSample(e,t,r,n,o,i)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};var Th={};Object.defineProperty(Th,"__esModule",{value:!0}),Th.TraceIdRatioBasedSampler=void 0;const mh=i;Th.TraceIdRatioBasedSampler=class{constructor(e=0){this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(4294967295*this._ratio)}shouldSample(e,t){return{decision:(0,mh.isValidTraceId)(t)&&this._accumulate(t)<this._upperBound?mh.SamplingDecision.RECORD_AND_SAMPLED:mh.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(e){return"number"!=typeof e||isNaN(e)?0:e>=1?1:e<=0?0:e}_accumulate(e){let t=0;for(let r=0;r<e.length/8;r++){const n=8*r;t=(t^parseInt(e.slice(n,n+8),16))>>>0}return t}};var fh={},gh={};Object.defineProperty(gh,"__esModule",{value:!0}),gh.isPlainObject=void 0;const Ah="[object Null]",Sh="[object Undefined]",Oh=Function.prototype.toString,hh=Oh.call(Object),vh=function(e,t){return function(r){return e(t(r))}}(Object.getPrototypeOf,Object),yh=Object.prototype,bh=yh.hasOwnProperty,Nh=Symbol?Symbol.toStringTag:void 0,Ph=yh.toString;gh.isPlainObject=function(e){if(!function(e){return null!=e&&"object"==typeof e}(e)||"[object Object]"!==function(e){if(null==e)return void 0===e?Sh:Ah;return Nh&&Nh in Object(e)?function(e){const t=bh.call(e,Nh),r=e[Nh];let n=!1;try{e[Nh]=void 0,n=!0}catch(e){}const o=Ph.call(e);n&&(t?e[Nh]=r:delete e[Nh]);return o}(e):function(e){return Ph.call(e)}(e)}(e))return!1;const t=vh(e);if(null===t)return!0;const r=bh.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Oh.call(r)===hh},Object.defineProperty(fh,"__esModule",{value:!0}),fh.merge=void 0;const Rh=gh,Ih=20;function Ch(e){return Dh(e)?e.slice():e}function Mh(e,t,r=0,n){let o;if(!(r>Ih)){if(r++,Bh(e)||Bh(t)||wh(t))o=Ch(t);else if(Dh(e)){if(o=e.slice(),Dh(t))for(let e=0,r=t.length;e<r;e++)o.push(Ch(t[e]));else if(Uh(t)){const e=Object.keys(t);for(let r=0,n=e.length;r<n;r++){const n=e[r];o[n]=Ch(t[n])}}}else if(Uh(e))if(Uh(t)){if(!function(e,t){if(!(0,Rh.isPlainObject)(e)||!(0,Rh.isPlainObject)(t))return!1;return!0}(e,t))return t;o=Object.assign({},e);const i=Object.keys(t);for(let a=0,s=i.length;a<s;a++){const s=i[a],c=t[s];if(Bh(c))void 0===c?delete o[s]:o[s]=c;else{const i=o[s],a=c;if(Lh(e,s,n)||Lh(t,s,n))delete o[s];else{if(Uh(i)&&Uh(a)){const r=n.get(i)||[],o=n.get(a)||[];r.push({obj:e,key:s}),o.push({obj:t,key:s}),n.set(i,r),n.set(a,o)}o[s]=Mh(o[s],c,r,n)}}}}else o=t;return o}}function Lh(e,t,r){const n=r.get(e[t])||[];for(let r=0,o=n.length;r<o;r++){const o=n[r];if(o.key===t&&o.obj===e)return!0}return!1}function Dh(e){return Array.isArray(e)}function wh(e){return"function"==typeof e}function Uh(e){return!Bh(e)&&!Dh(e)&&!wh(e)&&"object"==typeof e}function Bh(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||void 0===e||e instanceof Date||e instanceof RegExp||null===e}fh.merge=function(...e){let t=e.shift();const r=new WeakMap;for(;e.length>0;)t=Mh(t,e.shift(),0,r);return t};var jh={};Object.defineProperty(jh,"__esModule",{value:!0}),jh.callWithTimeout=jh.TimeoutError=void 0;class Gh extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Gh.prototype)}}jh.TimeoutError=Gh,jh.callWithTimeout=function(e,t){let r;const n=new Promise((function(e,n){r=setTimeout((function(){n(new Gh("Operation timed out."))}),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)),(e=>{throw clearTimeout(r),e}))};var xh={};function Vh(e,t){return"string"==typeof t?e===t:!!e.match(t)}Object.defineProperty(xh,"__esModule",{value:!0}),xh.isUrlIgnored=xh.urlMatches=void 0,xh.urlMatches=Vh,xh.isUrlIgnored=function(e,t){if(!t)return!1;for(const r of t)if(Vh(e,r))return!0;return!1};var kh={};Object.defineProperty(kh,"__esModule",{value:!0}),kh.isWrapped=void 0,kh.isWrapped=function(e){return"function"==typeof e&&"function"==typeof e.__original&&"function"==typeof e.__unwrap&&!0===e.__wrapped};var Fh={},Hh={};Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.Deferred=void 0;Hh.Deferred=class{constructor(){this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}get promise(){return this._promise}resolve(e){this._resolve(e)}reject(e){this._reject(e)}},Object.defineProperty(Fh,"__esModule",{value:!0}),Fh.BindOnceFuture=void 0;const Kh=Hh;Fh.BindOnceFuture=class{constructor(e,t){this._callback=e,this._that=t,this._isCalled=!1,this._deferred=new Kh.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...e){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...e)).then((e=>this._deferred.resolve(e)),(e=>this._deferred.reject(e)))}catch(e){this._deferred.reject(e)}}return this._deferred.promise}};var Xh={};Object.defineProperty(Xh,"__esModule",{value:!0}),Xh._export=void 0;const Wh=i,Yh=YS;Xh._export=function(e,t){return new Promise((r=>{Wh.context.with((0,Yh.suppressTracing)(Wh.context.active()),(()=>{e.export(t,(e=>{r(e)}))}))}))},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.internal=e.baggageUtils=void 0,n(WS,e),n(oO,e),n(iO,e),n(lO,e),n(dO,e),n(pO,e),n(XO,e),n(WO,e),e.baggageUtils=qS,n(TO,e),n(YO,e),n($O,e),n(oh,e),n(ih,e),n(ah,e),n(ch,e),n(lh,e),n(Th,e),n(YS,e),n(qO,e),n(fO,e),n(fh,e),n(gO,e),n(jh,e),n(xh,e),n(kh,e),n(Fh,e),n(RO,e);const o=Xh;e.internal={_export:o._export}}(XS),Object.defineProperty(KS,"__esModule",{value:!0}),KS.LastValueAggregator=KS.LastValueAccumulation=void 0;const zh=oS,$h=XS,qh=qA;class Zh{constructor(e,t=0,r=[0,0]){this.startTime=e,this._current=t,this.sampleTime=r}record(e){this._current=e,this.sampleTime=(0,$h.millisToHrTime)(Date.now())}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}KS.LastValueAccumulation=Zh;KS.LastValueAggregator=class{constructor(){this.kind=zh.AggregatorKind.LAST_VALUE}createAccumulation(e){return new Zh(e)}merge(e,t){const r=(0,$h.hrTimeToMicroseconds)(t.sampleTime)>=(0,$h.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new Zh(e.startTime,r.toPointValue(),r.sampleTime)}diff(e,t){const r=(0,$h.hrTimeToMicroseconds)(t.sampleTime)>=(0,$h.hrTimeToMicroseconds)(e.sampleTime)?t:e;return new Zh(t.startTime,r.toPointValue(),r.sampleTime)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:qh.DataPointType.GAUGE,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()})))}}};var Jh={};Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.SumAggregator=Jh.SumAccumulation=void 0;const Qh=oS,ev=qA;class tv{constructor(e,t,r=0,n=!1){this.startTime=e,this.monotonic=t,this._current=r,this.reset=n}record(e){this.monotonic&&e<0||(this._current+=e)}setStartTime(e){this.startTime=e}toPointValue(){return this._current}}Jh.SumAccumulation=tv;Jh.SumAggregator=class{constructor(e){this.monotonic=e,this.kind=Qh.AggregatorKind.SUM}createAccumulation(e){return new tv(e,this.monotonic)}merge(e,t){const r=e.toPointValue(),n=t.toPointValue();return t.reset?new tv(t.startTime,this.monotonic,n,t.reset):new tv(e.startTime,this.monotonic,r+n)}diff(e,t){const r=e.toPointValue(),n=t.toPointValue();return this.monotonic&&r>n?new tv(t.startTime,this.monotonic,n,!0):new tv(t.startTime,this.monotonic,n-r)}toMetricData(e,t,r,n){return{descriptor:e,aggregationTemporality:t,dataPointType:ev.DataPointType.SUM,dataPoints:r.map((([e,t])=>({attributes:e,startTime:t.startTime,endTime:n,value:t.toPointValue()}))),isMonotonic:this.monotonic}}},function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(nS,e),n(aS,e),n(ES,e),n(KS,e),n(Jh,e)}(rS),Object.defineProperty(tS,"__esModule",{value:!0}),tS.DefaultAggregation=tS.ExponentialHistogramAggregation=tS.ExplicitBucketHistogramAggregation=tS.HistogramAggregation=tS.LastValueAggregation=tS.SumAggregation=tS.DropAggregation=tS.Aggregation=void 0;const rv=i,nv=rS,ov=sS;class iv{static Drop(){return Ev}static Sum(){return pv}static LastValue(){return Tv}static Histogram(){return mv}static ExponentialHistogram(){return fv}static Default(){return gv}}tS.Aggregation=iv;class av extends iv{createAggregator(e){return av.DEFAULT_INSTANCE}}tS.DropAggregation=av,av.DEFAULT_INSTANCE=new nv.DropAggregator;class sv extends iv{createAggregator(e){switch(e.type){case ov.InstrumentType.COUNTER:case ov.InstrumentType.OBSERVABLE_COUNTER:case ov.InstrumentType.HISTOGRAM:return sv.MONOTONIC_INSTANCE;default:return sv.NON_MONOTONIC_INSTANCE}}}tS.SumAggregation=sv,sv.MONOTONIC_INSTANCE=new nv.SumAggregator(!0),sv.NON_MONOTONIC_INSTANCE=new nv.SumAggregator(!1);class cv extends iv{createAggregator(e){return cv.DEFAULT_INSTANCE}}tS.LastValueAggregation=cv,cv.DEFAULT_INSTANCE=new nv.LastValueAggregator;class uv extends iv{createAggregator(e){return uv.DEFAULT_INSTANCE}}tS.HistogramAggregation=uv,uv.DEFAULT_INSTANCE=new nv.HistogramAggregator([0,5,10,25,50,75,100,250,500,750,1e3,2500,5e3,7500,1e4],!0);class lv extends iv{constructor(e,t=!0){if(super(),this._recordMinMax=t,void 0===e||0===e.length)throw new Error("HistogramAggregator should be created with boundaries.");const r=(e=(e=e.concat()).sort(((e,t)=>e-t))).lastIndexOf(-1/0);let n=e.indexOf(1/0);-1===n&&(n=void 0),this._boundaries=e.slice(r+1,n)}createAggregator(e){return new nv.HistogramAggregator(this._boundaries,this._recordMinMax)}}tS.ExplicitBucketHistogramAggregation=lv;class dv extends iv{constructor(e=160,t=!0){super(),this._maxSize=e,this._recordMinMax=t}createAggregator(e){return new nv.ExponentialHistogramAggregator(this._maxSize,this._recordMinMax)}}tS.ExponentialHistogramAggregation=dv;class _v extends iv{_resolve(e){switch(e.type){case ov.InstrumentType.COUNTER:case ov.InstrumentType.UP_DOWN_COUNTER:case ov.InstrumentType.OBSERVABLE_COUNTER:case ov.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER:return pv;case ov.InstrumentType.OBSERVABLE_GAUGE:return Tv;case ov.InstrumentType.HISTOGRAM:return e.advice.explicitBucketBoundaries?new lv(e.advice.explicitBucketBoundaries):mv}return rv.diag.warn(`Unable to recognize instrument type: ${e.type}`),Ev}createAggregator(e){return this._resolve(e).createAggregator(e)}}tS.DefaultAggregation=_v;const Ev=new av,pv=new sv,Tv=new cv,mv=new uv,fv=new dv,gv=new _v;Object.defineProperty(eS,"__esModule",{value:!0}),eS.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=eS.DEFAULT_AGGREGATION_SELECTOR=void 0;const Av=tS,Sv=$A;eS.DEFAULT_AGGREGATION_SELECTOR=e=>Av.Aggregation.Default();eS.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR=e=>Sv.AggregationTemporality.CUMULATIVE,Object.defineProperty(ZA,"__esModule",{value:!0}),ZA.MetricReader=void 0;const Ov=i,hv=JA,vv=eS;ZA.MetricReader=class{constructor(e){var t,r,n;this._shutdown=!1,this._aggregationSelector=null!==(t=null==e?void 0:e.aggregationSelector)&&void 0!==t?t:vv.DEFAULT_AGGREGATION_SELECTOR,this._aggregationTemporalitySelector=null!==(r=null==e?void 0:e.aggregationTemporalitySelector)&&void 0!==r?r:vv.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR,this._metricProducers=null!==(n=null==e?void 0:e.metricProducers)&&void 0!==n?n:[]}setMetricProducer(e){if(this._sdkMetricProducer)throw new Error("MetricReader can not be bound to a MeterProvider again.");this._sdkMetricProducer=e,this.onInitialized()}selectAggregation(e){return this._aggregationSelector(e)}selectAggregationTemporality(e){return this._aggregationTemporalitySelector(e)}onInitialized(){}async collect(e){if(void 0===this._sdkMetricProducer)throw new Error("MetricReader is not bound to a MetricProducer");if(this._shutdown)throw new Error("MetricReader is shutdown");const[t,...r]=await Promise.all([this._sdkMetricProducer.collect({timeoutMillis:null==e?void 0:e.timeoutMillis}),...this._metricProducers.map((t=>t.collect({timeoutMillis:null==e?void 0:e.timeoutMillis})))]),n=t.errors.concat((0,hv.FlatMap)(r,(e=>e.errors)));return{resourceMetrics:{resource:t.resourceMetrics.resource,scopeMetrics:t.resourceMetrics.scopeMetrics.concat((0,hv.FlatMap)(r,(e=>e.resourceMetrics.scopeMetrics)))},errors:n}}async shutdown(e){this._shutdown?Ov.diag.error("Cannot call shutdown twice."):(null==(null==e?void 0:e.timeoutMillis)?await this.onShutdown():await(0,hv.callWithTimeout)(this.onShutdown(),e.timeoutMillis),this._shutdown=!0)}async forceFlush(e){this._shutdown?Ov.diag.warn("Cannot forceFlush on already shutdown MetricReader."):null!=(null==e?void 0:e.timeoutMillis)?await(0,hv.callWithTimeout)(this.onForceFlush(),e.timeoutMillis):await this.onForceFlush()}};var yv={};Object.defineProperty(yv,"__esModule",{value:!0}),yv.PeriodicExportingMetricReader=void 0;const bv=i,Nv=XS,Pv=ZA,Rv=JA,Iv=i;class Cv extends Pv.MetricReader{constructor(e){var t,r,n,o;if(super({aggregationSelector:null===(t=e.exporter.selectAggregation)||void 0===t?void 0:t.bind(e.exporter),aggregationTemporalitySelector:null===(r=e.exporter.selectAggregationTemporality)||void 0===r?void 0:r.bind(e.exporter),metricProducers:e.metricProducers}),void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<=0)throw Error("exportIntervalMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&e.exportTimeoutMillis<=0)throw Error("exportTimeoutMillis must be greater than 0");if(void 0!==e.exportTimeoutMillis&&void 0!==e.exportIntervalMillis&&e.exportIntervalMillis<e.exportTimeoutMillis)throw Error("exportIntervalMillis must be greater than or equal to exportTimeoutMillis");this._exportInterval=null!==(n=e.exportIntervalMillis)&&void 0!==n?n:6e4,this._exportTimeout=null!==(o=e.exportTimeoutMillis)&&void 0!==o?o:3e4,this._exporter=e.exporter}async _runOnce(){try{await(0,Rv.callWithTimeout)(this._doRun(),this._exportTimeout)}catch(e){if(e instanceof Rv.TimeoutError)return void bv.diag.error("Export took longer than %s milliseconds and timed out.",this._exportTimeout);(0,Nv.globalErrorHandler)(e)}}async _doRun(){var e,t;const{resourceMetrics:r,errors:n}=await this.collect({timeoutMillis:this._exportTimeout});n.length>0&&bv.diag.error("PeriodicExportingMetricReader: metrics collection errors",...n);const o=async()=>{const e=await Nv.internal._export(this._exporter,r);if(e.code!==Nv.ExportResultCode.SUCCESS)throw new Error(`PeriodicExportingMetricReader: metrics export failed (error ${e.error})`)};r.resource.asyncAttributesPending?null===(t=(e=r.resource).waitForAsyncAttributes)||void 0===t||t.call(e).then(o,(e=>Iv.diag.debug("Error while resolving async portion of resource: ",e))):await o()}onInitialized(){this._interval=setInterval((()=>{this._runOnce()}),this._exportInterval),(0,Nv.unrefTimer)(this._interval)}async onForceFlush(){await this._runOnce(),await this._exporter.forceFlush()}async onShutdown(){this._interval&&clearInterval(this._interval),await this._exporter.shutdown()}}yv.PeriodicExportingMetricReader=Cv;var Mv={};Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.InMemoryMetricExporter=void 0;const Lv=XS;Mv.InMemoryMetricExporter=class{constructor(e){this._shutdown=!1,this._metrics=[],this._aggregationTemporality=e}export(e,t){this._shutdown?setTimeout((()=>t({code:Lv.ExportResultCode.FAILED})),0):(this._metrics.push(e),setTimeout((()=>t({code:Lv.ExportResultCode.SUCCESS})),0))}getMetrics(){return this._metrics}forceFlush(){return Promise.resolve()}reset(){this._metrics=[]}selectAggregationTemporality(e){return this._aggregationTemporality}shutdown(){return this._shutdown=!0,Promise.resolve()}};var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.ConsoleMetricExporter=void 0;const wv=XS,Uv=eS;class Bv{constructor(e){var t;this._shutdown=!1,this._temporalitySelector=null!==(t=null==e?void 0:e.temporalitySelector)&&void 0!==t?t:Uv.DEFAULT_AGGREGATION_TEMPORALITY_SELECTOR}export(e,t){if(!this._shutdown)return Bv._sendMetrics(e,t);setImmediate(t,{code:wv.ExportResultCode.FAILED})}forceFlush(){return Promise.resolve()}selectAggregationTemporality(e){return this._temporalitySelector(e)}shutdown(){return this._shutdown=!0,Promise.resolve()}static _sendMetrics(e,t){for(const t of e.scopeMetrics)for(const e of t.metrics)console.dir({descriptor:e.descriptor,dataPointType:e.dataPointType,dataPoints:e.dataPoints});t({code:wv.ExportResultCode.SUCCESS})}}Dv.ConsoleMetricExporter=Bv;var jv={},Gv={},xv={};Object.defineProperty(xv,"__esModule",{value:!0}),xv.ViewRegistry=void 0;xv.ViewRegistry=class{constructor(){this._registeredViews=[]}addView(e){this._registeredViews.push(e)}findViews(e,t){return this._registeredViews.filter((r=>this._matchInstrument(r.instrumentSelector,e)&&this._matchMeter(r.meterSelector,t)))}_matchInstrument(e,t){return(void 0===e.getType()||t.type===e.getType())&&e.getNameFilter().match(t.name)&&e.getUnitFilter().match(t.unit)}_matchMeter(e,t){return e.getNameFilter().match(t.name)&&(void 0===t.version||e.getVersionFilter().match(t.version))&&(void 0===t.schemaUrl||e.getSchemaUrlFilter().match(t.schemaUrl))}};var Vv={},kv={},Fv={};Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.isObservableInstrument=Fv.ObservableUpDownCounterInstrument=Fv.ObservableGaugeInstrument=Fv.ObservableCounterInstrument=Fv.ObservableInstrument=Fv.HistogramInstrument=Fv.CounterInstrument=Fv.UpDownCounterInstrument=Fv.SyncInstrument=void 0;const Hv=i,Kv=XS;class Xv{constructor(e,t){this._writableMetricStorage=e,this._descriptor=t}_record(e,t={},r=Hv.context.active()){"number"==typeof e?(this._descriptor.valueType!==Hv.ValueType.INT||Number.isInteger(e)||(Hv.diag.warn(`INT value type cannot accept a floating-point value for ${this._descriptor.name}, ignoring the fractional digits.`),e=Math.trunc(e),Number.isInteger(e)))&&this._writableMetricStorage.record(e,t,r,(0,Kv.millisToHrTime)(Date.now())):Hv.diag.warn(`non-number value provided to metric ${this._descriptor.name}: ${e}`)}}Fv.SyncInstrument=Xv;Fv.UpDownCounterInstrument=class extends Xv{add(e,t,r){this._record(e,t,r)}};Fv.CounterInstrument=class extends Xv{add(e,t,r){e<0?Hv.diag.warn(`negative value provided to counter ${this._descriptor.name}: ${e}`):this._record(e,t,r)}};Fv.HistogramInstrument=class extends Xv{record(e,t,r){e<0?Hv.diag.warn(`negative value provided to histogram ${this._descriptor.name}: ${e}`):this._record(e,t,r)}};class Wv{constructor(e,t,r){this._observableRegistry=r,this._descriptor=e,this._metricStorages=t}addCallback(e){this._observableRegistry.addCallback(e,this)}removeCallback(e){this._observableRegistry.removeCallback(e,this)}}Fv.ObservableInstrument=Wv;Fv.ObservableCounterInstrument=class extends Wv{};Fv.ObservableGaugeInstrument=class extends Wv{};Fv.ObservableUpDownCounterInstrument=class extends Wv{},Fv.isObservableInstrument=function(e){return e instanceof Wv},Object.defineProperty(kv,"__esModule",{value:!0}),kv.Meter=void 0;const Yv=sS,zv=Fv;kv.Meter=class{constructor(e){this._meterSharedState=e}createHistogram(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.HISTOGRAM,t),n=this._meterSharedState.registerMetricStorage(r);return new zv.HistogramInstrument(n,r)}createCounter(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.COUNTER,t),n=this._meterSharedState.registerMetricStorage(r);return new zv.CounterInstrument(n,r)}createUpDownCounter(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.UP_DOWN_COUNTER,t),n=this._meterSharedState.registerMetricStorage(r);return new zv.UpDownCounterInstrument(n,r)}createObservableGauge(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.OBSERVABLE_GAUGE,t),n=this._meterSharedState.registerAsyncMetricStorage(r);return new zv.ObservableGaugeInstrument(r,n,this._meterSharedState.observableRegistry)}createObservableCounter(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.OBSERVABLE_COUNTER,t),n=this._meterSharedState.registerAsyncMetricStorage(r);return new zv.ObservableCounterInstrument(r,n,this._meterSharedState.observableRegistry)}createObservableUpDownCounter(e,t){const r=(0,Yv.createInstrumentDescriptor)(e,Yv.InstrumentType.OBSERVABLE_UP_DOWN_COUNTER,t),n=this._meterSharedState.registerAsyncMetricStorage(r);return new zv.ObservableUpDownCounterInstrument(r,n,this._meterSharedState.observableRegistry)}addBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.addBatchCallback(e,t)}removeBatchObservableCallback(e,t){this._meterSharedState.observableRegistry.removeBatchCallback(e,t)}};var $v={},qv={};Object.defineProperty(qv,"__esModule",{value:!0}),qv.MetricStorage=void 0;const Zv=sS;qv.MetricStorage=class{constructor(e){this._instrumentDescriptor=e}getInstrumentDescriptor(){return this._instrumentDescriptor}updateDescription(e){this._instrumentDescriptor=(0,Zv.createInstrumentDescriptor)(this._instrumentDescriptor.name,this._instrumentDescriptor.type,{description:e,valueType:this._instrumentDescriptor.valueType,unit:this._instrumentDescriptor.unit,advice:this._instrumentDescriptor.advice})}};var Jv={},Qv={};Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.AttributeHashMap=Qv.HashMap=void 0;const ey=JA;class ty{constructor(e){this._hash=e,this._valueMap=new Map,this._keyMap=new Map}get(e,t){return null!=t||(t=this._hash(e)),this._valueMap.get(t)}getOrDefault(e,t){const r=this._hash(e);if(this._valueMap.has(r))return this._valueMap.get(r);const n=t();return this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,n),n}set(e,t,r){null!=r||(r=this._hash(e)),this._keyMap.has(r)||this._keyMap.set(r,e),this._valueMap.set(r,t)}has(e,t){return null!=t||(t=this._hash(e)),this._valueMap.has(t)}*keys(){const e=this._keyMap.entries();let t=e.next();for(;!0!==t.done;)yield[t.value[1],t.value[0]],t=e.next()}*entries(){const e=this._valueMap.entries();let t=e.next();for(;!0!==t.done;)yield[this._keyMap.get(t.value[0]),t.value[1],t.value[0]],t=e.next()}get size(){return this._valueMap.size}}Qv.HashMap=ty;Qv.AttributeHashMap=class extends ty{constructor(){super(ey.hashAttributes)}},Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.DeltaMetricProcessor=void 0;const ry=Qv;Jv.DeltaMetricProcessor=class{constructor(e){this._aggregator=e,this._activeCollectionStorage=new ry.AttributeHashMap,this._cumulativeMemoStorage=new ry.AttributeHashMap}record(e,t,r,n){const o=this._activeCollectionStorage.getOrDefault(t,(()=>this._aggregator.createAccumulation(n)));null==o||o.record(e)}batchCumulate(e,t){Array.from(e.entries()).forEach((([e,r,n])=>{const o=this._aggregator.createAccumulation(t);null==o||o.record(r);let i=o;if(this._cumulativeMemoStorage.has(e,n)){const t=this._cumulativeMemoStorage.get(e,n);i=this._aggregator.diff(t,o)}if(this._activeCollectionStorage.has(e,n)){const t=this._activeCollectionStorage.get(e,n);i=this._aggregator.merge(t,i)}this._cumulativeMemoStorage.set(e,o,n),this._activeCollectionStorage.set(e,i,n)}))}collect(){const e=this._activeCollectionStorage;return this._activeCollectionStorage=new ry.AttributeHashMap,e}};var ny={};Object.defineProperty(ny,"__esModule",{value:!0}),ny.TemporalMetricProcessor=void 0;const oy=$A,iy=Qv;class ay{constructor(e,t){this._aggregator=e,this._unreportedAccumulations=new Map,this._reportHistory=new Map,t.forEach((e=>{this._unreportedAccumulations.set(e,[])}))}buildMetrics(e,t,r,n){this._stashAccumulations(r);const o=this._getMergedUnreportedAccumulations(e);let i,a=o;if(this._reportHistory.has(e)){const t=this._reportHistory.get(e),r=t.collectionTime;i=t.aggregationTemporality,a=i===oy.AggregationTemporality.CUMULATIVE?ay.merge(t.accumulations,o,this._aggregator):ay.calibrateStartTime(t.accumulations,o,r)}else i=e.selectAggregationTemporality(t.type);this._reportHistory.set(e,{accumulations:a,collectionTime:n,aggregationTemporality:i});const s=(c=a,Array.from(c.entries()));var c;if(0!==s.length)return this._aggregator.toMetricData(t,i,s,n)}_stashAccumulations(e){const t=this._unreportedAccumulations.keys();for(const r of t){let t=this._unreportedAccumulations.get(r);void 0===t&&(t=[],this._unreportedAccumulations.set(r,t)),t.push(e)}}_getMergedUnreportedAccumulations(e){let t=new iy.AttributeHashMap;const r=this._unreportedAccumulations.get(e);if(this._unreportedAccumulations.set(e,[]),void 0===r)return t;for(const e of r)t=ay.merge(t,e,this._aggregator);return t}static merge(e,t,r){const n=e,o=t.entries();let i=o.next();for(;!0!==i.done;){const[t,a,s]=i.value;if(e.has(t,s)){const o=e.get(t,s),i=r.merge(o,a);n.set(t,i,s)}else n.set(t,a,s);i=o.next()}return n}static calibrateStartTime(e,t,r){for(const[n,o]of e.keys()){const e=t.get(n,o);null==e||e.setStartTime(r)}return t}}ny.TemporalMetricProcessor=ay,Object.defineProperty($v,"__esModule",{value:!0}),$v.AsyncMetricStorage=void 0;const sy=qv,cy=Jv,uy=ny,ly=Qv;class dy extends sy.MetricStorage{constructor(e,t,r,n){super(e),this._attributesProcessor=r,this._deltaMetricStorage=new cy.DeltaMetricProcessor(t),this._temporalMetricStorage=new uy.TemporalMetricProcessor(t,n)}record(e,t){const r=new ly.AttributeHashMap;Array.from(e.entries()).forEach((([e,t])=>{r.set(this._attributesProcessor.process(e),t)})),this._deltaMetricStorage.batchCumulate(r,t)}collect(e,t){const r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)}}$v.AsyncMetricStorage=dy;var _y={},Ey={};function py(e,t){return`\t- use valueType '${e.valueType}' on instrument creation or use an instrument name other than '${t.name}'`}function Ty(e,t){return`\t- use unit '${e.unit}' on instrument creation or use an instrument name other than '${t.name}'`}function my(e,t){const r={name:t.name,type:t.type,unit:t.unit},n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'`}function fy(e,t){const r={name:t.name,type:t.type,unit:t.unit},n=JSON.stringify(r);return`\t- create a new view with a name other than '${e.name}' and InstrumentSelector '${n}'\n    \t- OR - create a new view with the name ${e.name} and description '${e.description}' and InstrumentSelector ${n}\n    \t- OR - create a new view with the name ${t.name} and description '${e.description}' and InstrumentSelector ${n}`}Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.getConflictResolutionRecipe=Ey.getDescriptionResolutionRecipe=Ey.getTypeConflictResolutionRecipe=Ey.getUnitConflictResolutionRecipe=Ey.getValueTypeConflictResolutionRecipe=Ey.getIncompatibilityDetails=void 0,Ey.getIncompatibilityDetails=function(e,t){let r="";return e.unit!==t.unit&&(r+=`\t- Unit '${e.unit}' does not match '${t.unit}'\n`),e.type!==t.type&&(r+=`\t- Type '${e.type}' does not match '${t.type}'\n`),e.valueType!==t.valueType&&(r+=`\t- Value Type '${e.valueType}' does not match '${t.valueType}'\n`),e.description!==t.description&&(r+=`\t- Description '${e.description}' does not match '${t.description}'\n`),r},Ey.getValueTypeConflictResolutionRecipe=py,Ey.getUnitConflictResolutionRecipe=Ty,Ey.getTypeConflictResolutionRecipe=my,Ey.getDescriptionResolutionRecipe=fy,Ey.getConflictResolutionRecipe=function(e,t){return e.valueType!==t.valueType?py(e,t):e.unit!==t.unit?Ty(e,t):e.type!==t.type?my(e,t):e.description!==t.description?fy(e,t):""},Object.defineProperty(_y,"__esModule",{value:!0}),_y.MetricStorageRegistry=void 0;const gy=sS,Ay=i,Sy=Ey;class Oy{constructor(){this._sharedRegistry=new Map,this._perCollectorRegistry=new Map}static create(){return new Oy}getStorages(e){let t=[];for(const e of this._sharedRegistry.values())t=t.concat(e);const r=this._perCollectorRegistry.get(e);if(null!=r)for(const e of r.values())t=t.concat(e);return t}register(e){this._registerStorage(e,this._sharedRegistry)}registerForCollector(e,t){let r=this._perCollectorRegistry.get(e);null==r&&(r=new Map,this._perCollectorRegistry.set(e,r)),this._registerStorage(t,r)}findOrUpdateCompatibleStorage(e){const t=this._sharedRegistry.get(e.name);return void 0===t?null:this._findOrUpdateCompatibleStorage(e,t)}findOrUpdateCompatibleCollectorStorage(e,t){const r=this._perCollectorRegistry.get(e);if(void 0===r)return null;const n=r.get(t.name);return void 0===n?null:this._findOrUpdateCompatibleStorage(t,n)}_registerStorage(e,t){const r=e.getInstrumentDescriptor(),n=t.get(r.name);void 0!==n?n.push(e):t.set(r.name,[e])}_findOrUpdateCompatibleStorage(e,t){let r=null;for(const n of t){const t=n.getInstrumentDescriptor();(0,gy.isDescriptorCompatibleWith)(t,e)?(t.description!==e.description&&(e.description.length>t.description.length&&n.updateDescription(e.description),Ay.diag.warn("A view or instrument with the name ",e.name," has already been registered, but has a different description and is incompatible with another registered view.\n","Details:\n",(0,Sy.getIncompatibilityDetails)(t,e),"The longer description will be used.\nTo resolve the conflict:",(0,Sy.getConflictResolutionRecipe)(t,e))),r=n):Ay.diag.warn("A view or instrument with the name ",e.name," has already been registered and is incompatible with another registered view.\n","Details:\n",(0,Sy.getIncompatibilityDetails)(t,e),"To resolve the conflict:\n",(0,Sy.getConflictResolutionRecipe)(t,e))}return r}}_y.MetricStorageRegistry=Oy;var hy={};Object.defineProperty(hy,"__esModule",{value:!0}),hy.MultiMetricStorage=void 0;hy.MultiMetricStorage=class{constructor(e){this._backingStorages=e}record(e,t,r,n){this._backingStorages.forEach((o=>{o.record(e,t,r,n)}))}};var vy={},yy={};Object.defineProperty(yy,"__esModule",{value:!0}),yy.BatchObservableResultImpl=yy.ObservableResultImpl=void 0;const by=i,Ny=Qv,Py=Fv;yy.ObservableResultImpl=class{constructor(e,t){this._instrumentName=e,this._valueType=t,this._buffer=new Ny.AttributeHashMap}observe(e,t={}){"number"==typeof e?(this._valueType!==by.ValueType.INT||Number.isInteger(e)||(by.diag.warn(`INT value type cannot accept a floating-point value for ${this._instrumentName}, ignoring the fractional digits.`),e=Math.trunc(e),Number.isInteger(e)))&&this._buffer.set(t,e):by.diag.warn(`non-number value provided to metric ${this._instrumentName}: ${e}`)}};yy.BatchObservableResultImpl=class{constructor(){this._buffer=new Map}observe(e,t,r={}){if(!(0,Py.isObservableInstrument)(e))return;let n=this._buffer.get(e);null==n&&(n=new Ny.AttributeHashMap,this._buffer.set(e,n)),"number"==typeof t?(e._descriptor.valueType!==by.ValueType.INT||Number.isInteger(t)||(by.diag.warn(`INT value type cannot accept a floating-point value for ${e._descriptor.name}, ignoring the fractional digits.`),t=Math.trunc(t),Number.isInteger(t)))&&n.set(r,t):by.diag.warn(`non-number value provided to metric ${e._descriptor.name}: ${t}`)}},Object.defineProperty(vy,"__esModule",{value:!0}),vy.ObservableRegistry=void 0;const Ry=i,Iy=Fv,Cy=yy,My=JA;vy.ObservableRegistry=class{constructor(){this._callbacks=[],this._batchCallbacks=[]}addCallback(e,t){this._findCallback(e,t)>=0||this._callbacks.push({callback:e,instrument:t})}removeCallback(e,t){const r=this._findCallback(e,t);r<0||this._callbacks.splice(r,1)}addBatchCallback(e,t){const r=new Set(t.filter(Iy.isObservableInstrument));if(0===r.size)return void Ry.diag.error("BatchObservableCallback is not associated with valid instruments",t);this._findBatchCallback(e,r)>=0||this._batchCallbacks.push({callback:e,instruments:r})}removeBatchCallback(e,t){const r=new Set(t.filter(Iy.isObservableInstrument)),n=this._findBatchCallback(e,r);n<0||this._batchCallbacks.splice(n,1)}async observe(e,t){const r=this._observeCallbacks(e,t),n=this._observeBatchCallbacks(e,t);return(await(0,My.PromiseAllSettled)([...r,...n])).filter(My.isPromiseAllSettledRejectionResult).map((e=>e.reason))}_observeCallbacks(e,t){return this._callbacks.map((async({callback:r,instrument:n})=>{const o=new Cy.ObservableResultImpl(n._descriptor.name,n._descriptor.valueType);let i=Promise.resolve(r(o));null!=t&&(i=(0,My.callWithTimeout)(i,t)),await i,n._metricStorages.forEach((t=>{t.record(o._buffer,e)}))}))}_observeBatchCallbacks(e,t){return this._batchCallbacks.map((async({callback:r,instruments:n})=>{const o=new Cy.BatchObservableResultImpl;let i=Promise.resolve(r(o));null!=t&&(i=(0,My.callWithTimeout)(i,t)),await i,n.forEach((t=>{const r=o._buffer.get(t);null!=r&&t._metricStorages.forEach((t=>{t.record(r,e)}))}))}))}_findCallback(e,t){return this._callbacks.findIndex((r=>r.callback===e&&r.instrument===t))}_findBatchCallback(e,t){return this._batchCallbacks.findIndex((r=>r.callback===e&&(0,My.setEquals)(r.instruments,t)))}};var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.SyncMetricStorage=void 0;const Dy=qv,wy=Jv,Uy=ny;class By extends Dy.MetricStorage{constructor(e,t,r,n){super(e),this._attributesProcessor=r,this._deltaMetricStorage=new wy.DeltaMetricProcessor(t),this._temporalMetricStorage=new Uy.TemporalMetricProcessor(t,n)}record(e,t,r,n){t=this._attributesProcessor.process(t,r),this._deltaMetricStorage.record(e,t,r,n)}collect(e,t){const r=this._deltaMetricStorage.collect();return this._temporalMetricStorage.buildMetrics(e,this._instrumentDescriptor,r,t)}}Ly.SyncMetricStorage=By;var jy={};Object.defineProperty(jy,"__esModule",{value:!0}),jy.FilteringAttributesProcessor=jy.NoopAttributesProcessor=jy.AttributesProcessor=void 0;class Gy{static Noop(){return Vy}}jy.AttributesProcessor=Gy;class xy extends Gy{process(e,t){return e}}jy.NoopAttributesProcessor=xy;jy.FilteringAttributesProcessor=class extends Gy{constructor(e){super(),this._allowedAttributeNames=e}process(e,t){const r={};return Object.keys(e).filter((e=>this._allowedAttributeNames.includes(e))).forEach((t=>r[t]=e[t])),r}};const Vy=new xy;Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.MeterSharedState=void 0;const ky=sS,Fy=kv,Hy=JA,Ky=$v,Xy=_y,Wy=hy,Yy=vy,zy=Ly,$y=jy;Vv.MeterSharedState=class{constructor(e,t){this._meterProviderSharedState=e,this._instrumentationScope=t,this.metricStorageRegistry=new Xy.MetricStorageRegistry,this.observableRegistry=new Yy.ObservableRegistry,this.meter=new Fy.Meter(this)}registerMetricStorage(e){const t=this._registerMetricStorage(e,zy.SyncMetricStorage);return 1===t.length?t[0]:new Wy.MultiMetricStorage(t)}registerAsyncMetricStorage(e){return this._registerMetricStorage(e,Ky.AsyncMetricStorage)}async collect(e,t,r){const n=await this.observableRegistry.observe(t,null==r?void 0:r.timeoutMillis),o=this.metricStorageRegistry.getStorages(e);if(0===o.length)return null;const i=o.map((r=>r.collect(e,t))).filter(Hy.isNotNullish);return 0===i.length?{errors:n}:{scopeMetrics:{scope:this._instrumentationScope,metrics:i},errors:n}}_registerMetricStorage(e,t){let r=this._meterProviderSharedState.viewRegistry.findViews(e,this._instrumentationScope).map((r=>{const n=(0,ky.createInstrumentDescriptorWithView)(r,e),o=this.metricStorageRegistry.findOrUpdateCompatibleStorage(n);if(null!=o)return o;const i=r.aggregation.createAggregator(n),a=new t(n,i,r.attributesProcessor,this._meterProviderSharedState.metricCollectors);return this.metricStorageRegistry.register(a),a}));if(0===r.length){const n=this._meterProviderSharedState.selectAggregations(e.type).map((([r,n])=>{const o=this.metricStorageRegistry.findOrUpdateCompatibleCollectorStorage(r,e);if(null!=o)return o;const i=n.createAggregator(e),a=new t(e,i,$y.AttributesProcessor.Noop(),[r]);return this.metricStorageRegistry.registerForCollector(r,a),a}));r=r.concat(n)}return r}},Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.MeterProviderSharedState=void 0;const qy=JA,Zy=xv,Jy=Vv;Gv.MeterProviderSharedState=class{constructor(e){this.resource=e,this.viewRegistry=new Zy.ViewRegistry,this.metricCollectors=[],this.meterSharedStates=new Map}getMeterSharedState(e){const t=(0,qy.instrumentationScopeId)(e);let r=this.meterSharedStates.get(t);return null==r&&(r=new Jy.MeterSharedState(this,e),this.meterSharedStates.set(t,r)),r}selectAggregations(e){const t=[];for(const r of this.metricCollectors)t.push([r,r.selectAggregation(e)]);return t}};var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.MetricCollector=void 0;const eb=XS;Qy.MetricCollector=class{constructor(e,t){this._sharedState=e,this._metricReader=t}async collect(e){const t=(0,eb.millisToHrTime)(Date.now()),r=[],n=[],o=Array.from(this._sharedState.meterSharedStates.values()).map((async o=>{const i=await o.collect(this,t,e);null!=(null==i?void 0:i.scopeMetrics)&&r.push(i.scopeMetrics),null!=(null==i?void 0:i.errors)&&n.push(...i.errors)}));return await Promise.all(o),{resourceMetrics:{resource:this._sharedState.resource,scopeMetrics:r},errors:n}}async forceFlush(e){await this._metricReader.forceFlush(e)}async shutdown(e){await this._metricReader.shutdown(e)}selectAggregationTemporality(e){return this._metricReader.selectAggregationTemporality(e)}selectAggregation(e){return this._metricReader.selectAggregation(e)}},Object.defineProperty(jv,"__esModule",{value:!0}),jv.MeterProvider=void 0;const tb=i,rb=r_(),nb=Gv,ob=Qy;jv.MeterProvider=class{constructor(e){var t;this._shutdown=!1;const r=rb.Resource.default().merge(null!==(t=null==e?void 0:e.resource)&&void 0!==t?t:rb.Resource.empty());if(this._sharedState=new nb.MeterProviderSharedState(r),null!=(null==e?void 0:e.views)&&e.views.length>0)for(const t of e.views)this._sharedState.viewRegistry.addView(t)}getMeter(e,t="",r={}){return this._shutdown?(tb.diag.warn("A shutdown MeterProvider cannot provide a Meter"),(0,tb.createNoopMeter)()):this._sharedState.getMeterSharedState({name:e,version:t,schemaUrl:r.schemaUrl}).meter}addMetricReader(e){const t=new ob.MetricCollector(this._sharedState,e);e.setMetricProducer(t),this._sharedState.metricCollectors.push(t)}async shutdown(e){this._shutdown?tb.diag.warn("shutdown may only be called once per MeterProvider"):(this._shutdown=!0,await Promise.all(this._sharedState.metricCollectors.map((t=>t.shutdown(e)))))}async forceFlush(e){this._shutdown?tb.diag.warn("invalid attempt to force flush after MeterProvider shutdown"):await Promise.all(this._sharedState.metricCollectors.map((t=>t.forceFlush(e))))}};var ib={},ab={};Object.defineProperty(ab,"__esModule",{value:!0}),ab.ExactPredicate=ab.PatternPredicate=void 0;const sb=/[\^$\\.+?()[\]{}|]/g;class cb{constructor(e){"*"===e?(this._matchAll=!0,this._regexp=/.*/):(this._matchAll=!1,this._regexp=new RegExp(cb.escapePattern(e)))}match(e){return!!this._matchAll||this._regexp.test(e)}static escapePattern(e){return`^${e.replace(sb,"\\$&").replace("*",".*")}$`}static hasWildcard(e){return e.includes("*")}}ab.PatternPredicate=cb;ab.ExactPredicate=class{constructor(e){this._matchAll=void 0===e,this._pattern=e}match(e){return!!this._matchAll||e===this._pattern}};var ub={};Object.defineProperty(ub,"__esModule",{value:!0}),ub.InstrumentSelector=void 0;const lb=ab;ub.InstrumentSelector=class{constructor(e){var t;this._nameFilter=new lb.PatternPredicate(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"*"),this._type=null==e?void 0:e.type,this._unitFilter=new lb.ExactPredicate(null==e?void 0:e.unit)}getType(){return this._type}getNameFilter(){return this._nameFilter}getUnitFilter(){return this._unitFilter}};var db={};Object.defineProperty(db,"__esModule",{value:!0}),db.MeterSelector=void 0;const _b=ab;db.MeterSelector=class{constructor(e){this._nameFilter=new _b.ExactPredicate(null==e?void 0:e.name),this._versionFilter=new _b.ExactPredicate(null==e?void 0:e.version),this._schemaUrlFilter=new _b.ExactPredicate(null==e?void 0:e.schemaUrl)}getNameFilter(){return this._nameFilter}getVersionFilter(){return this._versionFilter}getSchemaUrlFilter(){return this._schemaUrlFilter}},Object.defineProperty(ib,"__esModule",{value:!0}),ib.View=void 0;const Eb=ab,pb=jy,Tb=ub,mb=db,fb=tS;ib.View=class{constructor(e){var t,r;if(null==(r=e).instrumentName&&null==r.instrumentType&&null==r.instrumentUnit&&null==r.meterName&&null==r.meterVersion&&null==r.meterSchemaUrl)throw new Error("Cannot create view with no selector arguments supplied");if(null!=e.name&&(null==(null==e?void 0:e.instrumentName)||Eb.PatternPredicate.hasWildcard(e.instrumentName)))throw new Error("Views with a specified name must be declared with an instrument selector that selects at most one instrument per meter.");null!=e.attributeKeys?this.attributesProcessor=new pb.FilteringAttributesProcessor(e.attributeKeys):this.attributesProcessor=pb.AttributesProcessor.Noop(),this.name=e.name,this.description=e.description,this.aggregation=null!==(t=e.aggregation)&&void 0!==t?t:fb.Aggregation.Default(),this.instrumentSelector=new Tb.InstrumentSelector({name:e.instrumentName,type:e.instrumentType,unit:e.instrumentUnit}),this.meterSelector=new mb.MeterSelector({name:e.meterName,version:e.meterVersion,schemaUrl:e.meterSchemaUrl})}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TimeoutError=e.View=e.Aggregation=e.SumAggregation=e.LastValueAggregation=e.HistogramAggregation=e.DropAggregation=e.ExponentialHistogramAggregation=e.ExplicitBucketHistogramAggregation=e.DefaultAggregation=e.MeterProvider=e.InstrumentType=e.ConsoleMetricExporter=e.InMemoryMetricExporter=e.PeriodicExportingMetricReader=e.MetricReader=e.DataPointType=e.AggregationTemporality=void 0;var t=$A;Object.defineProperty(e,"AggregationTemporality",{enumerable:!0,get:function(){return t.AggregationTemporality}});var r=qA;Object.defineProperty(e,"DataPointType",{enumerable:!0,get:function(){return r.DataPointType}});var n=ZA;Object.defineProperty(e,"MetricReader",{enumerable:!0,get:function(){return n.MetricReader}});var o=yv;Object.defineProperty(e,"PeriodicExportingMetricReader",{enumerable:!0,get:function(){return o.PeriodicExportingMetricReader}});var i=Mv;Object.defineProperty(e,"InMemoryMetricExporter",{enumerable:!0,get:function(){return i.InMemoryMetricExporter}});var a=Dv;Object.defineProperty(e,"ConsoleMetricExporter",{enumerable:!0,get:function(){return a.ConsoleMetricExporter}});var s=sS;Object.defineProperty(e,"InstrumentType",{enumerable:!0,get:function(){return s.InstrumentType}});var c=jv;Object.defineProperty(e,"MeterProvider",{enumerable:!0,get:function(){return c.MeterProvider}});var u=tS;Object.defineProperty(e,"DefaultAggregation",{enumerable:!0,get:function(){return u.DefaultAggregation}}),Object.defineProperty(e,"ExplicitBucketHistogramAggregation",{enumerable:!0,get:function(){return u.ExplicitBucketHistogramAggregation}}),Object.defineProperty(e,"ExponentialHistogramAggregation",{enumerable:!0,get:function(){return u.ExponentialHistogramAggregation}}),Object.defineProperty(e,"DropAggregation",{enumerable:!0,get:function(){return u.DropAggregation}}),Object.defineProperty(e,"HistogramAggregation",{enumerable:!0,get:function(){return u.HistogramAggregation}}),Object.defineProperty(e,"LastValueAggregation",{enumerable:!0,get:function(){return u.LastValueAggregation}}),Object.defineProperty(e,"SumAggregation",{enumerable:!0,get:function(){return u.SumAggregation}}),Object.defineProperty(e,"Aggregation",{enumerable:!0,get:function(){return u.Aggregation}});var l=ib;Object.defineProperty(e,"View",{enumerable:!0,get:function(){return l.View}});var d=JA;Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return d.TimeoutError}})}(zA),Object.defineProperty(YA,"__esModule",{value:!0}),YA.toMetric=YA.toScopeMetrics=YA.toResourceMetrics=void 0;const gb=i,Ab=zA,Sb=UA,Ob=ff;function hb(e,t){return Array.from(e.map((e=>({scope:{name:e.scope.name,version:e.scope.version},metrics:e.metrics.map((e=>vb(e,t))),schemaUrl:e.scope.schemaUrl}))))}function vb(e,t){const r={name:e.descriptor.name,description:e.descriptor.description,unit:e.descriptor.unit},n=function(e){switch(e){case Ab.AggregationTemporality.DELTA:return 1;case Ab.AggregationTemporality.CUMULATIVE:return 2}}(e.aggregationTemporality);switch(e.dataPointType){case Ab.DataPointType.SUM:r.sum={aggregationTemporality:n,isMonotonic:e.isMonotonic,dataPoints:yb(e,t)};break;case Ab.DataPointType.GAUGE:r.gauge={dataPoints:yb(e,t)};break;case Ab.DataPointType.HISTOGRAM:r.histogram={aggregationTemporality:n,dataPoints:bb(e,t)};break;case Ab.DataPointType.EXPONENTIAL_HISTOGRAM:r.exponentialHistogram={aggregationTemporality:n,dataPoints:Nb(e,t)}}return r}function yb(e,t){return e.dataPoints.map((r=>function(e,t,r){const n={attributes:(0,Sb.toAttributes)(e.attributes),startTimeUnixNano:r.encodeHrTime(e.startTime),timeUnixNano:r.encodeHrTime(e.endTime)};switch(t){case gb.ValueType.INT:n.asInt=e.value;break;case gb.ValueType.DOUBLE:n.asDouble=e.value}return n}(r,e.descriptor.valueType,t)))}function bb(e,t){return e.dataPoints.map((e=>{const r=e.value;return{attributes:(0,Sb.toAttributes)(e.attributes),bucketCounts:r.buckets.counts,explicitBounds:r.buckets.boundaries,count:r.count,sum:r.sum,min:r.min,max:r.max,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}}))}function Nb(e,t){return e.dataPoints.map((e=>{const r=e.value;return{attributes:(0,Sb.toAttributes)(e.attributes),count:r.count,min:r.min,max:r.max,sum:r.sum,positive:{offset:r.positive.offset,bucketCounts:r.positive.bucketCounts},negative:{offset:r.negative.offset,bucketCounts:r.negative.bucketCounts},scale:r.scale,zeroCount:r.zeroCount,startTimeUnixNano:t.encodeHrTime(e.startTime),timeUnixNano:t.encodeHrTime(e.endTime)}}))}YA.toResourceMetrics=function(e,t){const r=(0,Ob.getOtlpEncoder)(t);return{resource:{attributes:(0,Sb.toAttributes)(e.resource.attributes),droppedAttributesCount:0},schemaUrl:void 0,scopeMetrics:hb(e.scopeMetrics,r)}},YA.toScopeMetrics=hb,YA.toMetric=vb,Object.defineProperty(WA,"__esModule",{value:!0}),WA.createExportMetricsServiceRequest=void 0;const Pb=YA;WA.createExportMetricsServiceRequest=function(e,t){return{resourceMetrics:e.map((e=>(0,Pb.toResourceMetrics)(e,t)))}};var Rb={};Object.defineProperty(Rb,"__esModule",{value:!0}),Rb.toLogAttributes=Rb.createExportLogsServiceRequest=void 0;const Ib=ff,Cb=UA;function Mb(e,t){const r=function(e){const t=new Map;for(const r of e){const{resource:e,instrumentationScope:{name:n,version:o="",schemaUrl:i=""}}=r;let a=t.get(e);a||(a=new Map,t.set(e,a));const s=`${n}@${o}:${i}`;let c=a.get(s);c||(c=[],a.set(s,c)),c.push(r)}return t}(e);return Array.from(r,(([e,r])=>({resource:{attributes:(0,Cb.toAttributes)(e.attributes),droppedAttributesCount:0},scopeLogs:Array.from(r,(([,e])=>{const{instrumentationScope:{name:r,version:n,schemaUrl:o}}=e[0];return{scope:{name:r,version:n},logRecords:e.map((e=>function(e,t){var r,n,o;return{timeUnixNano:t.encodeHrTime(e.hrTime),observedTimeUnixNano:t.encodeHrTime(e.hrTimeObserved),severityNumber:e.severityNumber,severityText:e.severityText,body:(0,Cb.toAnyValue)(e.body),attributes:Lb(e.attributes),droppedAttributesCount:0,flags:null===(r=e.spanContext)||void 0===r?void 0:r.traceFlags,traceId:t.encodeOptionalSpanContext(null===(n=e.spanContext)||void 0===n?void 0:n.traceId),spanId:t.encodeOptionalSpanContext(null===(o=e.spanContext)||void 0===o?void 0:o.spanId)}}(e,t))),schemaUrl:o}})),schemaUrl:void 0})))}function Lb(e){return Object.keys(e).map((t=>(0,Cb.toKeyValue)(t,e[t])))}Rb.createExportLogsServiceRequest=function(e,t){return{resourceLogs:Mb(e,(0,Ib.getOtlpEncoder)(t))}},Rb.toLogAttributes=Lb,function(e){var r=t&&t.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=t&&t.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.createExportLogsServiceRequest=e.createExportMetricsServiceRequest=e.createExportTraceServiceRequest=void 0,n(mf,e),n(ff,e),n(CA,e),n(MA,e),n(LA,e),n(DA,e);var o=wA;Object.defineProperty(e,"createExportTraceServiceRequest",{enumerable:!0,get:function(){return o.createExportTraceServiceRequest}});var i=WA;Object.defineProperty(e,"createExportMetricsServiceRequest",{enumerable:!0,get:function(){return i.createExportMetricsServiceRequest}});var a=Rb;Object.defineProperty(e,"createExportLogsServiceRequest",{enumerable:!0,get:function(){return a.createExportLogsServiceRequest}})}(Tf);class Db{constructor(e){this.config=e}export(e,t){const r=Tf.createExportTraceServiceRequest(e,{useHex:!0,useLongBits:!1});this.config.api.pushTraces(r),t({code:Tr.ExportResultCode.SUCCESS})}shutdown(){return Promise.resolve(void 0)}}class wb{constructor(e,t,r){this.processor=e,this.metas=t,this.ignoreUrls=r}forceFlush(){return this.processor.forceFlush()}onStart(e,t){var r;const n=this.metas.value.session,o=this.metas.value.user,i=null===(r=this.metas.value.page)||void 0===r?void 0:r.url,a=location.hostname;(null==n?void 0:n.id)&&(e.attributes.session_id=n.id),(null==o?void 0:o.id)&&""!==(null==o?void 0:o.id)&&(e.attributes.user_id=o.id),i&&""!==i&&(e.attributes.page_url=i),a&&""!==a&&(e.attributes.hostname=a),this.processor.onStart(e,t)}onEnd(e){const t=e.attributes["http.response_content_length"],r=e.attributes["http.response_content_length_uncompressed"],n=null==t?void 0:t.toString(),o=null==r?void 0:r.toString();void 0!==n&&n.length>8&&(e.attributes["http.response_content_length"]=0,e.attributes["http.response_content_length_invalid"]=!0),void 0!==o&&o.length>8&&(e.attributes["http.response_content_length_uncompressed"]=0,e.attributes["http.response_content_length_uncompressed_invalid"]=!0),this.processor.onEnd(e)}shutdown(){return this.processor.shutdown()}}class Ub extends d_.BaseTransport{constructor(e,t=[]){super(),this.name="@grafana/faro-web-sdk:transport-trace-log",this.version=d_.VERSION,this.faroInstance=e,this.ignoreUrls=t}async send(e){if("trace"===e.type){e.payload.resourceSpans.forEach((e=>{e.scopeSpans.forEach((e=>{const t=e.scope.name;if("@opentelemetry/instrumentation-document-load"===t||"@opentelemetry/instrumentation-fetch"===t||"@opentelemetry/instrumentation-xml-http-request"===t){const t=((e,t)=>{var r,n,o,i;const a=[];if(e){const s=e.spans||[];if(s.length>0)for(let c=0;c<s.length;c++){const u=s[c],l={name:"",endTimeUnixNano:0,startTimeUnixNano:0,duration:0,parentSpanId:"",spanId:"",traceId:"",sessionId:"",pageUrl:"",responseContentLength:0,statusCode:0},d=e.scope.name;l.name="@opentelemetry/instrumentation-fetch"===d?"fetch":"@opentelemetry/instrumentation-xml-http-request"===d?"xhr":u.name,["endTimeUnixNano","startTimeUnixNano","parentSpanId","spanId","traceId"].forEach((e=>{l[e]=u[e]})),l.duration=u.endTimeUnixNano-u.startTimeUnixNano,l.sessionId="",l.pageUrl="",l.responseContentLength=0;let _=!1;for(let e=0;e<u.attributes.length;e++){const a=u.attributes[e];if("http.url"===a.key&&(l.pageUrl=(null===(r=a.value)||void 0===r?void 0:r.stringValue)||"",t.some((e=>null!=l.pageUrl.match(e))))){_=!0;break}"session_id"===a.key&&(l.sessionId=(null===(n=a.value)||void 0===n?void 0:n.stringValue)||""),"http.response_content_length"===a.key&&(l.responseContentLength=(null===(o=a.value)||void 0===o?void 0:o.intValue)||0),"http.status_code"===a.key&&(l.statusCode=(null===(i=a.value)||void 0===i?void 0:i.intValue)||0)}_||a.push(l)}}return a})(e,this.ignoreUrls);t.forEach((e=>{this.faroInstance.api.pushLog([JSON.stringify(e)])}))}}))}))}}}var Bb=Uint8Array,jb=Uint16Array,Gb=Int32Array,xb=new Bb([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vb=new Bb([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kb=new Bb([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fb=function(e,t){for(var r=new jb(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var o=new Gb(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return{b:r,r:o}},Hb=Fb(xb,2),Kb=Hb.b,Xb=Hb.r;Kb[28]=258,Xb[258]=28;for(var Wb=Fb(Vb,0).r,Yb=new jb(32768),zb=0;zb<32768;++zb){var $b=(43690&zb)>>1|(21845&zb)<<1;$b=(61680&($b=(52428&$b)>>2|(13107&$b)<<2))>>4|(3855&$b)<<4,Yb[zb]=((65280&$b)>>8|(255&$b)<<8)>>1}var qb=function(e,t,r){for(var n=e.length,o=0,i=new jb(t);o<n;++o)e[o]&&++i[e[o]-1];var a,s=new jb(t);for(o=1;o<t;++o)s[o]=s[o-1]+i[o-1]<<1;if(r){a=new jb(1<<t);var c=15-t;for(o=0;o<n;++o)if(e[o])for(var u=o<<4|e[o],l=t-e[o],d=s[e[o]-1]++<<l,_=d|(1<<l)-1;d<=_;++d)a[Yb[d]>>c]=u}else for(a=new jb(n),o=0;o<n;++o)e[o]&&(a[o]=Yb[s[e[o]-1]++]>>15-e[o]);return a},Zb=new Bb(288);for(zb=0;zb<144;++zb)Zb[zb]=8;for(zb=144;zb<256;++zb)Zb[zb]=9;for(zb=256;zb<280;++zb)Zb[zb]=7;for(zb=280;zb<288;++zb)Zb[zb]=8;var Jb=new Bb(32);for(zb=0;zb<32;++zb)Jb[zb]=5;var Qb=qb(Zb,9,0),eN=qb(Jb,5,0),tN=function(e){return(e+7)/8|0},rN=function(e,t,r){return(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length),new Bb(e.subarray(t,r))},nN=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},oN=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},iN=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var o=r.length,i=r.slice();if(!o)return{t:_N,l:0};if(1==o){var a=new Bb(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort((function(e,t){return e.f-t.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,l=1,d=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};l!=o-1;)s=r[r[u].f<r[d].f?u++:d++],c=r[u!=l&&r[u].f<r[d].f?u++:d++],r[l++]={s:-1,f:s.f+c.f,l:s,r:c};var _=i[0].s;for(n=1;n<o;++n)i[n].s>_&&(_=i[n].s);var E=new jb(_+1),p=aN(r[l-1],E,0);if(p>t){n=0;var T=0,m=p-t,f=1<<m;for(i.sort((function(e,t){return E[t.s]-E[e.s]||e.f-t.f}));n<o;++n){var g=i[n].s;if(!(E[g]>t))break;T+=f-(1<<p-E[g]),E[g]=t}for(T>>=m;T>0;){var A=i[n].s;E[A]<t?T-=1<<t-E[A]++-1:++n}for(;n>=0&&T;--n){var S=i[n].s;E[S]==t&&(--E[S],++T)}p=t}return{t:new Bb(E),l:p}},aN=function(e,t,r){return-1==e.s?Math.max(aN(e.l,t,r+1),aN(e.r,t,r+1)):t[e.s]=r},sN=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new jb(++t),n=0,o=e[0],i=1,a=function(e){r[n++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return{c:r.subarray(0,n),n:t}},cN=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},uN=function(e,t,r){var n=r.length,o=tN(t+2);e[o]=255&n,e[o+1]=n>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<n;++i)e[o+i+4]=r[i];return 8*(o+4+n)},lN=function(e,t,r,n,o,i,a,s,c,u,l){nN(t,l++,r),++o[256];for(var d=iN(o,15),_=d.t,E=d.l,p=iN(i,15),T=p.t,m=p.l,f=sN(_),g=f.c,A=f.n,S=sN(T),O=S.c,h=S.n,v=new jb(19),y=0;y<g.length;++y)++v[31&g[y]];for(y=0;y<O.length;++y)++v[31&O[y]];for(var b=iN(v,7),N=b.t,P=b.l,R=19;R>4&&!N[kb[R-1]];--R);var I,C,M,L,D=u+5<<3,w=cN(o,Zb)+cN(i,Jb)+a,U=cN(o,_)+cN(i,T)+a+14+3*R+cN(v,N)+2*v[16]+3*v[17]+7*v[18];if(c>=0&&D<=w&&D<=U)return uN(t,l,e.subarray(c,c+u));if(nN(t,l,1+(U<w)),l+=2,U<w){I=qb(_,E,0),C=_,M=qb(T,m,0),L=T;var B=qb(N,P,0);nN(t,l,A-257),nN(t,l+5,h-1),nN(t,l+10,R-4),l+=14;for(y=0;y<R;++y)nN(t,l+3*y,N[kb[y]]);l+=3*R;for(var j=[g,O],G=0;G<2;++G){var x=j[G];for(y=0;y<x.length;++y){var V=31&x[y];nN(t,l,B[V]),l+=N[V],V>15&&(nN(t,l,x[y]>>5&127),l+=x[y]>>12)}}}else I=Qb,C=Zb,M=eN,L=Jb;for(y=0;y<s;++y){var k=n[y];if(k>255){oN(t,l,I[(V=k>>18&31)+257]),l+=C[V+257],V>7&&(nN(t,l,k>>23&31),l+=xb[V]);var F=31&k;oN(t,l,M[F]),l+=L[F],F>3&&(oN(t,l,k>>5&8191),l+=Vb[F])}else oN(t,l,I[k]),l+=C[k]}return oN(t,l,I[256]),l+C[256]},dN=new Gb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_N=new Bb(0),EN=function(e,t,r,n,o){if(!o&&(o={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),a=new Bb(i.length+e.length);a.set(i),a.set(e,i.length),e=a,o.w=i.length}return function(e,t,r,n,o,i){var a=i.z||e.length,s=new Bb(n+a+5*(1+Math.ceil(a/7e3))+o),c=s.subarray(n,s.length-o),u=i.l,l=7&(i.r||0);if(t){l&&(c[0]=i.r>>3);for(var d=dN[t-1],_=d>>13,E=8191&d,p=(1<<r)-1,T=i.p||new jb(32768),m=i.h||new jb(p+1),f=Math.ceil(r/3),g=2*f,A=function(t){return(e[t]^e[t+1]<<f^e[t+2]<<g)&p},S=new Gb(25e3),O=new jb(288),h=new jb(32),v=0,y=0,b=i.i||0,N=0,P=i.w||0,R=0;b+2<a;++b){var I=A(b),C=32767&b,M=m[I];if(T[C]=M,m[I]=C,P<=b){var L=a-b;if((v>7e3||N>24576)&&(L>423||!u)){l=lN(e,c,0,S,O,h,y,N,R,b-R,l),N=v=y=0,R=b;for(var D=0;D<286;++D)O[D]=0;for(D=0;D<30;++D)h[D]=0}var w=2,U=0,B=E,j=C-M&32767;if(L>2&&I==A(b-j))for(var G=Math.min(_,L)-1,x=Math.min(32767,b),V=Math.min(258,L);j<=x&&--B&&C!=M;){if(e[b+w]==e[b+w-j]){for(var k=0;k<V&&e[b+k]==e[b+k-j];++k);if(k>w){if(w=k,U=j,k>G)break;var F=Math.min(j,k-2),H=0;for(D=0;D<F;++D){var K=b-j+D&32767,X=K-T[K]&32767;X>H&&(H=X,M=K)}}}j+=(C=M)-(M=T[C])&32767}if(U){S[N++]=268435456|Xb[w]<<18|Wb[U];var W=31&Xb[w],Y=31&Wb[U];y+=xb[W]+Vb[Y],++O[257+W],++h[Y],P=b+w,++v}else S[N++]=e[b],++O[e[b]]}}for(b=Math.max(b,P);b<a;++b)S[N++]=e[b],++O[e[b]];l=lN(e,c,u,S,O,h,y,N,R,b-R,l),u||(i.r=7&l|c[l/8|0]<<3,l-=7,i.h=m,i.p=T,i.i=b,i.w=P)}else{for(b=i.w||0;b<a+u;b+=65535){var z=b+65535;z>=a&&(c[l/8|0]=u,z=a),l=uN(c,l+1,e.subarray(b,z))}i.i=a}return rN(s,0,n+tN(l)+o)}(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,o)};var pN="undefined"!=typeof TextEncoder&&new TextEncoder,TN="undefined"!=typeof TextDecoder&&new TextDecoder;try{TN.decode(_N,{stream:!0}),1}catch(e){}function mN(e,t){let r={meta:{},xApiToken:""};return r={...pf.getTransportBody(e),xApiToken:t||""},r}function fN(e){return function(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(function(e,t){return EN(e,t||{},0,0)}(function(e,t){if(t){for(var r=new Bb(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(pN)return pN.encode(e);var o=e.length,i=new Bb(e.length+(e.length>>1)),a=0,s=function(e){i[a++]=e};for(n=0;n<o;++n){if(a+5>i.length){var c=new Bb(a+8+(o-n<<1));c.set(i),i=c}var u=e.charCodeAt(n);u<128||t?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&e.charCodeAt(++n))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return rN(i,0,a)}(e)))}class gN extends d_.BaseTransport{constructor(e){var t,r,n,o;super(),this.name="@grafana/faro-web-sdk:transport-rum-fetch",this.version=d_.VERSION,this.disabledUntil=new Date,this.bufferFullCount=0,this.beaconFailed=!1,this.interval=null,this.sendPayloadUsingBeacon=(e,t,r)=>{let n=JSON.stringify(mN(e,t)),o=r;if(this.isPayloadTooLarge(n))try{n=fN(n),o=this.addQueryParamstoUrl(o)}catch(r){n=JSON.stringify(mN(e,t))}navigator.sendBeacon(o,n)||this.beaconFailed||(this.logWarn("Failed to send data using navigator.sendBeacon."),navigator.sendBeacon.toString().includes("NS_ERROR_CONTENT_BLOCKED")&&this.logWarn("NS_ERROR_CONTENT_BLOCKED may be the cause."),this.beaconFailed=!0)},this.sendPayloadUsingFetch=(e,t,r,n,o)=>this.promiseBuffer.add((()=>{let i=JSON.stringify(d_.getTransportBody(e)),a="application/json",s="json",c=r;if(this.isPayloadTooLarge(i)){try{i=fN(i),c=this.addQueryParamstoUrl(c)}catch(t){this.logWarn("Failed to compress data, sending uncompressed data."),i=JSON.stringify(d_.getTransportBody(e))}a="application/gzip",s="gzip"}return fetch(c,{method:"POST",headers:{"Content-Type":a,"Content-Encoding":s,...null!=n?n:{},...t?{"x-api-token":t}:{}},body:i,keepalive:!0,...null!=o?o:{}}).then((e=>(429===e.status&&(this.disabledUntil=this.getRetryAfterDate(e),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),e.text().catch(d_.noop),e))).catch((n=>{navigator.onLine&&"sendBeacon"in navigator&&this.sendPayloadUsingBeacon(e,t,r)}))})),this.sendBufferFullCount=e=>{var t;const r=d_.getTransportBody(e),n={measurements:[{context:{},timestamp:`${pf.getCurrentTimestamp()}`,type:"buffer_full",values:{bufferFullCount:this.bufferFullCount,transportbufferSize:null!==(t=this.options.bufferSize)&&void 0!==t?t:30}}],meta:null==r?void 0:r.meta,xApiToken:this.options.apiKey?this.options.apiKey:""};navigator.sendBeacon(this.options.url,JSON.stringify(n))},this.options=e,this.rateLimitBackoffMs=null!==(t=e.defaultRateLimitBackoffMs)&&void 0!==t?t:5e3,this.getNow=null!==(r=e.getNow)&&void 0!==r?r:()=>Date.now(),this.promiseBuffer=d_.createPromiseBuffer({size:null!==(n=e.bufferSize)&&void 0!==n?n:30,concurrency:null!==(o=e.concurrency)&&void 0!==o?o:5})}async send(e){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();const{url:t,requestOptions:r,apiKey:n,useSendBeacon:o}=this.options,{headers:i,...a}=null!=r?r:{};o?"sendBeacon"in navigator?this.sendPayloadUsingBeacon(e,null!=n?n:"",t):await this.sendPayloadUsingFetch(e,null!=n?n:"",t,i,a):this.sendPayloadUsingFetch(e,null!=n?n:"",t,i,a)}catch(t){if("sendBeacon"in navigator){this.bufferFullCount++;const t=this.options.notifyOnBufferFullLimit?this.options.notifyOnBufferFullLimit:5;if(this.bufferFullCount>=t)this.sendBufferFullCount(e),this.bufferFullCount=0,null!==this.interval&&clearInterval(this.interval);else{const t=setInterval((()=>{this.sendBufferFullCount(e),clearInterval(t)}),1e4);this.interval=t}}}}isPayloadTooLarge(e){return e.length>this.options.maxPayloadLengthForCompression}addQueryParamstoUrl(e){return`${e}?app=${this.options.appName}&rum-key=${this.options.apiKey}`}getIgnoreUrls(){return[this.options.url]}isBatched(){return!0}getRetryAfterDate(e){const t=this.getNow(),r=e.headers.get("Retry-After");if(r){const e=Number(r);if(!isNaN(e))return new Date(1e3*e+t);const n=Date.parse(r);if(!isNaN(n))return new Date(n)}return new Date(t+this.rateLimitBackoffMs)}}const AN={"Asia/Kabul":{countryName:"Afghanistan",countryCode:"AF",region:"Asia"},"Europe/Mariehamn":{countryName:"land Islands",countryCode:"AX",region:"Europe"},"Europe/Tirane":{countryName:"Albania",countryCode:"AL",region:"Europe"},"Africa/Algiers":{countryName:"Algeria",countryCode:"DZ",region:"Africa"},"Europe/Andorra":{countryName:"Andorra",countryCode:"AD",region:"Europe"},"Africa/Luanda":{countryName:"Angola",countryCode:"AO",region:"Africa"},"America/Anguilla":{countryName:"Anguilla",countryCode:"AI",region:"America"},"Antarctica/Casey":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Davis":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Mawson":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Palmer":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Rothera":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Troll":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Vostok":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/McMurdo":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/DumontDUrville":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"Antarctica/Syowa":{countryName:"Antarctica",countryCode:"AQ",region:"Antarctica"},"America/Antigua":{countryName:"Antigua & Barbuda",countryCode:"AG",region:"America"},"America/Argentina/Buenos_Aires":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Cordoba":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Salta":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Jujuy":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Tucuman":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Catamarca":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/La_Rioja":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/San_Juan":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Mendoza":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/San_Luis":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Rio_Gallegos":{countryName:"Argentina",countryCode:"AR",region:"America"},"America/Argentina/Ushuaia":{countryName:"Argentina",countryCode:"AR",region:"America"},"Asia/Yerevan":{countryName:"Armenia",countryCode:"AM",region:"Asia"},"America/Aruba":{countryName:"Aruba",countryCode:"AW",region:"America"},"Australia/Lord_Howe":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Antarctica/Macquarie":{countryName:"Australia",countryCode:"AU",region:"Antarctica"},"Australia/Hobart":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Melbourne":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Sydney":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Broken_Hill":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Brisbane":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Lindeman":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Adelaide":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Darwin":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Perth":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Australia/Eucla":{countryName:"Australia",countryCode:"AU",region:"Australia"},"Europe/Vienna":{countryName:"Austria",countryCode:"AT",region:"Europe"},"Asia/Baku":{countryName:"Azerbaijan",countryCode:"AZ",region:"Asia"},"America/Nassau":{countryName:"Bahamas",countryCode:"BS",region:"America"},"Asia/Bahrain":{countryName:"Bahrain",countryCode:"BH",region:"Asia"},"Asia/Dhaka":{countryName:"Bangladesh",countryCode:"BD",region:"Asia"},"America/Barbados":{countryName:"Barbados",countryCode:"BB",region:"America"},"Europe/Minsk":{countryName:"Belarus",countryCode:"BY",region:"Europe"},"Europe/Brussels":{countryName:"Belgium",countryCode:"BE",region:"Europe"},"America/Belize":{countryName:"Belize",countryCode:"BZ",region:"America"},"Africa/Porto-Novo":{countryName:"Benin",countryCode:"BJ",region:"Africa"},"Atlantic/Bermuda":{countryName:"Bermuda",countryCode:"BM",region:"Atlantic"},"Asia/Thimphu":{countryName:"Bhutan",countryCode:"BT",region:"Asia"},"America/La_Paz":{countryName:"Bolivia",countryCode:"BO",region:"America"},"Europe/Sarajevo":{countryName:"Bosnia & Herzegovina",countryCode:"BA",region:"Europe"},"Africa/Gaborone":{countryName:"Botswana",countryCode:"BW",region:"Africa"},"America/Noronha":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Belem":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Fortaleza":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Recife":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Araguaina":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Maceio":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Bahia":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Sao_Paulo":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Campo_Grande":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Cuiaba":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Santarem":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Porto_Velho":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Boa_Vista":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Manaus":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Eirunepe":{countryName:"Brazil",countryCode:"BR",region:"America"},"America/Rio_Branco":{countryName:"Brazil",countryCode:"BR",region:"America"},"Europe/London":{countryName:"Britain (UK)",countryCode:"GB",region:"Europe"},"Indian/Chagos":{countryName:"British Indian Ocean Territory",countryCode:"IO",region:"Indian"},"Asia/Brunei":{countryName:"Brunei",countryCode:"BN",region:"Asia"},"Europe/Sofia":{countryName:"Bulgaria",countryCode:"BG",region:"Europe"},"Africa/Ouagadougou":{countryName:"Burkina Faso",countryCode:"BF",region:"Africa"},"Africa/Bujumbura":{countryName:"Burundi",countryCode:"BI",region:"Africa"},"Asia/Phnom_Penh":{countryName:"Cambodia",countryCode:"KH",region:"Asia"},"Africa/Douala":{countryName:"Cameroon",countryCode:"CM",region:"Africa"},"America/St_Johns":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Halifax":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Glace_Bay":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Moncton":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Goose_Bay":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Toronto":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Nipigon":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Thunder_Bay":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Iqaluit":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Pangnirtung":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Winnipeg":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Rainy_River":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Resolute":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Rankin_Inlet":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Regina":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Swift_Current":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Edmonton":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Cambridge_Bay":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Yellowknife":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Inuvik":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Dawson_Creek":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Fort_Nelson":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Whitehorse":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Dawson":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Vancouver":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Blanc-Sablon":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Atikokan":{countryName:"Canada",countryCode:"CA",region:"America"},"America/Creston":{countryName:"Canada",countryCode:"CA",region:"America"},"Atlantic/Cape_Verde":{countryName:"Cape Verde",countryCode:"CV",region:"Atlantic"},"America/Kralendijk":{countryName:"Caribbean NL",countryCode:"BQ",region:"America"},"America/Cayman":{countryName:"Cayman Islands",countryCode:"KY",region:"America"},"Africa/Bangui":{countryName:"Central African Rep.",countryCode:"CF",region:"Africa"},"Africa/Ndjamena":{countryName:"Chad",countryCode:"TD",region:"Africa"},"America/Santiago":{countryName:"Chile",countryCode:"CL",region:"America"},"America/Punta_Arenas":{countryName:"Chile",countryCode:"CL",region:"America"},"Pacific/Easter":{countryName:"Chile",countryCode:"CL",region:"Pacific"},"Asia/Shanghai":{countryName:"China",countryCode:"CN",region:"Asia"},"Asia/Urumqi":{countryName:"China",countryCode:"CN",region:"Asia"},"Indian/Christmas":{countryName:"Christmas Island",countryCode:"CK",region:"Indian"},"Indian/Cocos":{countryName:"Cocos (Keeling) Islands",countryCode:"CC",region:"Indian"},"America/Bogota":{countryName:"Colombia",countryCode:"CO",region:"America"},"Indian/Comoro":{countryName:"Comoros",countryCode:"KM",region:"Indian"},"Africa/Kinshasa":{countryName:"Congo (Dem. Rep.)",countryCode:"CD",region:"Africa"},"Africa/Lubumbashi":{countryName:"Congo (Dem. Rep.)",countryCode:"CD",region:"Africa"},"Africa/Brazzaville":{countryName:"Congo (Rep.)",countryCode:"CG",region:"Africa"},"Pacific/Rarotonga":{countryName:"Cook Islands",countryCode:"CK",region:"Pacific"},"America/Costa_Rica":{countryName:"Costa Rica",countryCode:"CR",region:"America"},"Africa/Abidjan":{countryName:"Cte d'Ivoire",countryCode:"CI",region:"Africa"},"Europe/Zagreb":{countryName:"Croatia",countryCode:"HR",region:"Europe"},"America/Havana":{countryName:"Cuba",countryCode:"CU",region:"America"},"America/Curacao":{countryName:"Curaao",countryCode:"CW",region:"America"},"Asia/Nicosia":{countryName:"Cyprus",countryCode:"CY",region:"Asia"},"Asia/Famagusta":{countryName:"Cyprus",countryCode:"CY",region:"Asia"},"Europe/Prague":{countryName:"Czech Republic",countryCode:"CZ",region:"Europe"},"Europe/Copenhagen":{countryName:"Denmark",countryCode:"DK",region:"Europe"},"Africa/Djibouti":{countryName:"Djibouti",countryCode:"DJ",region:"Africa"},"America/Dominica":{countryName:"Dominica",countryCode:"DM",region:"America"},"America/Santo_Domingo":{countryName:"Dominican Republic",countryCode:"DO",region:"America"},"Asia/Dili":{countryName:"East Timor",countryCode:"TL",region:"Asia"},"America/Guayaquil":{countryName:"Ecuador",countryCode:"EC",region:"America"},"Pacific/Galapagos":{countryName:"Ecuador",countryCode:"EC",region:"Pacific"},"Africa/Cairo":{countryName:"Egypt",countryCode:"EG",region:"Africa"},"America/El_Salvador":{countryName:"El Salvador",countryCode:"SV",region:"America"},"Africa/Malabo":{countryName:"Equatorial Guinea",countryCode:"GQ",region:"Africa"},"Africa/Asmara":{countryName:"Eritrea",countryCode:"ER",region:"Africa"},"Europe/Tallinn":{countryName:"Estonia",countryCode:"EE",region:"Europe"},"Africa/Mbabane":{countryName:"Eswatini (Swaziland)",countryCode:"SZ",region:"Africa"},"Africa/Addis_Ababa":{countryName:"Ethiopia",countryCode:"ET",region:"Africa"},"Atlantic/Stanley":{countryName:"Falkland Islands",countryCode:"FK",region:"Atlantic"},"Atlantic/Faroe":{countryName:"Faroe Islands",countryCode:"FO",region:"Atlantic"},"Pacific/Fiji":{countryName:"Fiji",countryCode:"FJ",region:"Pacific"},"Europe/Helsinki":{countryName:"Finland",countryCode:"FI",region:"Europe"},"Europe/Paris":{countryName:"France",countryCode:"FR",region:"Europe"},"America/Cayenne":{countryName:"French Guiana",countryCode:"GF",region:"America"},"Pacific/Tahiti":{countryName:"French Polynesia",countryCode:"PF",region:"Pacific"},"Pacific/Marquesas":{countryName:"French Polynesia",countryCode:"PF",region:"Pacific"},"Pacific/Gambier":{countryName:"French Polynesia",countryCode:"PF",region:"Pacific"},"Indian/Kerguelen":{countryName:"French Southern & Antarctic Lands",countryCode:"TF",region:"Indian"},"Africa/Libreville":{countryName:"Gabon",countryCode:"GA",region:"Africa"},"Africa/Banjul":{countryName:"Gambia",countryCode:"GM",region:"Africa"},"Asia/Tbilisi":{countryName:"Georgia",countryCode:"GE",region:"Asia"},"Europe/Berlin":{countryName:"Germany",countryCode:"DE",region:"Europe"},"Europe/Busingen":{countryName:"Germany",countryCode:"DE",region:"Europe"},"Africa/Accra":{countryName:"Ghana",countryCode:"GH",region:"Africa"},"Europe/Gibraltar":{countryName:"Gibraltar",countryCode:"GI",region:"Europe"},"Europe/Athens":{countryName:"Greece",countryCode:"GR",region:"Europe"},"America/Nuuk":{countryName:"Greenland",countryCode:"GL",region:"America"},"America/Danmarkshavn":{countryName:"Greenland",countryCode:"GL",region:"America"},"America/Scoresbysund":{countryName:"Greenland",countryCode:"GL",region:"America"},"America/Thule":{countryName:"Greenland",countryCode:"GL",region:"America"},"America/Grenada":{countryName:"Grenada",countryCode:"GD",region:"America"},"America/Guadeloupe":{countryName:"Guadeloupe",countryCode:"GP",region:"America"},"Pacific/Guam":{countryName:"Guam",countryCode:"GU",region:"Pacific"},"America/Guatemala":{countryName:"Guatemala",countryCode:"GT",region:"America"},"Europe/Guernsey":{countryName:"Guernsey",countryCode:"GG",region:"Europe"},"Africa/Conakry":{countryName:"Guinea",countryCode:"GN",region:"Africa"},"Africa/Bissau":{countryName:"Guinea-Bissau",countryCode:"GW",region:"Africa"},"America/Guyana":{countryName:"Guyana",countryCode:"GY",region:"America"},"America/Port-au-Prince":{countryName:"Haiti",countryCode:"HT",region:"America"},"America/Tegucigalpa":{countryName:"Honduras",countryCode:"HN",region:"America"},"Asia/Hong_Kong":{countryName:"Hong Kong",countryCode:"HK",region:"Asia"},"Europe/Budapest":{countryName:"Hungary",countryCode:"HU",region:"Europe"},"Atlantic/Reykjavik":{countryName:"Iceland",countryCode:"IS",region:"Atlantic"},"Asia/Kolkata":{countryName:"India",countryCode:"IN",region:"Asia"},"Asia/Calcutta":{countryName:"India",countryCode:"IN",region:"Asia"},"Asia/Jakarta":{countryName:"Indonesia",countryCode:"ID",region:"Asia"},"Asia/Pontianak":{countryName:"Indonesia",countryCode:"ID",region:"Asia"},"Asia/Makassar":{countryName:"Indonesia",countryCode:"ID",region:"Asia"},"Asia/Jayapura":{countryName:"Indonesia",countryCode:"ID",region:"Asia"},"Asia/Tehran":{countryName:"Iran",countryCode:"IR",region:"Asia"},"Asia/Baghdad":{countryName:"Iraq",countryCode:"IQ",region:"Asia"},"Europe/Dublin":{countryName:"Ireland",countryCode:"IE",region:"Europe"},"Europe/Isle_of_Man":{countryName:"Isle of Man",countryCode:"IM",region:"Europe"},"Asia/Jerusalem":{countryName:"Israel",countryCode:"IL",region:"Asia"},"Europe/Rome":{countryName:"Italy",countryCode:"IT",region:"Europe"},"America/Jamaica":{countryName:"Jamaica",countryCode:"JM",region:"America"},"Asia/Tokyo":{countryName:"Japan",countryCode:"JP",region:"Asia"},"Europe/Jersey":{countryName:"Jersey",countryCode:"JE",region:"Europe"},"Asia/Amman":{countryName:"Jordan",countryCode:"JO",region:"Asia"},"Asia/Almaty":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Qyzylorda":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Qostanay":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Aqtobe":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Aqtau":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Atyrau":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Asia/Oral":{countryName:"Kazakhstan",countryCode:"KZ",region:"Asia"},"Africa/Nairobi":{countryName:"Kenya",countryCode:"KE",region:"Africa"},"Pacific/Tarawa":{countryName:"Kiribati",countryCode:"KI",region:"Pacific"},"Pacific/Kanton":{countryName:"Kiribati",countryCode:"KI",region:"Pacific"},"Pacific/Kiritimati":{countryName:"Kiribati",countryCode:"KI",region:"Pacific"},"Asia/Pyongyang":{countryName:"Korea (North)",countryCode:"KP",region:"Asia"},"Asia/Seoul":{countryName:"Korea (South)",countryCode:"KR",region:"Asia"},"Asia/Kuwait":{countryName:"Kuwait",countryCode:"KW",region:"Asia"},"Asia/Bishkek":{countryName:"Kyrgyzstan",countryCode:"KG",region:"Asia"},"Asia/Vientiane":{countryName:"Laos",countryCode:"LA",region:"Asia"},"Europe/Riga":{countryName:"Latvia",countryCode:"LV",region:"Europe"},"Asia/Beirut":{countryName:"Lebanon",countryCode:"LB",region:"Asia"},"Africa/Maseru":{countryName:"Lesotho",countryCode:"LS",region:"Africa"},"Africa/Monrovia":{countryName:"Liberia",countryCode:"LR",region:"Africa"},"Africa/Tripoli":{countryName:"Libya",countryCode:"LY",region:"Africa"},"Europe/Vaduz":{countryName:"Liechtenstein",countryCode:"LI",region:"Europe"},"Europe/Vilnius":{countryName:"Lithuania",countryCode:"LT",region:"Europe"},"Europe/Luxembourg":{countryName:"Luxembourg",countryCode:"LU",region:"Europe"},"Asia/Macau":{countryName:"Macau",countryCode:"MO",region:"Asia"},"Indian/Antananarivo":{countryName:"Madagascar",countryCode:"MG",region:"Indian"},"Africa/Blantyre":{countryName:"Malawi",countryCode:"MW",region:"Africa"},"Asia/Kuala_Lumpur":{countryName:"Malaysia",countryCode:"MY",region:"Asia"},"Asia/Kuching":{countryName:"Malaysia",countryCode:"MY",region:"Asia"},"Indian/Maldives":{countryName:"Maldives",countryCode:"MV",region:"Indian"},"Africa/Bamako":{countryName:"Mali",countryCode:"ML",region:"Africa"},"Europe/Malta":{countryName:"Malta",countryCode:"MT",region:"Europe"},"Pacific/Majuro":{countryName:"Marshall Islands",countryCode:"MH",region:"Pacific"},"Pacific/Kwajalein":{countryName:"Marshall Islands",countryCode:"MH",region:"Pacific"},"America/Martinique":{countryName:"Martinique",countryCode:"MQ",region:"America"},"Africa/Nouakchott":{countryName:"Mauritania",countryCode:"MR",region:"Africa"},"Indian/Mauritius":{countryName:"Mauritius",countryCode:"MU",region:"Indian"},"Indian/Mayotte":{countryName:"Mayotte",countryCode:"YT",region:"Indian"},"America/Mexico_City":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Cancun":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Merida":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Monterrey":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Matamoros":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Mazatlan":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Chihuahua":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Ojinaga":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Hermosillo":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Tijuana":{countryName:"Mexico",countryCode:"MX",region:"America"},"America/Bahia_Banderas":{countryName:"Mexico",countryCode:"MX",region:"America"},"Pacific/Chuuk":{countryName:"Micronesia",countryCode:"FM",region:"Pacific"},"Pacific/Pohnpei":{countryName:"Micronesia",countryCode:"FM",region:"Pacific"},"Pacific/Kosrae":{countryName:"Micronesia",countryCode:"FM",region:"Pacific"},"Europe/Chisinau":{countryName:"Moldova",countryCode:"MD",region:"Europe"},"Europe/Monaco":{countryName:"Monaco",countryCode:"MC",region:"Europe"},"Asia/Ulaanbaatar":{countryName:"Mongolia",countryCode:"MN",region:"Asia"},"Asia/Hovd":{countryName:"Mongolia",countryCode:"MN",region:"Asia"},"Asia/Choibalsan":{countryName:"Mongolia",countryCode:"MN",region:"Asia"},"Europe/Podgorica":{countryName:"Montenegro",countryCode:"ME",region:"Europe"},"America/Montserrat":{countryName:"Montserrat",countryCode:"MS",region:"America"},"Africa/Casablanca":{countryName:"Morocco",countryCode:"MA",region:"Africa"},"Africa/Maputo":{countryName:"Mozambique",countryCode:"MZ",region:"Africa"},"Asia/Yangon":{countryName:"Myanmar (Burma)",countryCode:"MM",region:"Asia"},"Africa/Windhoek":{countryName:"Namibia",countryCode:"NA",region:"Africa"},"Pacific/Nauru":{countryName:"Nauru",countryCode:"NR",region:"Pacific"},"Asia/Kathmandu":{countryName:"Nepal",countryCode:"NP",region:"Asia"},"Europe/Amsterdam":{countryName:"Netherlands",countryCode:"NL",region:"Europe"},"Pacific/Noumea":{countryName:"New Caledonia",countryCode:"NC",region:"Pacific"},"Pacific/Auckland":{countryName:"New Zealand",countryCode:"NZ",region:"Pacific"},"Pacific/Chatham":{countryName:"New Zealand",countryCode:"NZ",region:"Pacific"},"America/Managua":{countryName:"Nicaragua",countryCode:"NI",region:"America"},"Africa/Niamey":{countryName:"Niger",countryCode:"NE",region:"Africa"},"Africa/Lagos":{countryName:"Nigeria",countryCode:"NG",region:"Africa"},"Pacific/Niue":{countryName:"Niue",countryCode:"NU",region:"Pacific"},"Pacific/Norfolk":{countryName:"Norfolk Island",countryCode:"NF",region:"Pacific"},"Europe/Skopje":{countryName:"North Macedonia",countryCode:"MK",region:"Europe"},"Pacific/Saipan":{countryName:"Northern Mariana Islands",countryCode:"MP",region:"Pacific"},"Europe/Oslo":{countryName:"Norway",countryCode:"NO",region:"Europe"},"Asia/Muscat":{countryName:"Oman",countryCode:"OM",region:"Asia"},"Asia/Karachi":{countryName:"Pakistan",countryCode:"PK",region:"Asia"},"Pacific/Palau":{countryName:"Palau",countryCode:"PW",region:"Pacific"},"Asia/Gaza":{countryName:"Palestine",countryCode:"PS",region:"Asia"},"Asia/Hebron":{countryName:"Palestine",countryCode:"PS",region:"Asia"},"America/Panama":{countryName:"Panama",countryCode:"PA",region:"America"},"Pacific/Port_Moresby":{countryName:"Papua New Guinea",countryCode:"PG",region:"Pacific"},"Pacific/Bougainville":{countryName:"Papua New Guinea",countryCode:"PG",region:"Pacific"},"America/Asuncion":{countryName:"Paraguay",countryCode:"PY",region:"America"},"America/Lima":{countryName:"Peru",countryCode:"PE",region:"America"},"Asia/Manila":{countryName:"Philippines",countryCode:"PH",region:"Asia"},"Pacific/Pitcairn":{countryName:"Pitcairn",countryCode:"PN",region:"Pacific"},"Europe/Warsaw":{countryName:"Poland",countryCode:"PL",region:"Europe"},"Europe/Lisbon":{countryName:"Portugal",countryCode:"PT",region:"Europe"},"Atlantic/Madeira":{countryName:"Portugal",countryCode:"PT",region:"Atlantic"},"Atlantic/Azores":{countryName:"Portugal",countryCode:"PT",region:"Atlantic"},"America/Puerto_Rico":{countryName:"Puerto Rico",countryCode:"PR",region:"America"},"Asia/Qatar":{countryName:"Qatar",countryCode:"QA",region:"Asia"},"Indian/Reunion":{countryName:"Runion",countryCode:"RE",region:"Indian"},"Europe/Bucharest":{countryName:"Romania",countryCode:"RO",region:"Europe"},"Europe/Kaliningrad":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Moscow":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Simferopol":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Kirov":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Volgograd":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Astrakhan":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Saratov":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Ulyanovsk":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Europe/Samara":{countryName:"Russia",countryCode:"RU",region:"Europe"},"Asia/Yekaterinburg":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Omsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Novosibirsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Barnaul":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Tomsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Novokuznetsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Krasnoyarsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Irkutsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Chita":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Yakutsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Khandyga":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Vladivostok":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Ust-Nera":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Magadan":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Sakhalin":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Srednekolymsk":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Kamchatka":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Asia/Anadyr":{countryName:"Russia",countryCode:"RU",region:"Asia"},"Africa/Kigali":{countryName:"Rwanda",countryCode:"RW",region:"Africa"},"Pacific/Pago_Pago":{countryName:"Samoa (American)",countryCode:"AS",region:"Pacific"},"Pacific/Apia":{countryName:"Samoa (western)",countryCode:"WS",region:"Pacific"},"Europe/San_Marino":{countryName:"San Marino",countryCode:"SM",region:"Europe"},"Africa/Sao_Tome":{countryName:"Sao Tome & Principe",countryCode:"ST",region:"Africa"},"Asia/Riyadh":{countryName:"Saudi Arabia",countryCode:"SA",region:"Asia"},"Africa/Dakar":{countryName:"Senegal",countryCode:"SN",region:"Africa"},"Europe/Belgrade":{countryName:"Serbia",countryCode:"RS",region:"Europe"},"Indian/Mahe":{countryName:"Seychelles",countryCode:"SC",region:"Indian"},"Africa/Freetown":{countryName:"Sierra Leone",countryCode:"SL",region:"Africa"},"Asia/Singapore":{countryName:"Singapore",countryCode:"SG",region:"Asia"},"Europe/Bratislava":{countryName:"Slovakia",countryCode:"SK",region:"Europe"},"Europe/Ljubljana":{countryName:"Slovenia",countryCode:"SI",region:"Europe"},"Pacific/Guadalcanal":{countryName:"Solomon Islands",countryCode:"SB",region:"Pacific"},"Africa/Mogadishu":{countryName:"Somalia",countryCode:"SO",region:"Africa"},"Africa/Johannesburg":{countryName:"South Africa",countryCode:"ZA",region:"Africa"},"Atlantic/South_Georgia":{countryName:"South Georgia & the South Sandwich Islands",countryCode:"GS",region:"Atlantic"},"Africa/Juba":{countryName:"South Sudan",countryCode:"SS",region:"Africa"},"Europe/Madrid":{countryName:"Spain",countryCode:"ES",region:"Europe"},"Africa/Ceuta":{countryName:"Spain",countryCode:"ES",region:"Africa"},"Atlantic/Canary":{countryName:"Spain",countryCode:"ES",region:"Atlantic"},"Asia/Colombo":{countryName:"Sri Lanka",countryCode:"LK",region:"Asia"},"America/St_Barthelemy":{countryName:"St Barthelemy",countryCode:"BL",region:"America"},"Atlantic/St_Helena":{countryName:"St Helena",countryCode:"SH",region:"Atlantic"},"America/St_Kitts":{countryName:"St Kitts & Nevis",countryCode:"KN",region:"America"},"America/St_Lucia":{countryName:"St Lucia",countryCode:"LC",region:"America"},"America/Lower_Princes":{countryName:"St Maarten (Dutch)",countryCode:"SX",region:"America"},"America/Marigot":{countryName:"St Martin (French)",countryCode:"MF",region:"America"},"America/Miquelon":{countryName:"St Pierre & Miquelon",countryCode:"PM",region:"America"},"America/St_Vincent":{countryName:"St Vincent",countryCode:"VC",region:"America"},"Africa/Khartoum":{countryName:"Sudan",countryCode:"SD",region:"Africa"},"America/Paramaribo":{countryName:"Suriname",countryCode:"SR",region:"America"},"Arctic/Longyearbyen":{countryName:"Svalbard & Jan Mayen",countryCode:"SJ",region:"Arctic"},"Europe/Stockholm":{countryName:"Sweden",countryCode:"SE",region:"Europe"},"Europe/Zurich":{countryName:"Switzerland",countryCode:"CH",region:"Europe"},"Asia/Damascus":{countryName:"Syria",countryCode:"SY",region:"Asia"},"Asia/Taipei":{countryName:"Taiwan",countryCode:"TW",region:"Asia"},"Asia/Dushanbe":{countryName:"Tajikistan",countryCode:"TJ",region:"Asia"},"Africa/Dar_es_Salaam":{countryName:"Tanzania",countryCode:"TZ",region:"Africa"},"Asia/Bangkok":{countryName:"Thailand",countryCode:"TH",region:"Asia"},"Africa/Lome":{countryName:"Togo",countryCode:"TG",region:"Africa"},"Pacific/Fakaofo":{countryName:"Tokelau",countryCode:"TK",region:"Pacific"},"Pacific/Tongatapu":{countryName:"Tonga",countryCode:"TO",region:"Pacific"},"America/Port_of_Spain":{countryName:"Trinidad & Tobago",countryCode:"TT",region:"America"},"Africa/Tunis":{countryName:"Tunisia",countryCode:"TN",region:"Africa"},"Europe/Istanbul":{countryName:"Turkey",countryCode:"TR",region:"Europe"},"Asia/Ashgabat":{countryName:"Turkmenistan",countryCode:"TM",region:"Asia"},"America/Grand_Turk":{countryName:"Turks & Caicos Is",countryCode:"TC",region:"America"},"Pacific/Funafuti":{countryName:"Tuvalu",countryCode:"TV",region:"Pacific"},"Africa/Kampala":{countryName:"Uganda",countryCode:"UG",region:"Africa"},"Europe/Kiev":{countryName:"Ukraine",countryCode:"UA",region:"Europe"},"Europe/Uzhgorod":{countryName:"Ukraine",countryCode:"UA",region:"Europe"},"Europe/Zaporozhye":{countryName:"Ukraine",countryCode:"UA",region:"Europe"},"Asia/Dubai":{countryName:"United Arab Emirates",countryCode:"AE",region:"Asia"},"America/New_York":{countryName:"United States",countryCode:"US",region:"America"},"America/Detroit":{countryName:"United States",countryCode:"US",region:"America"},"America/Kentucky/Louisville":{countryName:"United States",countryCode:"US",region:"America"},"America/Kentucky/Monticello":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Indianapolis":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Vincennes":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Winamac":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Marengo":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Petersburg":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Vevay":{countryName:"United States",countryCode:"US",region:"America"},"America/Chicago":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Tell_City":{countryName:"United States",countryCode:"US",region:"America"},"America/Indiana/Knox":{countryName:"United States",countryCode:"US",region:"America"},"America/Menominee":{countryName:"United States",countryCode:"US",region:"America"},"America/North_Dakota/Center":{countryName:"United States",countryCode:"US",region:"America"},"America/North_Dakota/New_Salem":{countryName:"United States",countryCode:"US",region:"America"},"America/North_Dakota/Beulah":{countryName:"United States",countryCode:"US",region:"America"},"America/Denver":{countryName:"United States",countryCode:"US",region:"America"},"America/Boise":{countryName:"United States",countryCode:"US",region:"America"},"America/Phoenix":{countryName:"United States",countryCode:"US",region:"America"},"America/Los_Angeles":{countryName:"United States",countryCode:"US",region:"America"},"America/Anchorage":{countryName:"United States",countryCode:"US",region:"America"},"America/Juneau":{countryName:"United States",countryCode:"US",region:"America"},"America/Sitka":{countryName:"United States",countryCode:"US",region:"America"},"America/Metlakatla":{countryName:"United States",countryCode:"US",region:"America"},"America/Yakutat":{countryName:"United States",countryCode:"US",region:"America"},"America/Nome":{countryName:"United States",countryCode:"US",region:"America"},"America/Adak":{countryName:"United States",countryCode:"US",region:"America"},"Pacific/Honolulu":{countryName:"United States",countryCode:"US",region:"Pacific"},"America/Montevideo":{countryName:"Uruguay",countryCode:"UY",region:"America"},"Pacific/Wake":{countryName:"US minor outlying islands",countryCode:"UM",region:"Pacific"},"Pacific/Midway":{countryName:"US minor outlying islands",countryCode:"UM",region:"Pacific"},"Asia/Samarkand":{countryName:"Uzbekistan",countryCode:"UZ",region:"Asia"},"Asia/Tashkent":{countryName:"Uzbekistan",countryCode:"UZ",region:"Asia"},"Pacific/Efate":{countryName:"Vanuatu",countryCode:"VU",region:"Pacific"},"Europe/Vatican":{countryName:"Vatican City",countryCode:"VA",region:"Europe"},"America/Caracas":{countryName:"Venezuela",countryCode:"VE",region:"America"},"Asia/Ho_Chi_Minh":{countryName:"Vietnam",countryCode:"VN",region:"Asia"},"Asia/Saigon":{countryName:"Vietnam",countryCode:"VN",region:"Asia"},"America/Tortola":{countryName:"Virgin Islands (UK)",countryCode:"VG",region:"America"},"America/St_Thomas":{countryName:"Virgin Islands (US)",countryCode:"VI",region:"America"},"Pacific/Wallis":{countryName:"Wallis & Futuna",countryCode:"WF",region:"Pacific"},"Africa/El_Aaiun":{countryName:"Western Sahara",countryCode:"EH",region:"Africa"},"Asia/Aden":{countryName:"Yemen",countryCode:"YE",region:"Asia"},"Africa/Lusaka":{countryName:"Zambia",countryCode:"ZM",region:"Africa"},"Africa/Harare":{countryName:"Zimbabwe",countryCode:"ZW",region:"Africa"}},SN=(d_.defaultBatchingConfig,{enabled:!0,persistent:!0,maxSessionPersistenceTime:3e5}),ON={documentload:!0,xhr:!0,fetch:!0,interactions:!0,webvitals:!0,console:!0,errors:!0},hN=(e,t,r)=>{const o=[],i=e.ignoreUrls?e.ignoreUrls:[],a=e.propagateTraceHeaderCorsUrls?e.propagateTraceHeaderCorsUrls:[];let s=ON;i.push(r),e.instrumentations&&(s={...s,...e.instrumentations});const{documentload:c,xhr:u,fetch:l,interactions:d}={...s};u&&o.push(new Kc.XMLHttpRequestInstrumentation({ignoreUrls:i,propagateTraceHeaderCorsUrls:a})),l&&o.push(new nc.FetchInstrumentation({ignoreUrls:i,propagateTraceHeaderCorsUrls:a})),c&&o.push(new Er.DocumentLoadInstrumentation),d&&("object"==typeof d&&"eventNames"in d?o.push(new mc.UserInteractionInstrumentation({eventNames:d.eventNames})):o.push(new mc.UserInteractionInstrumentation)),n.registerInstrumentations({instrumentations:o})};e.RumInit=e=>{var t,r,n,o,a,s,c,u,l,d,_,E,p,T;const m=[],{app:f={name:"rum-web-sdk",version:"1.0.0",environment:"prod"},dedupe:g=!1,debug:A=!1,traceLog:S=!1,sso_user:O=!0,isolate:h=!1,transportBufferSize:v=30,rateLimitBackoffMs:y=5e3,useSendBeacon:b=!1,metas:N=[],spanLimitInTrace:P=10,scheduledDelayInTrace:R=5e3,maxPayloadLengthForCompression:I=4e4}=e;A&&m.push(new pf.ConsoleTransport);const C=e.collectorUrl||"https://argus.maersk.io/collect",M=(null===(t=e.sessionSampler)||void 0===t?void 0:t.ratio)||1;Math.random()<M&&m.push(new gN({url:C,apiKey:e.apiKey,useSendBeacon:b,bufferSize:v,defaultRateLimitBackoffMs:y,notifyOnBufferFullLimit:e.notifyOnBufferFullLimit,maxPayloadLengthForCompression:I,appName:f.name}));const L=Intl.DateTimeFormat().resolvedOptions().timeZone,D=AN[L],{countryName:w="N/A",countryCode:U="N/A",region:B="N/A"}=D||{},j={timezone:L,country:w,countryCode:U,region:B,rum_verison:"3.0.0"},G=pf.initializeFaro({app:f,dedupe:g,isolate:h,beforeSend:null!==(r=e.beforeSend)&&void 0!==r?r:void 0,ignoreErrors:null!==(n=e.ignoreErrors)&&void 0!==n?n:void 0,batching:{...d_.defaultBatchingConfig,...e.batching},instrumentations:[...(e=>{let t=ON;e.instrumentations&&(t={...t,...e.instrumentations});const{errors:r,webvitals:n,console:o}={...t},i=[];return r&&i.push(new pf.ErrorsInstrumentation),n&&i.push(new pf.WebVitalsInstrumentation),o&&("object"==typeof o&&"disabledLevels"in o?i.push(new pf.ConsoleInstrumentation({disabledLevels:o.disabledLevels})):i.push(new pf.ConsoleInstrumentation)),i})(e),new pf.SessionInstrumentation,new pf.ViewInstrumentation],transports:m,metas:[pf.browserMeta,pf.pageMeta,...N],sessionTracking:{enabled:null!==(a=null===(o=e.sessionTracking)||void 0===o?void 0:o.enabled)&&void 0!==a?a:null===(s=SN)||void 0===s?void 0:s.enabled,persistent:null!==(u=null===(c=e.sessionTracking)||void 0===c?void 0:c.persistent)&&void 0!==u?u:null===(l=SN)||void 0===l?void 0:l.persistent,maxSessionPersistenceTime:null!==(_=null===(d=e.sessionTracking)||void 0===d?void 0:d.maxSessionPersistenceTime)&&void 0!==_?_:null===(E=SN)||void 0===E?void 0:E.maxSessionPersistenceTime,session:pf.createSession({...j}),onSessionChange:null!==(T=null===(p=e.sessionTracking)||void 0===p?void 0:p.onSessionChange)&&void 0!==T?T:void 0}});if(S&&G.transports.add(...m,new Ub(G,e.ignoreUrls?e.ignoreUrls:[])),O){let e="";const t=window.sessionStorage||"";if(t){const r=/"homeAccountId":"[-\w.]*"/gm;for(const n in t)if(t[n]){const o=t[n].toString().match(r);if(o){e=(o[0].split(":")[1]||"").replace(/['"]+/g,"");break}}}G.api.setUser({id:e})}const{name:x,version:V}=f,k=n_.Resource.default().merge(new n_.Resource({[bn.SemanticResourceAttributes.SERVICE_NAME]:x,[bn.SemanticResourceAttributes.SERVICE_VERSION]:V}));e.performanceInstrument&&((e,t)=>{const r=new PerformanceObserver((r=>{r.getEntries().forEach((r=>{const{name:n,duration:o,entryType:i,startTime:a}=r;let s=!1;if(t.forEach((e=>{new RegExp(e).test(n)&&(s=!0)})),!s){const t={name:n,duration:o,entryType:i,startTime:performance.timeOrigin+a,endTime:performance.timeOrigin+a+o};e.api.pushLog([JSON.stringify(t)]),"measure"===i&&e.api.pushMeasurement({type:"performance-measure",values:{[n]:o}})}}))}));r.observe({entryTypes:["mark","measure"]})})(G,e.performanceInstrument.ignoreEvents||[]);const F=new Wo.WebTracerProvider({resource:k});return F.addSpanProcessor(new wb(new o_.BatchSpanProcessor(new Db({api:G.api}),{scheduledDelayMillis:R,maxExportBatchSize:P}),G.metas,e.ignoreUrls||[])),F.register({propagator:new Tr.W3CTraceContextPropagator,contextManager:new Wo.StackContextManager}),hN(e,0,C),G.api.initOTEL(i.trace,i.context),G},e.otelInstrumentationInit=hN}));
